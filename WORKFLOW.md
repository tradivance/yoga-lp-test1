# マスターワークフローガイド

このドキュメントは、LP（ランディングページ）を効率的に構築するための標準ワークフローをまとめたものです。モジュール性、安全性、メンテナンスのしやすさを重視しています。

## 1. プロジェクトセットアップとリファレンス管理
**目的**: Gitリポジトリを肥大化させずに、容量の大きなリファレンスファイルをローカルで管理する。

1.  **リファレンスフォルダ**:
    *   重いデザインファイル（画像、PDF、スクリーンショットなど）はすべてプロジェクトルートの `referrence/` ディレクトリに配置します。
    *   **Gitの安全性（重要）**: `.gitignore` ファイルを開き、必ず以下の1行を追記してください。
        ```
        referrence/
        ```
        これにより、重いファイルがGitHubやVercelにプッシュされる事故を防げます。
    *   **基本フォルダ構成案**:
        *   `referrence/designs/`: **設計図**（どう作るかの見本）。ページ全体のスクショや、セクションごとのデザイン画。
        *   `referrence/assets/`: **素材**（実際にサイトに表示する画像）。ロゴ、背景写真、アイコンなど。
    *   **指案例**:
        *   「`referrence/designs/hero_design.png` のデザイン通りに作って」→ **デザイン指示**として認識します。
        *   「`referrence/assets/logo.png` をヘッダーに配置して」→ **素材**として認識します。
    *   **推奨ファイル例**:
        *   `referrence/PC_Design.png` (PC版全体デザイン)
        *   `referrence/SP_Design.png` (スマホ版全体デザイン)
        *   `referrence/Section_Hero.png` (特定のセクションのみの切り出し)
        *   `referrence/assets/` (ロゴやアイコンなどの素材フォルダ)

## 2. 計画とディレクトリ構成
**目的**: コードを書く前にLPの構造を定義し、モジュール性を確保する。

### ステップ 2.1: セクション分解
リファレンスデザインを分析し、水平方向の「セクション」に分解します。
*   *例*: ヒーロー（Hero）、特徴（Features）、料金（Pricing）、Q&A、フッター（Footer）。

### ステップ 2.2: コンポーネントディレクトリの作成
各セクション用のフォルダを `src/components/sections/` に作成します。
**基本ルール**: 各セクションは独自の構造（`index.tsx`）とスタイル（`styles.module.css`）を持ち、自己完結させてください。これにより、他のLPへのコピー＆ペーストが容易になります。

**推奨構造**:
```
src/
  components/
    sections/
      Hero/
        index.tsx          <-- Hero固有のロジックとHTML構造
        styles.module.css  <-- Hero固有のCSS
      Features/
        index.tsx
        styles.module.css
      ...
```

## 3. 実装プロセス
**目的**: セクションを順次構築する。

### ステップ 3.1: 土台作成
セクション用のファイルを作成します。
*   **対象**: `src/components/sections/[セクション名]/index.tsx`
*   **アクション**: ユニークな `className` またはIDを持つ `<section>` や `<div>` を返す関数コンポーネントを作成し、CSSモジュールをインポートします。

### ステップ 3.2: スタイリング（HTML/CSS分離アプローチ）
そのセクション専用の `styles.module.css` にCSSを記述します。
*   **メリット**: `.container` や `.title` のようなシンプルなクラス名を使っても、他のセクションと競合する心配がありません。
*   **再利用**: このデザインを別のプロジェクトで使いたい場合は、`[セクション名]` フォルダごとコピーするだけで済みます。

#### Q&A: 全体統一のCSSと分けるCSSの使い分け
**全体（`src/app/globals.css`）で管理すべきもの**:
*   **デザイン変数**: カラーパレット（`--primary-color`）、フォント、基本的なスペーシング。
*   **ユーティリティ**: 共通のボタンデザイン、コンテナの最大幅（`.container-max-width`）。
*   理由: これらはサイト全体で統一感を持たせるために共有する必要があります。

**セクション（`styles.module.css`）で管理すべきもの**:
*   **レイアウト**: そのセクション独自の配置（GridやFlexの複雑な組み方）。
*   **装飾**: そのセクションでしか使わない背景画像や特殊なあしらい。
*   理由: これらを全体CSSに書くと、他のページに影響を与えたり、修正が怖くて触れなくなったりします。基本は「分けて」作り、どうしても共通化したい部分だけを吸い上げるのが安全です。

### ステップ 3.3: 画像の扱い
1.  **開発中**: 一時的にローカル画像やプレースホルダーを使用できます。
2.  **仕上げ**: 画像をホスト（Notion、Cloudinary、または `public` フォルダ）にアップロードし、デプロイ前に `<img>` タグの `src` を差し替えます。

## 4. 統合
**目的**: ページを組み立てる。

1.  `src/app/page.tsx` を開きます。
2.  セクションをインポートします:
    ```tsx
    import Hero from '@/components/sections/Hero';
    import Features from '@/components/sections/Features';
    ```
3.  ページを構成します:
    ```tsx
    export default function Home() {
      return (
        <main>
          <Hero />
          <Features />
          {/* ... その他のセクション */}
        </main>
      );
    }
    ```

## 5. デプロイ
**目的**: 本番環境へプッシュする。

1.  **確認**: `public/` に重いファイルがないか（最適化済みを除く）、`referrence/` が無視されているか確認します。
2.  **プッシュ**: `git add .`, `git commit -m "feat: add hero section"`, `git push`。
3.  **Vercel**: 自動的にビルドとデプロイが行われます。

## 6. AIアシスタントとの協業
AI（私）に作業を依頼する際は、以下の情報を伝えてください：
1. **リファレンス**: `referrence/` フォルダ内のどのファイルを参照するか（例: `referrence/fv.png`）。
2. **ルール確認**: 「`WORKFLOW.md` に沿って作って」と一言添えるだけで、このドキュメントの構成ルール（コンポーネント分割、CSS Modulesなど）を遵守します。

---


## ベストプラクティスチェックリスト
- [ ] **1セクション、1フォルダ**: セクションに関連するものはすべてそのフォルダ内に収める。
- [ ] **CSS Modules**: グローバルなスタイルの汚染を防ぐため、常に `styles.module.css` を使用する。
- [ ] **モバイルファースト**: モバイルビュー用のCSSを先に書き、デスクトップ用にはメディアクエリ（`@media (min-width: ...)`）を使用する。
