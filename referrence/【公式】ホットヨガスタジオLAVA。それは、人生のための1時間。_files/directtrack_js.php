(function(){
var uqid = (typeof(uqid) !== 'undefined') ? uqid : "3336b12m6Zm6a225";
var AFAD_directTrack=(function(){var k=Object.defineProperty;var j=Object.getOwnPropertyDescriptor;var L=Object.getOwnPropertyNames;var G=Object.prototype.hasOwnProperty;var O=function(r,a){for(var e in a)k(r,e,{get:a[e],enumerable:!0})},U=function(r,a,e,t){if(a&&typeof a=="object"||typeof a=="function")for(var n=L(a),i=0,u=n.length,c;i<u;i++)c=n[i],!G.call(r,c)&&c!==e&&k(r,c,{get:function(s){return a[s]}.bind(null,c),enumerable:!(t=j(a,c))||t.enumerable});return r};var F=function(r){return U(k({},"__esModule",{value:!0}),r)};var J={};O(J,{directTrack:function(){return B}});function d(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function l(r){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},l(r)}function b(r,a){if(l(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var t=e.call(r,a||"default");if(l(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}function x(r){var a=b(r,"string");return l(a)=="symbol"?a:a+""}function D(r,a){for(var e=0;e<a.length;e++){var t=a[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,x(t.key),t)}}function h(r,a,e){return a&&D(r.prototype,a),e&&D(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}var N=function(){function r(){d(this,r)}return h(r,[{key:"getItem",value:function(e){return!e||!this.hasItem(e)?null:unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1"))}},{key:"setItem",value:function(e,t,n,i,u,c){if(!(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))){var s="";if(n)switch(n.constructor){case Number:s=n===1/0?"; expires=Tue, 19 Jan 2038 03:14:07 GMT":"; max-age="+n;break;case String:s="; expires="+n;break;case Date:s="; expires="+n.toGMTString();break}document.cookie=escape(e)+"="+escape(t)+s+(u?"; domain="+u:"")+(i?"; path="+i:"")+(c?"; secure":"")}}},{key:"removeItem",value:function(e,t){!e||!this.hasItem(e)||(document.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(t?"; path="+t:""))}},{key:"hasItem",value:function(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}},{key:"keys",value:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=0;t<e.length;t++)e[t]=unescape(e[t]);return e}}])}();var _=function(){function r(){d(this,r)}return h(r,[{key:"getItem",value:function(e){if(!e||!localStorage.getItem(e))return null;var t=localStorage.getItem(e);return unescape(t.replace(new RegExp("(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1"))}},{key:"setItem",value:function(e,t,n){!e||!n||(localStorage.setItem(e,t),localStorage.setItem(e+"_expires",n))}},{key:"removeItem",value:function(e){e&&localStorage.removeItem(e)}},{key:"hasItem",value:function(e){if(e)return!!localStorage.getItem(e)}},{key:"removeCheck",value:function(e){if(e){var t=localStorage.getItem(e+"_expires");if(t){var n=new Date(t),i=new Date(Date.now());n<i&&(this.removeItem(e),this.removeItem(e+"_expires"))}}}}])}();function E(r){var a=new RegExp(/^((.*?:\/\/)([^\/:]*)(:([0-9]+))?([^\?]*)(\?([^#]*))?(.*)?)$/),e=r.src.match(a);return e[3]}function P(r){for(var a="",e="s",t=location.hostname.split(".").reverse(),n=t.length,i=0;i<n;i++){var u=t.slice(0,i+1).reverse().join(".");r.setItem(e,"s",null,"/",u),r.hasItem(e)&&(a=u);var c=new Date(Date.now()-3600),s=c.toGMTString();if(r.setItem(e,null,s,"/",u),a)break}return a}function R(r,a,e){var t=!1,n=document.getElementsByTagName("head")[0],i=document.createElement("script");i.src=r,i.defer=!0,i.async=!1,n.appendChild(i),i.onload=i.onreadystatechange=function(){!t&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")&&(t=!0,e(a),i.onload=i.onreadystatechange=null)}}function H(r,a){var e=typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(!e){if(Array.isArray(r)||(e=z(r))||a&&r&&typeof r.length=="number"){e&&(r=e);var t=0,n=function(){};return{s:n,n:function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}},e:function(m){throw m},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){e=e.call(r)},n:function(){var m=e.next();return u=m.done,m},e:function(m){c=!0,i=m},f:function(){try{u||e.return==null||e.return()}finally{if(c)throw i}}}}function z(r,a){if(r){if(typeof r=="string")return A(r,a);var e={}.toString.call(r).slice(8,-1);return e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set"?Array.from(r):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?A(r,a):void 0}}function A(r,a){(a==null||a>r.length)&&(a=r.length);for(var e=0,t=Array(a);e<a;e++)t[e]=r[e];return t}var B=function(){function r(a){d(this,r),a?this.currentScript=document.getElementById(a):this.currentScript=null,this.paramName="track",this.regExp=this.paramName+"=([a-zA-Z0-9]+).([a-zA-Z0-9]+)",this.cookie=new N,this.localStorage=new _,this.domain=this.currentScript?E(this.currentScript):"ac.me-tron.net",this.origin=P(this.cookie),this.prefixSessionId={content:"CTC",group:"CTG"},this.prefixReflow={content:"RCTC",group:"RCTG"},this.uniqueId=typeof uqid!="undefined"?uqid:0,this.sessionParamName=typeof spname!="undefined"?spname:0,this.lineApiId=typeof lineApiId!="undefined"?lineApiId:0,this.liffId=typeof liffId!="undefined"?liffId:"",this.actionDomain=typeof actionDomain!="undefined"?actionDomain:"",this.bannerCode="",this.param={},this.paramKeyMin=1,this.paramKeyMax=5,this.contentId=0,this.groupId=0,this.cookieExpire=0,this.debug=!1,this.spNameValidationRegExp="^[a-zA-Z0-9-_]+$",this.overwriteFromDatasetId()}return h(r,[{key:"click",value:function(){var e=new XMLHttpRequest,t=this;e.onload=function(I){try{this.status===404&&t.exit("network error.");var o=JSON.parse(e.responseText);o.result==!1&&t.exit(o.message);var T=Date.now()+60*60*24*1e3*o.cookieExpire,f=new Date(T),Z=f.toGMTString(),q=[o.contentId,o.groupId,o.cookieExpire,o.sessionId,T],y=q.join(".");t.cookie.setItem(t.getKeyName("sessionId","content",o.contentId),o.sessionId,f,"/",t.origin),t.localStorage.setItem(t.getKeyName("sessionId","content",o.contentId),o.sessionId,f,"/",t.origin),t.cookie.setItem(t.getKeyName("reflow","content",o.contentId),y,f,"/",t.origin),t.localStorage.setItem(t.getKeyName("reflow","content",o.contentId),y,f,"/",t.origin),o.groupId>0&&(t.cookie.setItem(t.getKeyName("sessionId","group",o.groupId),o.sessionId,f,"/",t.origin),t.localStorage.setItem(t.getKeyName("sessionId","group",o.groupId),o.sessionId,f,"/",t.origin),t.cookie.setItem(t.getKeyName("reflow","group",o.groupId),y,f,"/",t.origin),t.localStorage.setItem(t.getKeyName("reflow","group",o.groupId),y,f,"/",t.origin));var M=new RegExp(t.spNameValidationRegExp);if(t.sessionParamName&&M.test(t.sessionParamName)&&R("//"+t.domain+"/fpc/directparam.min.js","",function(){var S=new directParam(t.sessionParamName,o.sessionId,t.uniqueId);S.addDirectParameter()}),t.lineApiId>0&&typeof LineFriends=="function"){var $=new LineFriends(t.domain,t.uniqueId,o.sessionId,t.lineApiId,t.liffId,t.actionDomain);$.lineFriendsLogin()}}catch(S){t.debug==!0&&console.log(S)}},e.onerror=function(I){};try{this.checkUriParameter()==!1&&this.exit("\u30D1\u30E9\u30E1\u30FC\u30BF\u304C\u4E0D\u6B63\u3067\u3059");var n=new RegExp(this.regExp),i=location.search.match(n);t.uniqueId=i[1],t.bannerCode=i[2];var u=new RegExp(this.regExp+"(&?)");history.replaceState("","",location.href.replace(u,"")),e.open("POST","//"+t.domain+"/cl/direct.php",!0),e.withCredentials=!0,e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var c="uniqueId=".concat(t.uniqueId,"&bannerCode=").concat(t.bannerCode),s=new URLSearchParams(location.search),m=s.entries(),w=[],v=H(m),C;try{for(v.s();!(C=v.n()).done;){var p=C.value;if(p[0]&&p[1]){if(p[0]=="uniqueId"||p[0]=="bannerCode")continue;c+="&"+encodeURIComponent(p[0])+"="+encodeURIComponent(p[1]),w.push(p[0])}}}catch(I){v.e(I)}finally{v.f()}for(var g=this.paramKeyMin;g<=this.paramKeyMax;g++)w.indexOf("param"+g)>=0||this.param["param"+g]&&(c+="&param"+g+"="+encodeURIComponent(this.param["param"+g]));e.send(c)}catch(I){this.debug==!0&&console.log(I)}}},{key:"checkUriParameter",value:function(){var e=new RegExp(this.regExp),t=location.search.match(e);if(t.length>0){if(typeof t[1]=="undefined"||typeof t[2]=="undefined"||this.uniqueId!=t[1]||this.currentScript.dataset.bannerCode&&this.currentScript.dataset.bannerCode!=t[2])return!1}else return!1;return!0}},{key:"overwriteFromDatasetId",value:function(){if(this.currentScript){this.currentScript.dataset.debug&&(this.debug=!0),this.currentScript.dataset.uqid&&(this.uniqueId=this.currentScript.dataset.uqid),this.currentScript.dataset.spname&&(this.sessionParamName=this.currentScript.dataset.spname);for(var e=this.paramKeyMin;e<=this.paramKeyMax;e++)this.currentScript.dataset["param"+e]&&(this.param["param"+e]=this.currentScript.dataset["param"+e]);this.currentScript.dataset.lineApiId&&(this.lineApiId=this.currentScript.dataset.lineApiId),this.currentScript.dataset.liffId&&(this.liffId=this.currentScript.dataset.liffId),this.currentScript.dataset.actionDomain&&(this.actionDomain=this.currentScript.dataset.actionDomain)}}},{key:"exit",value:function(e){throw new Error(e)}},{key:"getKeyName",value:function(e,t,n){var i="";switch(e){case"sessionId":i=this.prefixSessionId;break;case"reflow":i=this.prefixReflow;break}return i[t]+"_"+this.uniqueId+"-"+n}}])}();return F(J);})();
window.directTrack = AFAD_directTrack.directTrack;
var AFAD_LineFriends=(function(){var p=Object.defineProperty;var U=Object.getOwnPropertyDescriptor;var S=Object.getOwnPropertyNames;var q=Object.prototype.hasOwnProperty;var w=function(n,t){for(var e in t)p(n,e,{get:t[e],enumerable:!0})},C=function(n,t,e,i){if(t&&typeof t=="object"||typeof t=="function")for(var a=S(t),o=0,l=a.length,r;o<l;o++)r=a[o],!q.call(n,r)&&r!==e&&p(n,r,{get:function(s){return t[s]}.bind(null,r),enumerable:!(i=U(t,r))||i.enumerable});return n};var _=function(n){return C(p({},"__esModule",{value:!0}),n)};var R={};w(R,{LineFriends:function(){return P}});function h(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function f(n){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(n)}function m(n,t){if(f(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t||"default");if(f(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function y(n){var t=m(n,"string");return f(t)=="symbol"?t:t+""}function g(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,y(i.key),i)}}function I(n,t,e){return t&&g(n.prototype,t),e&&g(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function F(n,t){var e=typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=k(n))||t&&n&&typeof n.length=="number"){e&&(n=e);var i=0,a=function(){};return{s:a,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(u){throw u},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,r=!1;return{s:function(){e=e.call(n)},n:function(){var u=e.next();return l=u.done,u},e:function(u){r=!0,o=u},f:function(){try{l||e.return==null||e.return()}finally{if(r)throw o}}}}function k(n,t){if(n){if(typeof n=="string")return b(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?b(n,t):void 0}}function b(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=Array(t);e<t;e++)i[e]=n[e];return i}var P=function(){function n(t,e,i,a,o,l){h(this,n),this.domain=t,this.uniqueId=e,this.sessionId=i,this.lineApiId=a,this.liffId=o,this.actionDomain=l}return I(n,[{key:"validateLineAction",value:function(){var e=document.querySelectorAll('[data-afad="lineFriendsFollowLink"]');return!(e.length===0||!this.domain||!this.uniqueId||!this.sessionId||!this.lineApiId)}},{key:"changeLinkLineFriendsLoginUrl",value:function(e,i){if(this.validateLineAction(),!(e===""||i==="")){var a=encodeURIComponent("https://"+this.domain+"/line/callback.php?lineApiId="+this.lineApiId+"&sessionId="+this.sessionId+"&uniqueId="+this.uniqueId+"&currentUrl="+encodeURIComponent(location.href)),o=e+"&state="+this.sessionId+"&client_id="+i+"&redirect_uri="+a,l="",r=!1;if(this.liffId!="")if(/iPhone|iPad|iPod/i.test(navigator.userAgent))o="line://app/"+this.liffId+"?lineApiId="+this.lineApiId+"&afadDomain="+this.actionDomain+"&sessionId="+this.sessionId+"&uniqueId="+this.uniqueId+"&liff_id="+this.liffId+"&currentUrl="+encodeURIComponent(location.href),r=!0;else if(/Android/i.test(navigator.userAgent))o="intent://liff.line.me/"+this.liffId+"?lineApiId="+this.lineApiId+"&afadDomain="+this.actionDomain+"&sessionId="+this.sessionId+"&uniqueId="+this.uniqueId+"&liff_id="+this.liffId+"&currentUrl="+encodeURIComponent(location.href),l="#Intent;scheme=https;action=android.intent.action.VIEW;category=android.intent.category.BROWSABLE;package=jp.naver.line.android;end",r=!0;else{var s="https://line.me/R/app/"+this.liffId+"?lineApiId="+this.lineApiId+"&afadDomain="+this.actionDomain+"&sessionId="+this.sessionId+"&uniqueId="+this.uniqueId+"&liff_id="+this.liffId;o="https://"+this.actionDomain+"/line/qr.html?afadQrUrl="+encodeURIComponent(s)+"&currentUrl="+encodeURIComponent(location.href),r=!0}var u="",A=document.querySelectorAll('[data-afad="lineFriendsFollowLink"]'),d=F(A),v;try{for(d.s();!(v=d.n()).done;){var c=v.value;u=c.getAttribute("href"),r?c.setAttribute("href",o+"&loginUrl="+encodeURIComponent(u)+l):c.setAttribute("href",o+encodeURIComponent("&loginUrl="+encodeURIComponent(u))),c.setAttribute("data-afad","lineFriendsFollowLinkDone")}}catch(L){d.e(L)}finally{d.f()}}}},{key:"createQueryString",value:function(e){var i=[];return Object.keys(e).forEach(function(a){e[a]!=""&&i.push(a+"="+e[a])}),i.join("&")}},{key:"lineFriendsLogin",value:function(){if(this.validateLineAction()!==!1){var e=new XMLHttpRequest,i=this;e.onload=function(l){var r=JSON.parse(e.responseText);r.actionResult&&i.changeLinkLineFriendsLoginUrl(r.loginAuthUrl,r.loginChannelId)},e.onerror=function(l){};var a={uniqueId:this.uniqueId,lineApiId:this.lineApiId},o=this.createQueryString(a);e.open("POST","//"+this.domain+"/line/login.php",!0),e.withCredentials=!0,e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.send(o)}}}])}();return _(R);})();
window.LineFriends = AFAD_LineFriends.LineFriends;
var drt = new directTrack("directtrack-3336b12m6Zm6a2251765206574977");
drt.click();
})();
