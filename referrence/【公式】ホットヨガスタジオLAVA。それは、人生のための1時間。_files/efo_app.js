function validation_message(e,t){function n(e){var t=!0,n=$(e).attr("class"),r=$(e).attr("class").split(" "),l=null;if($(e).hasClass("radio_container")||$(e).hasClass("checkbox_container")){var d=$(e).find("li");if(void 0!=d&&d.length){var f=$.map(d.find("input.option_input:checked"),function(e){return e.value});f.length&&(l=f.length)}}else if($(e).hasClass("carousel_container")){var y=$(e).find(".carousel_item.active");void 0!=y&&y.length&&y.length&&(l=1)}else if($(e).hasClass("product_purchase_container")){var b=$(e).find(".product_item.active");void 0!=b&&b.length&&b.length&&(l=1)}else if($(e).hasClass("tel_hyphen_box"))l="",$(e).find(".input_content input.content").each(function(e,t){l+=$.trim($(this).val())});else if("radio"==$(e).attr("type")||"checkbox"==$(e).attr("type"))i($(e)[0])||i($(e)[0].checked)||(l=$(e)[0].checked);else if($(e).parents(".box_upload_group").length){var w=$(e).parents(".box_upload_group");l=$(w).find(".label_item:not(.no_file_select)").length}else if($(e).is("select")&&$(e).attr("multiple"))l=i(l=$(e).val())?0:l.length;else if("file"==$(e).attr("type")){var x=$(e).attr("value"),k=$(e).attr("name");!i(p[k])&&p[k].length?l=p[k]:!i(x)&&function(e){try{JSON.parse(e)}catch(e){return!1}return!0}(x)&&JSON.parse(x).length&&(l=x)}else if($(e).hasClass("card_payment_container"))l=1;else if($(e).is("#slider-input-div")){var C=null;$(e).data&&$(e).data("slider_value_changed")&&(C=$(e).data("slider_value_changed").toString()),"true"!=C&&1!=C||(l=$(e).slider("value")+"")}else if($(e).hasClass("booking_calendar_container")&&$(e).hasClass("checked"))l=1;else{if(l=$(e).val(),$(e).attr("data-enable_today_start"))var T=$(e).attr("data-enable_today_start");if($(e).attr("data-enable_today_end"))var D=$(e).attr("data-enable_today_end");if($(e).attr("data-start_date"))var S=$(e).attr("data-start_date");if($(e).attr("data-end_date"))var M=$(e).attr("data-end_date")}return"string"==typeof l&&(l=$.trim(l)),$(r).each(function(d,p){if(g="",v={},1==t&&-1!=m.indexOf(p)){if(p==u.validate_require&&i(l))t=!(-1!=r.indexOf(u.validate_require));else if(p!=u.validate_require||i(l)||s(T,D,S,M,l)){if(p!=u.validate_require&&!i(l))switch(p){case u.validate_url:var f=l.replace(/[{}]/g,"");t=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(f);break;case u.validate_url_secure:f=l.replace(/[{}]/g,"");t=/^(https):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(f);break;case u.validate_email:t=!!function(e){for(var t=0;t<e.length;t++){var n=escape(e.charAt(t)).length;if(n>=4)return!1}return!0}(l)&&/^[a-z0-9\+_-]+(\.[a-z0-9\+_-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*\.([a-z]{2,})$/i.test(l);break;case u.validate_phone:var y=!0;if($(e).hasClass("tel_hyphen_box")&&$(e).find(".input_content input.content").each(function(e,t){""==$.trim($(this).val())&&(y=!1)}),y)if(l.match(/^0.*/)&&/^((\d{1,3}[-. ]?)?((\(\d{1,3}\))|\d{1,3}))?[-. ]?\d{1,3}[-. ]?\d{1,4}$/.test(l)){var b=["090","080","070","060","050"],w=(l=l.replace(/-/g,"")).substr(0,3);t=-1!==b.indexOf(w)&&11==l.toString().length||-1==b.indexOf(w)&&10==l.toString().length}else t=!1;else t=!1;break;case u.validate_digit_length_max:if(/maximum-digit-length-+[0-9]*/.test(n)){var x=n.match(/maximum-digit-length-+[0-9]*/).toString(),k=parseFloat(x.split("-")[3]);(l=l.replace(/[-]+/g,"")).length>k&&(t=!1,v.max=k)}break;case u.validate_digit_length_min:if(/minimum-digit-length-+[0-9]*/.test(n)){var C=n.match(/minimum-digit-length-+[0-9]*/).toString(),E=parseFloat(C.split("-")[3]);(l=l.replace(/[-]+/g,"")).length<E&&(t=!1,v.min=E)}break;case u.validate_max:if(/maximum-length-+[0-9]*/.test(n)){var A=n.match(/maximum-length-+[0-9]*/).toString(),O=parseFloat(A.split("-")[2]);l.length>O&&(t=!1,v.max=O)}break;case u.validate_min:if(/minimum-length-+[0-9]*/.test(n)){var P=n.match(/minimum-length-+[0-9]*/).toString();O=parseFloat(P.split("-")[2]);l.length<O&&(t=!1,v.min=O)}break;case u.validate_option_max:if(/maximum-option-+[0-9]*/.test(n)){A=n.match(/maximum-option-+[0-9]*/).toString(),O=parseFloat(A.split("-")[2]);!isNaN(l)&&parseFloat(l)>O&&(t=!1,v.max=O)}break;case u.validate_option_min:if(/minimum-option-+[0-9]*/.test(n)){P=n.match(/minimum-option-+[0-9]*/).toString(),O=parseFloat(P.split("-")[2]);!isNaN(l)&&parseFloat(l)<O&&(t=!1,v.min=O)}break;case u.validate_number:t=!isNaN(l)&&/^\s*-?\d*(\.\d*)?\s*$/.test(l);break;case u.validate_length:if(/validate-length-+[0-9]*/.test(n)){var q=n.match(/validate-length-+[0-9]*/).toString();O=parseFloat(q.split("-")[2]);l.length!=O&&(t=!1,v.num=O)}break;case u.validate_postalcode_length:if(/validate-postalcode-length-+[0-9]*/.test(n)){q=n.match(/validate-postalcode-length-+[0-9]*/).toString(),O=parseFloat(q.split("-")[3]);t=l.length==O}break;case u.validate_postalcode_invalid:case u.validate_postalcode_out_of_area:t=!1;break;case u.validate_alpha:t=/^[A-Z]+$/i.test(l);break;case u.validate_alpha_dash:t=/^[0-9A-Z_-]+$/i.test(l);break;case u.validate_alpha_num:t=/^[0-9A-Z]+$/i.test(l);break;case u.validate_katakana:t=function(e){return!!(e=null==e?"":e).match(/^[ァ-ヶー　]*$/)}(l);break;case u.validate_hiragana:t=function(e){return!!(e=null==e?"":e).match(/^[ぁ-んー　]*$/)}(l);break;case u.validate_zenkaku:t=function(e){return!!(e=null==e?"":e).match(/^[^\x01-\x7E\uFF61-\uFF9F]+$/)}(l);break;case u.validate_confirm:if(!(t=function(e){if(!i($(e))){var t=$(e).val(),n=$(e).attr("type");if(!i(t)&&!i(n)&&!i($(e).parents(".msg_group").find("input."+n))){var a=$(e).parents(".msg_group").find("input."+n).val();return a=$.trim(a),t=$.trim(t),a==t}}return!1}(e))){var j=$(e).attr("type");i(c)||i(c[j])||(j=c[j]),v.attribute=j}break;case u.validate_credit_card:var N=new RegExp(" ","g");l=l.replace(N,""),t=l.length>=14;break;case u.validate_credit_date:var F=$(e).find(".select_year_box select").val(),L=$(e).find(".select_month_box select").val(),I=new Date,B=I.getFullYear(),H=I.getMonth()+1;F="20"+F,L=parseInt(L),F==B&&L<H&&(t=!1);break;case u.validate_file_upload:if(!(t=o(e))){v.size=h,v.type="";var R=$(e).attr("name");i(R)||i(_[R])||(v.type=_[R].join(", "))}break;case u.validate_box_file_upload:t=BoxUploadFile.validate(e,v)}}else t=!(-1!=r.indexOf(u.validate_require));($(e).parents().hasClass("card_payment_with_radio_group")||$(e).parents().hasClass("persist_credit_card_radio_group"))&&$(e).parents().hasClass("group_hidden")&&(t=!0),t||(""==g&&(g=p),a(e,t))}else r.includes(u.validate_require)||s(T,D,S,M,l)||$(e).val("")}),t}function i(e){return""==e||null==e||0==e.length||/^\s+$/.test(e)}function a(e,t){if($(e).length&&!t&&(l=!1,$(e).addClass(error_class),!i(g))){var n=g.replace(/-/g,"_"),a=g;$(e).attr("data-"+g+"-error")?a=$(e).attr("data-"+g+"-error"):i(c)||i(c[n])||(a=c[n]);var o="<label class='error'>"+(a=function(e,t){return i(e)||"object"!=typeof e||$.each(e,function(e,n){if(!i(n)){e=":"+e;var a=new RegExp(e,"g");t=t.replace(a,n)}}),t}(v,a))+"</label>";$(e).hasClass("icheck")?$(e).parents(".input_box").after(o):$(e).parents(".input_container").not(".confirm_box").length||$(e).parents(".textarea_group").length||$(e).parents(".pulldown_container").length||$(e).parents(".pulldown_checkbox_group ").length||$(e).parents(".calendar_container").length||$(e).parents(".captcha_container").length||$(e).parents(".booking_calendar_container").length?(r(e),$(e).parents(".msg_group").append(o)):$(e).parents(".card_date_box").length?(r(e,".card_date_box"),$(e).parents(".card_date_box").append(o)):$(e).hasClass("card_payment_container")?$(e).find(".card_date_box").append(o):$(e).parents(".postalcode_group").length&&$(e).parents(".dropdown_prefectures").length?$(e).parents(".input_content").append(o):$(e).parents(".product_purchase_container").length&&$(e).parents(".product_quantity_box").length?$(e).parents(".product_quantity_box").append(o):$(e).after(o)}}function r(e,t){$(e).find("label.error").not(".not_remove").remove(),i(t)?$(e).parents(".msg_group").find("label.error").not(".not_remove").remove():$(e).parents(t).find("label.error").not(".not_remove").remove()}function o(e){var t=!0,n=$(e).attr("name");if(!i(p[n])&&p[n].length){var a=$(e).parents(".upload_group"),r=[],o=[];i(n)||i(_[n])||(o=_[n]),$(p[n]).each(function(e,n){var i=n.name.split(".").pop().toLowerCase(),s=n.size/1048576,l=!1;if(s>h&&o.length&&o.indexOf(i)<0?(t=!1,l=!0,r.push("type_size")):s>h?(t=!1,l=!0,r.push("size")):o.length&&o.indexOf(i)<0&&(t=!1,l=!0,r.push("type")),l&&a.length){var c=a.find(".label_box .label_item").eq(e);c.length&&c.addClass(error_class)}}),r.length&&(g="-1"!=r.indexOf("type_size")||"-1"!=r.indexOf("type")&&"-1"!=r.indexOf("size")?f.type_size:"-1"!=r.indexOf("type")?f.type:f.size)}return t}function s(e,t,n,i,a){var r=moment({}).startOf("day"),o=moment(a,"YYYY-MM-DD");if(e||t){var s=moment.duration(o.diff(r)).asDays();if(e&&s<e||t&&s>t)return!1}else if(n||i){if(n&&(n=moment(n,"YYYY/MM/DD"),o.isBefore(n,"day")))return!1;if(i&&(i=moment(i,"YYYY/MM/DD"),o.isAfter(i,"day")))return!1}return!0}var l=!0,c=[],d=$("body").attr("data-language");i(d)||i($.fn.fileinputLocales[d])||(c=$.fn.fileinputLocales[d]);var u={validate_require:"validate-require",validate_url:"validate-url",validate_url_secure:"validate-url-secure",validate_max:"validate-max",validate_min:"validate-min",validate_digit_length_max:"validate-digit-length-max",validate_digit_length_min:"validate-digit-length-min",validate_option_max:"validate-option-max",validate_option_min:"validate-option-min",validate_phone:"validate-phone",validate_number:"validate-number",validate_email:"validate-email",validate_length:"validate-length",validate_postalcode_length:"validate-postalcode-length",validate_alpha:"validate-alpha",validate_alpha_dash:"validate-alpha-dash",validate_alpha_num:"validate-alpha-num",validate_confirm:"validate-confirm",validate_katakana:"validate-katakana",validate_hiragana:"validate-hiragana",validate_zenkaku:"validate-zenkaku",validate_postalcode_invalid:"validate-postalcode-invalid",validate_postalcode_out_of_area:"validate-postalcode-out-of-area",validate_file_upload:"validate-file-upload",validate_credit_card:"validate-credit-card",validate_credit_date:"validate-credit-date",validate_box_file_upload:"validate-box-file-upload"},p=t.file_upload_selected,_=t.file_upload_input_type_list,h=12,f={type_size:"validate-file-upload",type:"validate-file-upload-type",size:"validate-file-upload-size"},m=Object.keys(u).map(function(e){return u[e]}),g="",v={};return r(e),$(e.find("input:not(.hidden, .notset, .readonly), textarea:not(.hidden, .notset, .readonly),  select:not(.hidden, .notset, .readonly), .tel_hyphen_box, .radio_container, .checkbox_container,.carousel_container,.card_payment_container,.product_purchase_container,#slider-input-div, .booking_calendar_container")).each(function(e,t){var a=$(t).attr("class");$(t).parents(".radio_container").length||$(t).parents(".checkbox_container").length||$(t).parents(".carousel_container").length||$(t).parents(".product_purchase_container").length&&!($(t).parents(".product_purchase_container").length&&$(t).parents(".product_quantity_box").length&&$(t).parents(".product_item.active").length)||i(a)||($(t).removeClass(error_class),n(t))}),l}function arrayToString(e,t){return Array.isArray(t)?e==g_input_types.pulldown?t.join(" - "):e==g_input_types.input?t.join(" "):t.join(","):t}function initNoPersistVarsIfNeed(){no_persist_list||(no_persist_list={}),no_persist_answers||(no_persist_answers={}),arr_input_types||(arr_input_types=[g_input_types.checkbox,g_input_types.radio])}function setToNoPersistList(e,t){initNoPersistVarsIfNeed(),e&&t&&(no_persist_list[e]=t)}function getPulldownValues(e,t){var n=[];if(Array.isArray(e)&&Array.isArray(t)&&t.length==e.length){var i=0;for(i=0;i<e.length;i++){var a=t[i],r=void 0;try{r=e[i][a]}catch(e){r=void 0}r&&(r.value?n.push(r.value):r.text?n.push(r.text):n.push(r))}}return n}function noPersistValueToSave(e,t,n,i){initNoPersistVarsIfNeed();var a={};e&&(a.type=e),t&&(a.templateType=t);var r=no_persist_list[n];if(Array.isArray(i)&&i.length>0&&r)if(arr_input_types.includes(e)){for(var o=[],s=0;s<i.length;s++){var l=r[i[s]];o.push(l.value?l.value:l)}a.answer=o}else e==g_input_types.pulldown&&(a.answer=getPulldownValues(r,i));return a.answer||(a.answer=i),a}function saveNoPersistValue(e,t,n,i){const a=noPersistValueToSave(e,t,n,i);no_persist_answers[n]=a}function getNoPersistRawValue(e){var t="";return e&&e.answer&&(t=e.answer),t||""}function getDateString(e){var t="";if(e){var n=e.year,i=e.month,a=e.day;n&&i&&a&&(t=n+"-"+i+"-"+a)}return t}function getNoPersistValue(e){var t="";switch(e.type){case g_input_types.input:case g_input_types.textarea:case g_input_types.pulldown:case g_input_types.radio:case g_input_types.checkbox:t=arrayToString(e.type,e.answer);break;case g_input_types.calendar:if(Array.isArray(e.answer)){if(2==e.answer.length){var n=getDateString(e.answer[0]),i=getDateString(e.answer[1]);n&&i&&(t=(t=n+" ～ "+i).replaceAll("-","/"))}}else t=getDateString(e.answer);break;case g_input_types.postal_code:var a=e.answer.postal_code,r=e.answer.prefectures||"",o=e.answer.municipality||"",s=e.answer.street_number||"",l=e.answer.building_name||"";a&&(t="〒"+a+" "),t+=r+o+s+l}return t||""}function getElementData(e,t){return e&&e.data&&e.data(t)?e.data(t).toString():null}function setInputWithVariableValue(e,t,n,i,a){if(e){var r="";if(i?r="checkbox"==n?getNoPersistRawValue(i):getNoPersistValue(i):a&&(r=a),"radio"==n||"checkbox"==n){if(!("checkbox"!=n||r&&r.includes))return;var o=e.querySelectorAll(t);try{o.length>0&&o.forEach(function(e){("radio"==n&&e.value==r||"checkbox"==n&&r.includes(e.value))!=e.checked&&e.click()})}catch(e){}}else{var s=e.querySelector(t);if(s)[window.HTMLInputElement,window.HTMLSelectElement,window.HTMLTextAreaElement].indexOf(s.__proto__.constructor)>-1?Object.getOwnPropertyDescriptor(s.__proto__,"value").set.call(s,r):s.value=r}}}function submitFormAssist(e,t,n){if(e.id||e.name||e.selector||Array.isArray(t)){var i;i=e.id?'form[id="'+e.id+'"]':e.name?'form[name="'+e.name+'"]':e.selector;var a=document.querySelector(i);if(a){var r=0;for(r=0;r<t.length;r++){var o=t[r];if((o.id||o.name)&&o.input&&(o.answer||o.value)){var s=o.input+(o.id?'[id="'+o.id+'"]':'[name="'+o.name+'"]');try{var l="";o.answer&&(l=JSON.parse(o.answer)),setInputWithVariableValue(a,s,o.type,l,o.value)}catch(e){}}}n||(setTimeout(function(){btag("event","close")},3e3),setTimeout(function(){a.submit()},5e3))}}}function generateFormAssistScript(e){var t="";if(e.form&&(e.form.id||e.form.name||e.form.selector)){var n=e.form;if(t+=n.id?'var form = {id: "'+n.id+'"};\n':n.name?'var form = {name: "'+n.name+'"};\n':'var form = {selector: "'+n.selector+'"};\n',t+="var elements = [];\n",Array.isArray(e.elements)){var i=0;for(i=0;i<e.elements.length;i++){var a=e.elements[i],r=no_persist_answers?no_persist_answers[a.variableId]:"";if(r)try{r=JSON.stringify(r)}catch(e){r=""}else r="";var o=a.value;o||(o=""),a.name&&a.input&&a.variableId&&(t+="elements.push({name: '"+a.name+"', input: '"+a.input+"', answer: '"+r+"', value: '"+o+"', ",a.type&&(t+="type: '"+a.type+"', "),t+="variableId: '"+a.variableId+"'});\n")}}t+=1==e.is_not_submitting?"submitFormAssist(form, elements, true);\n":"submitFormAssist(form, elements, false);\n"}return t}function isChurnPreventionMessage(e,t){return e&&e.type==botMessageType&&Array.isArray(t)&&t.length>0&&t[0].type==churnPreventionMessageType||t[0].type==churnRequestMessageType}function initCardPaymentWithRadio(e,t,n,i,a,r,o,s,l,c,d,u,p,_,h,f,m,g){g_card_payment_with_radio.g_credit_card_type=e,g_card_payment_with_radio.g_validate_types=t,g_card_payment_with_radio.g_required_text=n,g_card_payment_with_radio.g_lang=i,g_card_payment_with_radio.g_radio_client_data=a,g_card_payment_with_radio.g_init_data=r,g_card_payment_with_radio.g_payment_method=o,g_card_payment_with_radio.isEmpty=l,g_card_payment_with_radio.pulldownEnableOptionByParentName=c,g_card_payment_with_radio.getMessageByVariable=d,g_card_payment_with_radio.socketIOEmit=u,g_card_payment_with_radio.createNotify=p,g_card_payment_with_radio.icheckAuto=_,g_card_payment_with_radio.setVariableNameAttribute=h,g_card_payment_with_radio.attachCardNumber=f,g_card_payment_with_radio.attachCardExpireDate=m,g_card_payment_with_radio.attachCardHolderName=g,g_card_payment_with_radio.isPaymentBot=r.scenario_type===s.product_payment}function showHideCardPayment(e){var t=$(e).parents(".card_payment_with_radio_group");g_card_payment_with_radio.isEmpty(t)||$(t).children(".card_payment_group")&&($(e).hasClass("show_card_payment")?$(t).children(".card_payment_group").hasClass("group_hidden")&&$(t).children(".card_payment_group").first().removeClass("group_hidden"):$(t).children(".card_payment_group").hasClass("group_hidden")||$(t).children(".card_payment_group").first().addClass("group_hidden"))}function showHideNextMessageButton(e){e.find(".card_payment_group").hasClass("group_hidden")?isOnlyCardPaymentWithRadio(e)&&e.find(".next_message").fadeOut(500,function(){$(this).hide()}):e.find(".card_payment_group").not(".group_hidden")&&e.find(".next_message").fadeOut(500,function(){$(this).show()})}function isOnlyCardPaymentWithRadio(e){var t=[".text_group",".label_no_transition_group",".textarea_group.readonly",".card_payment_with_radio_group",".card_payment_with_radio_group .card_payment_group"].join(",");return!e.find(".msg_group").not(t).length}function initTitle(e,t){var n=e.find(".title");if(!g_card_payment_with_radio.isEmpty(t.title)||!g_card_payment_with_radio.isEmpty(t.required_flg)&&t.required_flg){var i=g_card_payment_with_radio.g_required_text;g_card_payment_with_radio.isEmpty(t.required_text)||(i=i.replace(/(>.*<)/,">"+t.required_text+"<"));var a=(t.title?t.title:"")+(t.required_flg?" "+i:"");n.html(a)}else n.remove()}function setDefaultSelectItem(e,t,n,i){void 0===e.answer&&!g_card_payment_with_radio.isEmpty(i.default_select_flg)&&i.default_select_flg&&(t.attr("data-next_message_remove_first_onload",1),n.find("input.option_input").addClass("default_select"))}function setShowCardPayment(e,t){!g_card_payment_with_radio.isEmpty(t.show_payment_flg)&&t.show_payment_flg&&e.find("input.option_input").addClass("show_card_payment")}function initImageRadioTemplate(e,t,n,i,a,r,o,s){var l=r.length;l<=1&&s&&(l=2),$(r).each(function(r,s){if(!g_card_payment_with_radio.isEmpty(s.image_url)){var c=n.find(".message_type .radio_template .radio_img_item").clone(),d=c.find("input.option_input"),u=a+"_"+o+r,p=g_card_payment_with_radio.isEmpty(s.text)?g_card_payment_with_radio.isEmpty(s.comment)?"":s.comment:s.text;d.attr("id",u),d.val(o+","+r),d.attr("data-label",p),d.attr("data-value",s.value),p&&c.find(".option_label").html(s.text),setDefaultSelectItem(e,t,c,s),setShowCardPayment(c,s),c.find("img").attr("src",s.image_url),c.find(".option_label, .image_box").attr("for",u),l>=3?c.addClass("col-xs-4"):l>=2?c.addClass("col-xs-6"):c.addClass("col-xs-12"),i.append(c),t.find(".radio_container").addClass("radio_image_container")}})}function initRadioComponent(e,t,n,i,a){var r=!1,o=t+"_radio_"+n;if(!g_card_payment_with_radio.isEmpty(i.variable_id)&&!g_card_payment_with_radio.isEmpty(g_card_payment_with_radio.g_radio_client_data.variable_id)&&g_card_payment_with_radio.g_radio_client_data.variable_id.variable_id==i.variable_id&&g_card_payment_with_radio.getMessageByVariable(i.variable_id).length<=0){r=!0;var s=g_card_payment_with_radio.g_radio_client_data.variable_id;i.list_option=s.list,i.template_type=s.template_type,socketIOEmit("efo_user_send_radio_data",{connect_page_id:g_connect_page_id,log_message_id:t,message_index:msg_index,data:{list:s.list,template_type:s.template_type}})}if(g_card_payment_with_radio.isEmpty(i.variable_id)||g_card_payment_with_radio.setVariableNameAttribute(i.variable_id,e),!g_card_payment_with_radio.isEmpty(i.list_option)&&i.list_option.length)$(i.list_option).each(function(t,n){var s=a.find(".message_type .radio_template .radio_option").clone();if(i.template_type==g_card_payment_with_radio_type.image_radio)initImageRadioTemplate(i,e,a,s,o,n,t,r);else{var l=a.find(".message_type .radio_template .radio_item").clone(),c=o+"_"+t,d="string"==typeof n?n:g_card_payment_with_radio.isEmpty(n.text)?"":n.text;l.find("input.option_input").attr("id",c),l.find("input.option_input").attr("data-label",d),l.find("input.option_input").attr("data-value",n.value),l.find("input.option_input").val(t),l.find(".option_label").html(d),l.find(".option_label").attr("for",c),setDefaultSelectItem(i,e,l,n),setShowCardPayment(l,n),s.append(l),i.template_type==g_card_payment_with_radio_type.custom_type&&e.find(".radio_container").addClass("radio_custom_type")}e.find(".radio_container").append(s)});else{var l=g_card_payment_with_radio.g_lang.getByCode("no_results_found","No results found");g_card_payment_with_radio.isEmpty(i.error_message)||(l=i.error_message),g_card_payment_with_radio.socketIOEmit("save_conversation_error_log",{log_message_id:t,error_message:l}),g_card_payment_with_radio.createNotify(l,e,"not_remove",!1,!1)}!g_card_payment_with_radio.isEmpty(i.name)&&i.name?(e.find(".radio_img_item input.option_input, .radio_item input.option_input").attr("name",i.name),g_card_payment_with_radio.pulldownEnableOptionByParentName(i.name)):e.find(".radio_img_item input.option_input, .radio_item input.option_input").attr("name",o)}function initCreditCardComponent(e,t,n){var i=t.find(".message_type .card_payment_group").clone();1==n.four_input_flg?i.find(".card_number_box .one_input_on_row").remove():i.find(".card_number_box .four_input_one_row").remove();var a=i.find(".card_date_box"),r=t.find(".message_type .card_payment_template .template_component .select_year_box").clone(),o=t.find(".message_type .card_payment_template .template_component .select_month_box").clone();g_card_payment_with_radio.isEmpty(n.expired_date_type)||"my"!=n.expired_date_type?(a.append(r),a.append(o)):(a.attr("data-input_order","my"),a.append(o),a.append(r));n.check_validity_flg&&i.attr("data-check_validity_flg",n.check_validity_flg),g_card_payment_with_radio.isEmpty(n.card_type)||$(n.card_type).each(function(e,n){var a=t.find(".message_type .card_payment_template .template_component .card_type_item").clone();a.attr("data-card_type",g_card_payment_with_radio.g_credit_card_type[n]),a.find("img").attr("src","images/card_type/"+g_card_payment_with_radio.g_credit_card_type[n]+".png"),a.find("img").attr("alt",g_card_payment_with_radio.g_credit_card_type[n]),i.find(".card_type_box").append(a)}),i.find(".card_number_box input.content").attr("data-card_type",""),!g_card_payment_with_radio.isEmpty(n.list_card_info)&&n.list_card_info.length&&$(n.list_card_info).each(function(e,t){if(!g_card_payment_with_radio.isEmpty(t.type)&&!g_card_payment_with_radio.isEmpty(t.placeholder)){var n="";"card_name"==t.type?n=i.find(".card_holder_box input.content"):"card_number"==t.type?n=i.find(".card_number_box input.content"):-1!=t.type.indexOf("card_number")?n=i.find('.card_number_box input.sub_content[name="'+t.type+'"]'):"card_security"==t.type&&(n=i.find(".card_code_box input.content")),g_card_payment_with_radio.isEmpty(n)||n.attr("placeholder",t.placeholder)}}),1==n.cvc_hidden_flg&&i.find(".card_code_box").remove(),1==n.card_name_hidden_flg&&i.find(".card_holder_box").remove(),i.find("input:not(#zeus_token_action_type_quick, #tkn), select").addClass(g_card_payment_with_radio.g_validate_types.validate_require),g_card_payment_with_radio.isEmpty(n.four_input_flg)||i.find(".four_input_one_row input:not(.input_hidden)").removeClass(g_card_payment_with_radio.g_validate_types.validate_require),i.find(".card_payment_container").addClass(g_card_payment_with_radio.g_validate_types.validate_credit_date),n.stripe_client_secret&&(i.attr("data-stripe_client_secret",n.stripe_client_secret),i.find(".card_payment_container").empty()),e.append(i),n.list_option.some(function(e){return e.show_payment_flg&&e.default_select_flg})||e.find(".card_payment_group").addClass("group_hidden")}function createCardPaymentRadioMessage(e,t,n,i,a){initTitle(t,n),initRadioComponent(t,i,a,n,e),initCreditCardComponent(t,e,n)}function getPaymentCardRadioMessageAnswer(e,t,n,i,a,r){var o=$(e).find(".radio_container li");if(void 0!=o&&o.length){var s=$.map(o.find("input.option_input:checked"),function(e){return e.value}),l={},c=[];c.push(s[0]),l.chosen_answer=c;var d=$(e).find(".card_payment_group"),u=$(e).find(".input_box input, .select_box select"),p={},_=g_card_payment_with_radio.g_payment_method.provider_current===g_card_payment_with_radio.g_payment_method.provider_list.stripe&&!!$(d).attr("data-stripe_client_secret");if(!g_card_payment_with_radio.isEmpty(u)||_){!g_card_payment_with_radio.isEmpty(g_card_payment_with_radio.g_init_data.get_card_info_flg)&&1==g_card_payment_with_radio.g_init_data.get_card_info_flg||1==g_card_payment_with_radio.g_init_data.get_first_6digits_card_flg?u.each(function(e,t){var n=$(t).attr("name");if(!g_card_payment_with_radio.isEmpty(n)&&-1==["card_number1","card_number2","card_number3","card_number4"].indexOf(n)){n=n.replace(/card_/g,"");var i=$(t).val();if("number"===n)if(isCustomTruncationDisabledProvider(g_card_payment_with_radio.g_payment_method.provider_current)){const e=$(d).attr("data-masked_card_number");attachMaskedCardDigitsByProvider(g_card_payment_with_radio.g_payment_method.provider_current,p,e,g_card_payment_with_radio.g_init_data)}else{if(1==g_card_payment_with_radio.g_init_data.get_card_info_flg){var a=i.length;p[n]=i.substr(a-4,4)}1==g_card_payment_with_radio.g_init_data.get_first_6digits_card_flg&&(p.number_first_6digits=i.substr(0,6))}else p[n]=i.trim()}}):attachCardInfoCardPaymentWithRadio(p,d,g_card_payment_with_radio.g_init_data);for(var h=0;h<g_card_payment_with_radio.g_payment_method.get_token_number;h++){var f="data-token",m="payment_token";h>0&&(f+="-"+h,m+="_"+h),p[m]=$(d).attr(f)}switch(p.provider=g_card_payment_with_radio.g_payment_method.provider_current,p.expire_at=$(d).attr("data-expire-at"),g_card_payment_with_radio.g_payment_method.provider_current){case g_card_payment_with_radio.g_payment_method.provider_list.gmo_smbc:case g_card_payment_with_radio.g_payment_method.provider_list.gmo_pg:p.pgcard_shop_id=n.shop_id,p.pgcard_shop_pass=n.shop_pass,p.mode=n.mode,p.masked_card_number=$(d).attr("data-masked_card_number");break;case g_card_payment_with_radio.g_payment_method.provider_list.pay_route:p.shop_id=i.shop_id,p.shop_pass=i.shop_pass,p.mode=n.mode;break;case g_card_payment_with_radio.g_payment_method.provider_list.softbank:p.sb_merchant_id=a.merchant_id,p.sb_service_id=a.service_id,p.sb_hash_key=a.hash_key,p.mode=a.mode,p.masked_card_number=$(d).attr("data-masked_card_number");break;case g_card_payment_with_radio.g_payment_method.provider_list.ze_us:case g_card_payment_with_radio.g_payment_method.provider_list.paygent:case g_card_payment_with_radio.g_payment_method.provider_list.veritrans_4g:p.masked_card_number=$(d).attr("data-masked_card_number")}}if(appendStripe3DSecureToCardData(_,p,d),d&&!$(d).hasClass("group_hidden"))for(var g in p)l[g]=p[g];else{for(var g in p)l[g]="";r=void 0}r&&0!=r.length&&(l.no_persist=r),t.answer.push(l)}}function attachCardInfoCardPaymentWithRadio(e,t,n){if(g_card_payment_with_radio.isPaymentBot){if(isCustomTruncationDisabledProvider(g_card_payment_with_radio.g_payment_method.provider_current)){const i=$(t).attr("data-masked_card_number");attachMaskedCardDigitsByProvider(g_card_payment_with_radio.g_payment_method.provider_current,e,i,n)}else g_card_payment_with_radio.attachCardNumber(e,t,n);g_card_payment_with_radio.attachCardExpireDate(e,t,n),g_card_payment_with_radio.attachCardHolderName(e,t,n)}}function setAnswerMessageCardPaymentWithRadio(e,t){var n=$(e).find(".radio_container li");if(n.length){$(t).each(function(e,t){if($(n).find('input[value="'+t.chosen_answer+'"]').length){var i=$(n).find('input[value="'+t.chosen_answer+'"]');g_card_payment_with_radio.icheckAuto("check",i),i.parents("li").addClass("active"),i.parents(".radio_img_item").length&&i.parents(".radio_img_item").first().addClass("active")}});var i=$(e).find(".card_payment_container");if(!$(i).is(":hidden")){var a=$(e).find(".input_box input, .select_box select");if(!g_card_payment_with_radio.isEmpty(a))for(var r in t){var o="card_"+r;if(!g_card_payment_with_radio.isEmpty(t[r])){var s=$(e).find('.input_box input[name="'+o+'"], .select_box select[name="'+o+'"]');g_card_payment_with_radio.isEmpty(s)||s.val(t[r])}}}}}function appendStripe3DSecureToCardData(e,t,n){e&&(t.stripe_setup_intent=$(n).attr("data-stripe_setup_intent"),t.stripe_payment_method=$(n).attr("data-stripe_payment_method"))}function initProductPurchase(e,t,n,i,a,r,o,s,l,c,d){g_product_purchase_radio_button.g_required_text=e,g_product_purchase_radio_button.g_validate_types=t,g_product_purchase_radio_button.g_currency=n,g_product_purchase_radio_button.g_lang=i,g_product_purchase_radio_button.g_next_mesage=a,g_product_purchase_radio_button.isEmpty=r,g_product_purchase_radio_button.socketIOEmit=o,g_product_purchase_radio_button.createNotify=s,g_product_purchase_radio_button.icheckAuto=l,g_product_purchase_radio_button.getHtmlPrice=c,g_product_purchase_radio_button.nextMessage=d}function initTitleProductPurchaseRadioButtonMessage(e,t){if(e&&t){var n=e.find(".title"),i=g_product_purchase_radio_button.isEmpty;if(n)if(!i(t.title)||!i(t.required_flg)&&t.required_flg){var a=g_product_purchase_radio_button.g_required_text;i(t.required_text)||(a=a.replace(/(>.*<)/,">"+t.required_text+"<"));var r=(t.title?t.title:"")+(t.required_flg?" "+a:"");n.html(r)}else n.remove()}}function initProductItem(e,t,n,i,a){if(e&&t&&i)for(var r=g_product_purchase_radio_button.isEmpty,o=g_product_purchase_radio_button.g_currency,s=g_product_purchase_radio_button.getHtmlPrice,l=0,c=!(r(t.display_price_flg)||!t.display_price_flg),d=!(r(t.display_product_code_flg)||!t.display_product_code_flg),u=!(r(t.display_product_name_flg)||!t.display_product_name_flg),p=0;p<t.list.length;p++)for(var _=0;_<t.list[p].length;_++){var h=n+"_"+l,f=t.list[p][_],m=e.find(".message_type .product_purchase_radio_button_template .product_item").clone(),g=m.find(".product_item_container"),v=m.find(".product_detail_box"),y=m.find(".product_name"),b=m.find("input.option_input"),w=f.text,x=f.sub_name,k=f.url,$=f.image_url,C=f.unit_price,T=f.product_code,D=1,S=!r(f.currency)&&f.currency?f.currency:o.getSymbol(),M=r(f.custom_price_text)?"":f.custom_price_text;if(r(g_product_purchase_radio_button_data_init[T])||"object"!=typeof g_product_purchase_radio_button_data_init[T]||r(g_product_purchase_radio_button_data_init[T].quantity)||(D=g_product_purchase_radio_button_data_init[T].quantity,g_product_purchase_radio_button_data_init[T].quantity=1),g_product_purchase_radio_button_data[h]={name:w,code:T,unit_price:C,currency:S,amount:D},b.attr("name",n),b.attr("id",h),b.attr("data-label",w),b.attr("data-value",T),b.val(l),r(k)||(y.attr("href",k),y.attr("target","_blank")),r($))m.addClass("no_image");else{var E=e.find(".message_type .product_purchase_radio_button_template .product_image_box").clone();E.find("img").attr("src",$),a==g_product_purchase_radio_button_type.image_text?E.removeClass("col-xs-4").addClass("col-xs-12"):v.removeClass("col-xs-12").addClass("col-xs-8"),g.prepend(E)}if(!r(x)){var A=e.find(".message_type .product_purchase_radio_button_template .product_desc_box").clone();A.find(".product_desc").html(x),v.append(A)}if(u||(w=""),d)if(a==g_product_purchase_radio_button_type.image_text)w+=" "+T;else{var O=e.find(".message_type .product_purchase_radio_button_template .product_code_box").clone();O.find("label.product_code").html(T),O.insertAfter(v.find(".product_name_box"))}if((!r(C)||!r(M))&&c){var P=s(C,S);if(r(M)||(P=M),a==g_product_purchase_radio_button_type.image_text)w+=" "+P;else if(r($))w+=" "+P;else{var q=e.find(".message_type .product_purchase_radio_button_template .product_price_box").clone();r(M)||q.find(".product_price_label").remove(),q.find(".product_price").html(P),v.append(q)}}w?y.html(w):v.find("product_name_box").remove(),m.find("label.product_name, label.product_image_box, label.product_price_label, label.product_price").attr("for",h),i.find(".product_purchase_radio_button_container").append(m),l++}}function createProductPurchaseRadioButtonMessage(e,t,n,i,a){if(e&&t&&i){var r=g_product_purchase_radio_button.isEmpty,o=g_product_purchase_radio_button.g_lang,s=g_product_purchase_radio_button.socketIOEmit,l=g_product_purchase_radio_button.createNotify;e.attr("data-variable_name","product_purchase_radio_button");var c=n.view_type;if(c==g_product_purchase_radio_button_type.image_text&&e.addClass("image_text"),initTitleProductPurchaseRadioButtonMessage(e,n),!r(n.list)&&n.list.length){var d=i+"_product_purchase_radio_button_"+a;e.find(".product_purchase_radio_button_container li.empty_label").remove(),initProductItem(t,n,d,e,c)}else{var u=r(n.error_message)?o.getByCode("no_results_found","No result found"):n.error_message;s("save_conversation_error_log",{log_message_id:i,error_message:u}),l(u,e,"not_remove",!1,!1),e.find(".product_purchase_radio_button_container").remove()}}}function getProductPurchaseRadioButtonAnswer(e,t){if(e&&t){var n=$(e).find(".product_purchase_radio_button_container li");if(n&&0!=n.length){var i=g_product_purchase_radio_button.isEmpty,a=$.map(n.find("input.option_input:checked"),function(e){var t=$(e).attr("id"),n={};if(!i(g_product_purchase_radio_button_data[t])){(n=g_product_purchase_radio_button_data[t]).position=$(e).val();n.amount=1}return n});t.answer.push(a)}}}function setAnswerMessageProductPurchaseRadioButton(e,t){var n=$(e).find(".product_purchase_radio_button_container li");if(n&&n.length){var i=g_product_purchase_radio_button.icheckAuto,a=g_product_purchase_radio_button.isEmpty;$(t).each(function(e,t){if($(n).find('input[value="'+t.position+'"]').length){var r=$(n).find('input[value="'+t.position+'"]');i("check",r),a(t.amount)||r.parents("li").find(".product_quantity_box input.content").val(t.amount),r.parents("li.product_item").addClass("active")}})}}function setDataMessageProductPurchaseRadioButton(e,t,n,i,a,r,o,s){var l;if("label"==t?l=$(e).find('input.option_input[data-label="'+i+'"]'):"value"==t&&(l=$(e).find('input.option_input[data-value="'+i+'"]')),l&&l.length){var c=!0;if(!n)l.parents(".product_purchase_radio_button_container").find("input.option_input:checked").length&&(c=!1);var d=g_product_purchase_radio_button.nextMessage,u=g_product_purchase_radio_button.icheckAuto,p=g_product_purchase_radio_button.g_next_mesage;c&&(p.enableNextMessage(),u("check",l),1==s&&setTimeout(function(){d(a,!0)},300)),r.push(o)}}function isCustomTruncationDisabledProvider(e){return[provider_list.ze_us,provider_list.gmo_pg].includes(e)}function attachMaskedCardDigitsByProvider(e,t,n,i){n&&((1==i.get_card_info_flg||i.save_last_4_digits_card_number_flg)&&truncateLast4DigitsByProvider(e,t,n),(1==i.get_first_6digits_card_flg||i.save_first_6_digits_card_number_flg)&&truncateFirst6DigitsByProvider(e,t,n))}function truncateLast4DigitsByProvider(e,t,n){switch(e){case provider_list.ze_us:case provider_list.gmo_pg:t.number=n.substr(n.length-4,4)}}function truncateFirst6DigitsByProvider(e,t,n){switch(e){case provider_list.ze_us:t.number_first_6digits="";break;case provider_list.gmo_pg:t.number_first_6digits=n.substr(0,6)}}if(function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=G.type(e);return"function"!==n&&!G.isWindow(e)&&(!(1!==e.nodeType||!t)||"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e,t,n){if(G.isFunction(t))return G.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return G.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ne.test(t))return G.filter(t,e,n);t=G.filter(t,e)}return G.grep(e,function(e){return H.call(t,e)>=0!==n})}function a(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function r(){U.removeEventListener("DOMContentLoaded",r,!1),e.removeEventListener("load",r,!1),G.ready()}function o(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=G.expando+Math.random()}function s(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(he,"-$1").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:_e.test(n)?G.parseJSON(n):n)}catch(e){}pe.set(e,t,n)}else n=void 0;return n}function l(){return!0}function c(){return!1}function d(){try{return U.activeElement}catch(e){}}function u(e,t){return G.nodeName(e,"table")&&G.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function p(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function _(e){var t=Ee.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function h(e,t){for(var n=0,i=e.length;i>n;n++)ue.set(e[n],"globalEval",!t||ue.get(t[n],"globalEval"))}function f(e,t){var n,i,a,r,o,s,l,c;if(1===t.nodeType){if(ue.hasData(e)&&(r=ue.access(e),o=ue.set(t,r),c=r.events))for(a in delete o.handle,o.events={},c)for(n=0,i=c[a].length;i>n;n++)G.event.add(t,a,c[a][n]);pe.hasData(e)&&(s=pe.access(e),l=G.extend({},s),pe.set(t,l))}}function m(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&G.nodeName(e,t)?G.merge([e],n):n}function g(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ve.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function v(t,n){var i,a=G(n.createElement(t)).appendTo(n.body),r=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(a[0]))?i.display:G.css(a[0],"display");return a.detach(),r}function y(e){var t=U,n=qe[e];return n||("none"!==(n=v(e,t))&&n||((t=(Pe=(Pe||G("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=v(e,t),Pe.detach()),qe[e]=n),n}function b(e,t,n){var i,a,r,o,s=e.style;return(n=n||Fe(e))&&(o=n.getPropertyValue(t)||n[t]),n&&(""!==o||G.contains(e.ownerDocument,e)||(o=G.style(e,t)),Ne.test(o)&&je.test(t)&&(i=s.width,a=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=i,s.minWidth=a,s.maxWidth=r)),void 0!==o?o+"":o}function w(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function x(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,a=Ye.length;a--;)if((t=Ye[a]+n)in e)return t;return i}function k(e,t,n){var i=Ie.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function $(e,t,n,i,a){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,o=0;4>r;r+=2)"margin"===n&&(o+=G.css(e,n+me[r],!0,a)),i?("content"===n&&(o-=G.css(e,"padding"+me[r],!0,a)),"margin"!==n&&(o-=G.css(e,"border"+me[r]+"Width",!0,a))):(o+=G.css(e,"padding"+me[r],!0,a),"padding"!==n&&(o+=G.css(e,"border"+me[r]+"Width",!0,a)));return o}function C(e,t,n){var i=!0,a="width"===t?e.offsetWidth:e.offsetHeight,r=Fe(e),o="border-box"===G.css(e,"boxSizing",!1,r);if(0>=a||null==a){if((0>(a=b(e,t,r))||null==a)&&(a=e.style[t]),Ne.test(a))return a;i=o&&(W.boxSizingReliable()||a===e.style[t]),a=parseFloat(a)||0}return a+$(e,t,n||(o?"border":"content"),i,r)+"px"}function T(e,t){for(var n,i,a,r=[],o=0,s=e.length;s>o;o++)(i=e[o]).style&&(r[o]=ue.get(i,"olddisplay"),n=i.style.display,t?(r[o]||"none"!==n||(i.style.display=""),""===i.style.display&&ge(i)&&(r[o]=ue.access(i,"olddisplay",y(i.nodeName)))):(a=ge(i),"none"===n&&a||ue.set(i,"olddisplay",a?n:G.css(i,"display"))));for(o=0;s>o;o++)(i=e[o]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[o]||"":"none"));return e}function D(e,t,n,i,a){return new D.prototype.init(e,t,n,i,a)}function S(){return setTimeout(function(){ze=void 0}),ze=G.now()}function M(e,t){var n,i=0,a={height:e};for(t=t?1:0;4>i;i+=2-t)a["margin"+(n=me[i])]=a["padding"+n]=e;return t&&(a.opacity=a.width=e),a}function E(e,t,n){for(var i,a=(Xe[t]||[]).concat(Xe["*"]),r=0,o=a.length;o>r;r++)if(i=a[r].call(n,t,e))return i}function A(e,t,n){var i,a,r=0,o=Je.length,s=G.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=ze||S(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),r=0,o=c.tweens.length;o>r;r++)c.tweens[r].run(i);return s.notifyWith(e,[c,i,n]),1>i&&o?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:G.extend({},t),opts:G.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:ze||S(),duration:n.duration,tweens:[],createTween:function(t,n){var i=G.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(a)return this;for(a=!0;i>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),d=c.props;for(function(e,t){var n,i,a,r,o;for(n in e)if(a=t[i=G.camelCase(n)],r=e[n],G.isArray(r)&&(a=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),(o=G.cssHooks[i])&&"expand"in o)for(n in r=o.expand(r),delete e[i],r)n in e||(e[n]=r[n],t[n]=a);else t[i]=a}(d,c.opts.specialEasing);o>r;r++)if(i=Je[r].call(c,e,d,c.opts))return i;return G.map(d,E,c),G.isFunction(c.opts.start)&&c.opts.start.call(e,c),G.fx.timer(G.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function O(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,a=0,r=t.toLowerCase().match(le)||[];if(G.isFunction(n))for(;i=r[a++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function P(e,t,n,i){function a(s){var l;return r[s]=!0,G.each(e[s]||[],function(e,s){var c=s(t,n,i);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),a(c),!1)}),l}var r={},o=e===_t;return a(t.dataTypes[0])||!r["*"]&&a("*")}function q(e,t){var n,i,a=G.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((a[n]?e:i||(i={}))[n]=t[n]);return i&&G.extend(!0,e,i),e}function j(e,t,n,i){var a;if(G.isArray(t))G.each(t,function(t,a){n||mt.test(e)?i(e,a):j(e+"["+("object"==typeof a?t:"")+"]",a,n,i)});else if(n||"object"!==G.type(t))i(e,t);else for(a in t)j(e+"["+a+"]",t[a],n,i)}function N(e){return G.isWindow(e)?e:9===e.nodeType&&e.defaultView}var F=[],L=F.slice,I=F.concat,B=F.push,H=F.indexOf,R={},Y=R.toString,z=R.hasOwnProperty,W={},U=e.document,V="2.1.1",G=function(e,t){return new G.fn.init(e,t)},J=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,X=/^-ms-/,K=/-([\da-z])/gi,Z=function(e,t){return t.toUpperCase()};G.fn=G.prototype={jquery:V,constructor:G,selector:"",length:0,toArray:function(){return L.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:L.call(this)},pushStack:function(e){var t=G.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return G.each(this,e,t)},map:function(e){return this.pushStack(G.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(L.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:B,sort:F.sort,splice:F.splice},G.extend=G.fn.extend=function(){var e,t,n,i,a,r,o=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[s]||{},s++),"object"==typeof o||G.isFunction(o)||(o={}),s===l&&(o=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=o[t],o!==(i=e[t])&&(c&&i&&(G.isPlainObject(i)||(a=G.isArray(i)))?(a?(a=!1,r=n&&G.isArray(n)?n:[]):r=n&&G.isPlainObject(n)?n:{},o[t]=G.extend(c,r,i)):void 0!==i&&(o[t]=i));return o},G.extend({expando:"jQuery"+(V+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===G.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!G.isArray(e)&&e-parseFloat(e)>=0},isPlainObject:function(e){return!("object"!==G.type(e)||e.nodeType||G.isWindow(e)||e.constructor&&!z.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?R[Y.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=G.trim(e))&&(1===e.indexOf("use strict")?((t=U.createElement("script")).text=e,U.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(X,"ms-").replace(K,Z)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var a=0,r=e.length,o=n(e);if(i){if(o)for(;r>a&&!1!==t.apply(e[a],i);a++);else for(a in e)if(!1===t.apply(e[a],i))break}else if(o)for(;r>a&&!1!==t.call(e[a],a,e[a]);a++);else for(a in e)if(!1===t.call(e[a],a,e[a]))break;return e},trim:function(e){return null==e?"":(e+"").replace(J,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?G.merge(i,"string"==typeof e?[e]:e):B.call(i,e)),i},inArray:function(e,t,n){return null==t?-1:H.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,a=e.length;n>i;i++)e[a++]=t[i];return e.length=a,e},grep:function(e,t,n){for(var i=[],a=0,r=e.length,o=!n;r>a;a++)!t(e[a],a)!==o&&i.push(e[a]);return i},map:function(e,t,i){var a,r=0,o=e.length,s=[];if(n(e))for(;o>r;r++)null!=(a=t(e[r],r,i))&&s.push(a);else for(r in e)null!=(a=t(e[r],r,i))&&s.push(a);return I.apply([],s)},guid:1,proxy:function(e,t){var n,i,a;return"string"==typeof t&&(n=e[t],t=e,e=n),G.isFunction(e)?(i=L.call(arguments,2),(a=function(){return e.apply(t||this,i.concat(L.call(arguments)))}).guid=e.guid=e.guid||G.guid++,a):void 0},now:Date.now,support:W}),G.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){R["[object "+t+"]"]=t.toLowerCase()});var Q=function(e){function t(e,t,n,i){var a,r,o,s,l,c,u,_,h,f;if((t?t.ownerDocument||t:B)!==O&&A(t),t=t||O,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(q&&!i){if(a=ve.exec(e))if(o=a[1]){if(9===s){if(!(r=t.getElementById(o))||!r.parentNode)return n;if(r.id===o)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(o))&&L(t,r)&&r.id===o)return n.push(r),n}else{if(a[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((o=a[3])&&w.getElementsByClassName&&t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(o)),n}if(w.qsa&&(!j||!j.test(e))){if(_=u=I,h=t,f=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=C(e),(u=t.getAttribute("id"))?_=u.replace(be,"\\$&"):t.setAttribute("id",_),_="[id='"+_+"'] ",l=c.length;l--;)c[l]=_+p(c[l]);h=ye.test(e)&&d(t.parentNode)||t,f=c.join(",")}if(f)try{return Q.apply(n,h.querySelectorAll(f)),n}catch(e){}finally{u||t.removeAttribute("id")}}}return D(e.replace(le,"$1"),t,n,i)}function n(){var e=[];return function t(n,i){return e.push(n+" ")>x.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function i(e){return e[I]=!0,e}function a(e){var t=O.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var n=e.split("|"),i=e.length;i--;)x.attrHandle[n[i]]=t}function o(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var a,r=e([],n.length,t),o=r.length;o--;)n[a=r[o]]&&(n[a]=!(i[a]=n[a]))})})}function d(e){return e&&typeof e.getElementsByTagName!==V&&e}function u(){}function p(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function _(e,t,n){var i=t.dir,a=n&&"parentNode"===i,r=R++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,r)}:function(t,n,o){var s,l,c=[H,r];if(o){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,o))return!0}else for(;t=t[i];)if(1===t.nodeType||a){if((s=(l=t[I]||(t[I]={}))[i])&&s[0]===H&&s[1]===r)return c[2]=s[2];if(l[i]=c,c[2]=e(t,n,o))return!0}}}function h(e){return e.length>1?function(t,n,i){for(var a=e.length;a--;)if(!e[a](t,n,i))return!1;return!0}:e[0]}function f(e,n,i){for(var a=0,r=n.length;r>a;a++)t(e,n[a],i);return i}function m(e,t,n,i,a){for(var r,o=[],s=0,l=e.length,c=null!=t;l>s;s++)(r=e[s])&&(!n||n(r,i,a))&&(o.push(r),c&&t.push(s));return o}function g(e,t,n,a,r,o){return a&&!a[I]&&(a=g(a)),r&&!r[I]&&(r=g(r,o)),i(function(i,o,s,l){var c,d,u,p=[],_=[],h=o.length,g=i||f(t||"*",s.nodeType?[s]:s,[]),v=!e||!i&&t?g:m(g,p,e,s,l),y=n?r||(i?e:h||a)?[]:o:v;if(n&&n(v,y,s,l),a)for(c=m(y,_),a(c,[],s,l),d=c.length;d--;)(u=c[d])&&(y[_[d]]=!(v[_[d]]=u));if(i){if(r||e){if(r){for(c=[],d=y.length;d--;)(u=y[d])&&c.push(v[d]=u);r(null,y=[],c,l)}for(d=y.length;d--;)(u=y[d])&&(c=r?te.call(i,u):p[d])>-1&&(i[c]=!(o[c]=u))}}else y=m(y===o?y.splice(h,y.length):y),r?r(null,o,y,l):Q.apply(o,y)})}function v(e){for(var t,n,i,a=e.length,r=x.relative[e[0].type],o=r||x.relative[" "],s=r?1:0,l=_(function(e){return e===t},o,!0),c=_(function(e){return te.call(t,e)>-1},o,!0),d=[function(e,n,i){return!r&&(i||n!==S)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];a>s;s++)if(n=x.relative[e[s].type])d=[_(h(d),n)];else{if((n=x.filter[e[s].type].apply(null,e[s].matches))[I]){for(i=++s;a>i&&!x.relative[e[i].type];i++);return g(s>1&&h(d),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),n,i>s&&v(e.slice(s,i)),a>i&&v(e=e.slice(i)),a>i&&p(e))}d.push(n)}return h(d)}function y(e,n){var a=n.length>0,r=e.length>0,o=function(i,o,s,l,c){var d,u,p,_=0,h="0",f=i&&[],g=[],v=S,y=i||r&&x.find.TAG("*",c),b=H+=null==v?1:Math.random()||.1,w=y.length;for(c&&(S=o!==O&&o);h!==w&&null!=(d=y[h]);h++){if(r&&d){for(u=0;p=e[u++];)if(p(d,o,s)){l.push(d);break}c&&(H=b)}a&&((d=!p&&d)&&_--,i&&f.push(d))}if(_+=h,a&&h!==_){for(u=0;p=n[u++];)p(f,g,o,s);if(i){if(_>0)for(;h--;)f[h]||g[h]||(g[h]=K.call(l));g=m(g)}Q.apply(l,g),c&&!i&&g.length>0&&_+n.length>1&&t.uniqueSort(l)}return c&&(H=b,S=v),f};return a?i(o):o}var b,w,x,k,$,C,T,D,S,M,E,A,O,P,q,j,N,F,L,I="sizzle"+-new Date,B=e.document,H=0,R=0,Y=n(),z=n(),W=n(),U=function(e,t){return e===t&&(E=!0),0},V="undefined",G=1<<31,J={}.hasOwnProperty,X=[],K=X.pop,Z=X.push,Q=X.push,ee=X.slice,te=X.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",ae="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=ae.replace("w","w#"),oe="\\["+ie+"*("+ae+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ie+"*\\]",se=":("+ae+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",le=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),ce=new RegExp("^"+ie+"*,"+ie+"*"),de=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),ue=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),pe=new RegExp(se),_e=new RegExp("^"+re+"$"),he={ID:new RegExp("^#("+ae+")"),CLASS:new RegExp("^\\.("+ae+")"),TAG:new RegExp("^("+ae.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),xe=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{Q.apply(X=ee.call(B.childNodes),B.childNodes),X[B.childNodes.length].nodeType}catch(e){Q={apply:X.length?function(e,t){Z.apply(e,ee.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}for(b in w=t.support={},$=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},A=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:B,i=n.defaultView;return n!==O&&9===n.nodeType&&n.documentElement?(O=n,P=n.documentElement,q=!$(n),i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",function(){A()},!1):i.attachEvent&&i.attachEvent("onunload",function(){A()})),w.attributes=a(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=a(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ge.test(n.getElementsByClassName)&&a(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),w.getById=a(function(e){return P.appendChild(e).id=I,!n.getElementsByName||!n.getElementsByName(I).length}),w.getById?(x.find.ID=function(e,t){if(typeof t.getElementById!==V&&q){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(e){var t=e.replace(we,xe);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(we,xe);return function(e){var n=typeof e.getAttributeNode!==V&&e.getAttributeNode("id");return n&&n.value===t}}),x.find.TAG=w.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==V?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],a=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[a++];)1===n.nodeType&&i.push(n);return i}return r},x.find.CLASS=w.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==V&&q?t.getElementsByClassName(e):void 0},N=[],j=[],(w.qsa=ge.test(n.querySelectorAll))&&(a(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&j.push("[*^$]="+ie+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||j.push("\\["+ie+"*(?:value|"+ne+")"),e.querySelectorAll(":checked").length||j.push(":checked")}),a(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&j.push("name"+ie+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||j.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),j.push(",.*:")})),(w.matchesSelector=ge.test(F=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&a(function(e){w.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),N.push("!=",se)}),j=j.length&&new RegExp(j.join("|")),N=N.length&&new RegExp(N.join("|")),t=ge.test(P.compareDocumentPosition),L=t||ge.test(P.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return E=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!w.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===B&&L(B,e)?-1:t===n||t.ownerDocument===B&&L(B,t)?1:M?te.call(M,e)-te.call(M,t):0:4&i?-1:1)}:function(e,t){if(e===t)return E=!0,0;var i,a=0,r=e.parentNode,s=t.parentNode,l=[e],c=[t];if(!r||!s)return e===n?-1:t===n?1:r?-1:s?1:M?te.call(M,e)-te.call(M,t):0;if(r===s)return o(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;l[a]===c[a];)a++;return a?o(l[a],c[a]):l[a]===B?-1:c[a]===B?1:0},n):O},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==O&&A(e),n=n.replace(ue,"='$1']"),!(!w.matchesSelector||!q||N&&N.test(n)||j&&j.test(n)))try{var i=F.call(e,n);if(i||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return t(n,O,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==O&&A(e),L(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==O&&A(e);var n=x.attrHandle[t.toLowerCase()],i=n&&J.call(x.attrHandle,t.toLowerCase())?n(e,t,!q):void 0;return void 0!==i?i:w.attributes||!q?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,a=0;if(E=!w.detectDuplicates,M=!w.sortStable&&e.slice(0),e.sort(U),E){for(;t=e[a++];)t===e[a]&&(i=n.push(a));for(;i--;)e.splice(n[i],1)}return M=null,e},k=t.getText=function(e){var t,n="",i=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[i++];)n+=k(t);return n},(x=t.selectors={cacheLength:50,createPseudo:i,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(we,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pe.test(n)&&(t=C(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Y[e+" "];return t||(t=new RegExp("(^|"+ie+")"+e+"("+ie+"|$)"))&&Y(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==V&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(a){var r=t.attr(a,e);return null==r?"!="===n:!n||(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r+" ").indexOf(i)>-1:"|="===n&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,a){var r="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===a?function(e){return!!e.parentNode}:function(t,n,l){var c,d,u,p,_,h,f=r!==o?"nextSibling":"previousSibling",m=t.parentNode,g=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(m){if(r){for(;f;){for(u=t;u=u[f];)if(s?u.nodeName.toLowerCase()===g:1===u.nodeType)return!1;h=f="only"===e&&!h&&"nextSibling"}return!0}if(h=[o?m.firstChild:m.lastChild],o&&v){for(_=(c=(d=m[I]||(m[I]={}))[e]||[])[0]===H&&c[1],p=c[0]===H&&c[2],u=_&&m.childNodes[_];u=++_&&u&&u[f]||(p=_=0)||h.pop();)if(1===u.nodeType&&++p&&u===t){d[e]=[H,_,p];break}}else if(v&&(c=(t[I]||(t[I]={}))[e])&&c[0]===H)p=c[1];else for(;(u=++_&&u&&u[f]||(p=_=0)||h.pop())&&((s?u.nodeName.toLowerCase()!==g:1!==u.nodeType)||!++p||(v&&((u[I]||(u[I]={}))[e]=[H,p]),u!==t)););return(p-=a)===i||p%i==0&&p/i>=0}}},PSEUDO:function(e,n){var a,r=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[I]?r(n):r.length>1?(a=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,a=r(e,n),o=a.length;o--;)e[i=te.call(e,a[o])]=!(t[i]=a[o])}):function(e){return r(e,0,a)}):r}},pseudos:{not:i(function(e){var t=[],n=[],a=T(e.replace(le,"$1"));return a[I]?i(function(e,t,n,i){for(var r,o=a(e,null,i,[]),s=e.length;s--;)(r=o[s])&&(e[s]=!(t[s]=r))}):function(e,i,r){return t[0]=e,a(t,null,r,n),!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:i(function(e){return _e.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,xe).toLowerCase(),function(t){var n;do{if(n=q?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===P},focus:function(e){return e===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})x.pseudos[b]=l(b);return u.prototype=x.filters=x.pseudos,x.setFilters=new u,C=t.tokenize=function(e,n){var i,a,r,o,s,l,c,d=z[e+" "];if(d)return n?0:d.slice(0);for(s=e,l=[],c=x.preFilter;s;){for(o in(!i||(a=ce.exec(s)))&&(a&&(s=s.slice(a[0].length)||s),l.push(r=[])),i=!1,(a=de.exec(s))&&(i=a.shift(),r.push({value:i,type:a[0].replace(le," ")}),s=s.slice(i.length)),x.filter)!(a=he[o].exec(s))||c[o]&&!(a=c[o](a))||(i=a.shift(),r.push({value:i,type:o,matches:a}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):z(e,l).slice(0)},T=t.compile=function(e,t){var n,i=[],a=[],r=W[e+" "];if(!r){for(t||(t=C(e)),n=t.length;n--;)(r=v(t[n]))[I]?i.push(r):a.push(r);(r=W(e,y(a,i))).selector=e}return r},D=t.select=function(e,t,n,i){var a,r,o,s,l,c="function"==typeof e&&e,u=!i&&C(e=c.selector||e);if(n=n||[],1===u.length){if((r=u[0]=u[0].slice(0)).length>2&&"ID"===(o=r[0]).type&&w.getById&&9===t.nodeType&&q&&x.relative[r[1].type]){if(!(t=(x.find.ID(o.matches[0].replace(we,xe),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(a=he.needsContext.test(e)?0:r.length;a--&&(o=r[a],!x.relative[s=o.type]);)if((l=x.find[s])&&(i=l(o.matches[0].replace(we,xe),ye.test(r[0].type)&&d(t.parentNode)||t))){if(r.splice(a,1),!(e=i.length&&p(r)))return Q.apply(n,i),n;break}}return(c||T(e,u))(i,t,!q,n,ye.test(e)&&d(t.parentNode)||t),n},w.sortStable=I.split("").sort(U).join("")===I,w.detectDuplicates=!!E,A(),w.sortDetached=a(function(e){return 1&e.compareDocumentPosition(O.createElement("div"))}),a(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&a(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),a(function(e){return null==e.getAttribute("disabled")})||r(ne,function(e,t,n){var i;return n?void 0:!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);G.find=Q,G.expr=Q.selectors,G.expr[":"]=G.expr.pseudos,G.unique=Q.uniqueSort,G.text=Q.getText,G.isXMLDoc=Q.isXML,G.contains=Q.contains;var ee=G.expr.match.needsContext,te=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ne=/^.[^:#\[\.,]*$/;G.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?G.find.matchesSelector(i,e)?[i]:[]:G.find.matches(e,G.grep(t,function(e){return 1===e.nodeType}))},G.fn.extend({find:function(e){var t,n=this.length,i=[],a=this;if("string"!=typeof e)return this.pushStack(G(e).filter(function(){for(t=0;n>t;t++)if(G.contains(a[t],this))return!0}));for(t=0;n>t;t++)G.find(e,a[t],i);return(i=this.pushStack(n>1?G.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&ee.test(e)?G(e):e||[],!1).length}});var ie,ae=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(G.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ae.exec(e))||!n[1]&&t)return!t||t.jquery?(t||ie).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof G?t[0]:t,G.merge(this,G.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:U,!0)),te.test(n[1])&&G.isPlainObject(t))for(n in t)G.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(i=U.getElementById(n[2]))&&i.parentNode&&(this.length=1,this[0]=i),this.context=U,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):G.isFunction(e)?void 0!==ie.ready?ie.ready(e):e(G):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),G.makeArray(e,this))}).prototype=G.fn,ie=G(U);var re=/^(?:parents|prev(?:Until|All))/,oe={children:!0,contents:!0,next:!0,prev:!0};G.extend({dir:function(e,t,n){for(var i=[],a=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(a&&G(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),G.fn.extend({has:function(e){var t=G(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(G.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,a=this.length,r=[],o=ee.test(e)||"string"!=typeof e?G(e,t||this.context):0;a>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&G.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?G.unique(r):r)},index:function(e){return e?"string"==typeof e?H.call(G(e),this[0]):H.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(G.unique(G.merge(this.get(),G(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),G.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return G.dir(e,"parentNode")},parentsUntil:function(e,t,n){return G.dir(e,"parentNode",n)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return G.dir(e,"nextSibling")},prevAll:function(e){return G.dir(e,"previousSibling")},nextUntil:function(e,t,n){return G.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return G.dir(e,"previousSibling",n)},siblings:function(e){return G.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return G.sibling(e.firstChild)},contents:function(e){return e.contentDocument||G.merge([],e.childNodes)}},function(e,t){G.fn[e]=function(n,i){var a=G.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(a=G.filter(i,a)),this.length>1&&(oe[e]||G.unique(a),re.test(e)&&a.reverse()),this.pushStack(a)}});var se,le=/\S+/g,ce={};G.Callbacks=function(e){var t,n,i,a,r,o,s=[],l=!(e="string"==typeof e?ce[e]||function(e){var t=ce[e]={};return G.each(e.match(le)||[],function(e,n){t[n]=!0}),t}(e):G.extend({},e)).once&&[],c=function(u){for(t=e.memory&&u,n=!0,o=a||0,a=0,r=s.length,i=!0;s&&r>o;o++)if(!1===s[o].apply(u[0],u[1])&&e.stopOnFalse){t=!1;break}i=!1,s&&(l?l.length&&c(l.shift()):t?s=[]:d.disable())},d={add:function(){if(s){var n=s.length;!function t(n){G.each(n,function(n,i){var a=G.type(i);"function"===a?e.unique&&d.has(i)||s.push(i):i&&i.length&&"string"!==a&&t(i)})}(arguments),i?r=s.length:t&&(a=n,c(t))}return this},remove:function(){return s&&G.each(arguments,function(e,t){for(var n;(n=G.inArray(t,s,n))>-1;)s.splice(n,1),i&&(r>=n&&r--,o>=n&&o--)}),this},has:function(e){return e?G.inArray(e,s)>-1:!(!s||!s.length)},empty:function(){return s=[],r=0,this},disable:function(){return s=l=t=void 0,this},disabled:function(){return!s},lock:function(){return l=void 0,t||d.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!s||n&&!l||(t=[e,(t=t||[]).slice?t.slice():t],i?l.push(t):c(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},G.extend({Deferred:function(e){var t=[["resolve","done",G.Callbacks("once memory"),"resolved"],["reject","fail",G.Callbacks("once memory"),"rejected"],["notify","progress",G.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var e=arguments;return G.Deferred(function(n){G.each(t,function(t,r){var o=G.isFunction(e[t])&&e[t];a[r[1]](function(){var e=o&&o.apply(this,arguments);e&&G.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[r[0]+"With"](this===i?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?G.extend(e,i):i}},a={};return i.pipe=i.then,G.each(t,function(e,r){var o=r[2],s=r[3];i[r[1]]=o.add,s&&o.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),a[r[0]]=function(){return a[r[0]+"With"](this===a?i:this,arguments),this},a[r[0]+"With"]=o.fireWith}),i.promise(a),e&&e.call(a,a),a},when:function(e){var t,n,i,a=0,r=L.call(arguments),o=r.length,s=1!==o||e&&G.isFunction(e.promise)?o:0,l=1===s?e:G.Deferred(),c=function(e,n,i){return function(a){n[e]=this,i[e]=arguments.length>1?L.call(arguments):a,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(o>1)for(t=new Array(o),n=new Array(o),i=new Array(o);o>a;a++)r[a]&&G.isFunction(r[a].promise)?r[a].promise().done(c(a,i,r)).fail(l.reject).progress(c(a,n,t)):--s;return s||l.resolveWith(i,r),l.promise()}}),G.fn.ready=function(e){return G.ready.promise().done(e),this},G.extend({isReady:!1,readyWait:1,holdReady:function(e){e?G.readyWait++:G.ready(!0)},ready:function(e){(!0===e?--G.readyWait:G.isReady)||(G.isReady=!0,!0!==e&&--G.readyWait>0||(se.resolveWith(U,[G]),G.fn.triggerHandler&&(G(U).triggerHandler("ready"),G(U).off("ready"))))}}),G.ready.promise=function(t){return se||(se=G.Deferred(),"complete"===U.readyState?setTimeout(G.ready):(U.addEventListener("DOMContentLoaded",r,!1),e.addEventListener("load",r,!1))),se.promise(t)},G.ready.promise();var de=G.access=function(e,t,n,i,a,r,o){var s=0,l=e.length,c=null==n;if("object"===G.type(n))for(s in a=!0,n)G.access(e,t,s,n[s],!0,r,o);else if(void 0!==i&&(a=!0,G.isFunction(i)||(o=!0),c&&(o?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(G(e),n)})),t))for(;l>s;s++)t(e[s],n,o?i:i.call(e[s],s,t(e[s],n)));return a?e:c?t.call(e):l?t(e[0],n):r};G.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},o.uid=1,o.accepts=G.acceptData,o.prototype={key:function(e){if(!o.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=o.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(i){t[this.expando]=n,G.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var i,a=this.key(e),r=this.cache[a];if("string"==typeof t)r[t]=n;else if(G.isEmptyObject(r))G.extend(this.cache[a],t);else for(i in t)r[i]=t[i];return r},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(i=this.get(e,t))?i:this.get(e,G.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,a,r=this.key(e),o=this.cache[r];if(void 0===t)this.cache[r]={};else{G.isArray(t)?i=t.concat(t.map(G.camelCase)):(a=G.camelCase(t),t in o?i=[t,a]:i=(i=a)in o?[i]:i.match(le)||[]),n=i.length;for(;n--;)delete o[i[n]]}},hasData:function(e){return!G.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ue=new o,pe=new o,_e=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,he=/([A-Z])/g;G.extend({hasData:function(e){return pe.hasData(e)||ue.hasData(e)},data:function(e,t,n){return pe.access(e,t,n)},removeData:function(e,t){pe.remove(e,t)},_data:function(e,t,n){return ue.access(e,t,n)},_removeData:function(e,t){ue.remove(e,t)}}),G.fn.extend({data:function(e,t){var n,i,a,r=this[0],o=r&&r.attributes;if(void 0===e){if(this.length&&(a=pe.get(r),1===r.nodeType&&!ue.get(r,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&(0===(i=o[n].name).indexOf("data-")&&(i=G.camelCase(i.slice(5)),s(r,i,a[i])));ue.set(r,"hasDataAttrs",!0)}return a}return"object"==typeof e?this.each(function(){pe.set(this,e)}):de(this,function(t){var n,i=G.camelCase(e);if(r&&void 0===t){if(void 0!==(n=pe.get(r,e)))return n;if(void 0!==(n=pe.get(r,i)))return n;if(void 0!==(n=s(r,i,void 0)))return n}else this.each(function(){var n=pe.get(this,i);pe.set(this,i,t),-1!==e.indexOf("-")&&void 0!==n&&pe.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){pe.remove(this,e)})}}),G.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=ue.get(e,t),n&&(!i||G.isArray(n)?i=ue.access(e,t,G.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=G.queue(e,t),i=n.length,a=n.shift(),r=G._queueHooks(e,t);"inprogress"===a&&(a=n.shift(),i--),a&&("fx"===t&&n.unshift("inprogress"),delete r.stop,a.call(e,function(){G.dequeue(e,t)},r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ue.get(e,n)||ue.access(e,n,{empty:G.Callbacks("once memory").add(function(){ue.remove(e,[t+"queue",n])})})}}),G.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?G.queue(this[0],e):void 0===t?this:this.each(function(){var n=G.queue(this,e,t);G._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&G.dequeue(this,e)})},dequeue:function(e){return this.each(function(){G.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,a=G.Deferred(),r=this,o=this.length,s=function(){--i||a.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(n=ue.get(r[o],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),a.promise(t)}});var fe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,me=["Top","Right","Bottom","Left"],ge=function(e,t){return e=t||e,"none"===G.css(e,"display")||!G.contains(e.ownerDocument,e)},ve=/^(?:checkbox|radio)$/i;!function(){var e=U.createDocumentFragment().appendChild(U.createElement("div")),t=U.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),W.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",W.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var ye="undefined";W.focusinBubbles="onfocusin"in e;var be=/^key/,we=/^(?:mouse|pointer|contextmenu)|click/,xe=/^(?:focusinfocus|focusoutblur)$/,ke=/^([^.]*)(?:\.(.+)|)$/;G.event={global:{},add:function(e,t,n,i,a){var r,o,s,l,c,d,u,p,_,h,f,m=ue.get(e);if(m)for(n.handler&&(n=(r=n).handler,a=r.selector),n.guid||(n.guid=G.guid++),(l=m.events)||(l=m.events={}),(o=m.handle)||(o=m.handle=function(t){return typeof G!==ye&&G.event.triggered!==t.type?G.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(le)||[""]).length;c--;)_=f=(s=ke.exec(t[c])||[])[1],h=(s[2]||"").split(".").sort(),_&&(u=G.event.special[_]||{},_=(a?u.delegateType:u.bindType)||_,u=G.event.special[_]||{},d=G.extend({type:_,origType:f,data:i,handler:n,guid:n.guid,selector:a,needsContext:a&&G.expr.match.needsContext.test(a),namespace:h.join(".")},r),(p=l[_])||((p=l[_]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,i,h,o)||e.addEventListener&&e.addEventListener(_,o,!1)),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),a?p.splice(p.delegateCount++,0,d):p.push(d),G.event.global[_]=!0)},remove:function(e,t,n,i,a){var r,o,s,l,c,d,u,p,_,h,f,m=ue.hasData(e)&&ue.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(le)||[""]).length;c--;)if(_=f=(s=ke.exec(t[c])||[])[1],h=(s[2]||"").split(".").sort(),_){for(u=G.event.special[_]||{},p=l[_=(i?u.delegateType:u.bindType)||_]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=r=p.length;r--;)d=p[r],!a&&f!==d.origType||n&&n.guid!==d.guid||s&&!s.test(d.namespace)||i&&i!==d.selector&&("**"!==i||!d.selector)||(p.splice(r,1),d.selector&&p.delegateCount--,u.remove&&u.remove.call(e,d));o&&!p.length&&(u.teardown&&!1!==u.teardown.call(e,h,m.handle)||G.removeEvent(e,_,m.handle),delete l[_])}else for(_ in l)G.event.remove(e,_+t[c],n,i,!0);G.isEmptyObject(l)&&(delete m.handle,ue.remove(e,"events"))}},trigger:function(t,n,i,a){var r,o,s,l,c,d,u,p=[i||U],_=z.call(t,"type")?t.type:t,h=z.call(t,"namespace")?t.namespace.split("."):[];if(o=s=i=i||U,3!==i.nodeType&&8!==i.nodeType&&!xe.test(_+G.event.triggered)&&(_.indexOf(".")>=0&&(_=(h=_.split(".")).shift(),h.sort()),c=_.indexOf(":")<0&&"on"+_,(t=t[G.expando]?t:new G.Event(_,"object"==typeof t&&t)).isTrigger=a?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:G.makeArray(n,[t]),u=G.event.special[_]||{},a||!u.trigger||!1!==u.trigger.apply(i,n))){if(!a&&!u.noBubble&&!G.isWindow(i)){for(l=u.delegateType||_,xe.test(l+_)||(o=o.parentNode);o;o=o.parentNode)p.push(o),s=o;s===(i.ownerDocument||U)&&p.push(s.defaultView||s.parentWindow||e)}for(r=0;(o=p[r++])&&!t.isPropagationStopped();)t.type=r>1?l:u.bindType||_,(d=(ue.get(o,"events")||{})[t.type]&&ue.get(o,"handle"))&&d.apply(o,n),(d=c&&o[c])&&d.apply&&G.acceptData(o)&&(t.result=d.apply(o,n),!1===t.result&&t.preventDefault());return t.type=_,a||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(p.pop(),n)||!G.acceptData(i)||c&&G.isFunction(i[_])&&!G.isWindow(i)&&((s=i[c])&&(i[c]=null),G.event.triggered=_,i[_](),G.event.triggered=void 0,s&&(i[c]=s)),t.result}},dispatch:function(e){e=G.event.fix(e);var t,n,i,a,r,o=[],s=L.call(arguments),l=(ue.get(this,"events")||{})[e.type]||[],c=G.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(o=G.event.handlers.call(this,e,l),t=0;(a=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,n=0;(r=a.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,void 0!==(i=((G.event.special[r.origType]||{}).handle||r.handler).apply(a.elem,s))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,a,r,o=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==e.type){for(i=[],n=0;s>n;n++)void 0===i[a=(r=t[n]).selector+" "]&&(i[a]=r.needsContext?G(a,this).index(l)>=0:G.find(a,this,null,[l]).length),i[a]&&i.push(r);i.length&&o.push({elem:l,handlers:i})}return s<t.length&&o.push({elem:this,handlers:t.slice(s)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,a,r=t.button;return null==e.pageX&&null!=t.clientX&&(i=(n=e.target.ownerDocument||U).documentElement,a=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||a&&a.scrollLeft||0)-(i&&i.clientLeft||a&&a.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||a&&a.scrollTop||0)-(i&&i.clientTop||a&&a.clientTop||0)),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},fix:function(e){if(e[G.expando])return e;var t,n,i,a=e.type,r=e,o=this.fixHooks[a];for(o||(this.fixHooks[a]=o=we.test(a)?this.mouseHooks:be.test(a)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,e=new G.Event(r),t=i.length;t--;)e[n=i[t]]=r[n];return e.target||(e.target=U),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,r):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==d()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&G.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return G.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var a=G.extend(new G.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?G.event.trigger(a,null,t):G.event.dispatch.call(t,a),a.isDefaultPrevented()&&n.preventDefault()}},G.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},G.Event=function(e,t){return this instanceof G.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?l:c):this.type=e,t&&G.extend(this,t),this.timeStamp=e&&e.timeStamp||G.now(),void(this[G.expando]=!0)):new G.Event(e,t)},G.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=l,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},G.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){G.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,a=e.handleObj;return(!i||i!==this&&!G.contains(this,i))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),W.focusinBubbles||G.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){G.event.simulate(t,e.target,G.event.fix(e),!0)};G.event.special[t]={setup:function(){var i=this.ownerDocument||this,a=ue.access(i,t);a||i.addEventListener(e,n,!0),ue.access(i,t,(a||0)+1)},teardown:function(){var i=this.ownerDocument||this,a=ue.access(i,t)-1;a?ue.access(i,t,a):(i.removeEventListener(e,n,!0),ue.remove(i,t))}}}),G.fn.extend({on:function(e,t,n,i,a){var r,o;if("object"==typeof e){for(o in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(o,t,n,e[o],a);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),!1===i)i=c;else if(!i)return this;return 1===a&&(r=i,(i=function(e){return G().off(e),r.apply(this,arguments)}).guid=r.guid||(r.guid=G.guid++)),this.each(function(){G.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,a;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,G(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(a in e)this.off(a,t,e[a]);return this}return(!1===t||"function"==typeof t)&&(n=t,t=void 0),!1===n&&(n=c),this.each(function(){G.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){G.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?G.event.trigger(e,t,n,!0):void 0}});var $e=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ce=/<([\w:]+)/,Te=/<|&#?\w+;/,De=/<(?:script|style|link)/i,Se=/checked\s*(?:[^=]|=\s*.checked.)/i,Me=/^$|\/(?:java|ecma)script/i,Ee=/^true\/(.*)/,Ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Oe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Oe.optgroup=Oe.option,Oe.tbody=Oe.tfoot=Oe.colgroup=Oe.caption=Oe.thead,Oe.th=Oe.td,G.extend({clone:function(e,t,n){var i,a,r,o,s=e.cloneNode(!0),l=G.contains(e.ownerDocument,e);if(!(W.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||G.isXMLDoc(e)))for(o=m(s),i=0,a=(r=m(e)).length;a>i;i++)g(r[i],o[i]);if(t)if(n)for(r=r||m(e),o=o||m(s),i=0,a=r.length;a>i;i++)f(r[i],o[i]);else f(e,s);return(o=m(s,"script")).length>0&&h(o,!l&&m(e,"script")),s},buildFragment:function(e,t,n,i){for(var a,r,o,s,l,c,d=t.createDocumentFragment(),u=[],p=0,_=e.length;_>p;p++)if((a=e[p])||0===a)if("object"===G.type(a))G.merge(u,a.nodeType?[a]:a);else if(Te.test(a)){for(r=r||d.appendChild(t.createElement("div")),o=(Ce.exec(a)||["",""])[1].toLowerCase(),s=Oe[o]||Oe._default,r.innerHTML=s[1]+a.replace($e,"<$1></$2>")+s[2],c=s[0];c--;)r=r.lastChild;G.merge(u,r.childNodes),(r=d.firstChild).textContent=""}else u.push(t.createTextNode(a));for(d.textContent="",p=0;a=u[p++];)if((!i||-1===G.inArray(a,i))&&(l=G.contains(a.ownerDocument,a),r=m(d.appendChild(a),"script"),l&&h(r),n))for(c=0;a=r[c++];)Me.test(a.type||"")&&n.push(a);return d},cleanData:function(e){for(var t,n,i,a,r=G.event.special,o=0;void 0!==(n=e[o]);o++){if(G.acceptData(n)&&((a=n[ue.expando])&&(t=ue.cache[a]))){if(t.events)for(i in t.events)r[i]?G.event.remove(n,i):G.removeEvent(n,i,t.handle);ue.cache[a]&&delete ue.cache[a]}delete pe.cache[n[pe.expando]]}}}),G.fn.extend({text:function(e){return de(this,function(e){return void 0===e?G.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||u(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=u(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?G.filter(e,this):this,a=0;null!=(n=i[a]);a++)t||1!==n.nodeType||G.cleanData(m(n)),n.parentNode&&(t&&G.contains(n.ownerDocument,n)&&h(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(G.cleanData(m(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return G.clone(this,e,t)})},html:function(e){return de(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!De.test(e)&&!Oe[(Ce.exec(e)||["",""])[1].toLowerCase()]){e=e.replace($e,"<$1></$2>");try{for(;i>n;n++)1===(t=this[n]||{}).nodeType&&(G.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,G.cleanData(m(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=I.apply([],e);var n,i,a,r,o,s,l=0,c=this.length,d=this,u=c-1,h=e[0],f=G.isFunction(h);if(f||c>1&&"string"==typeof h&&!W.checkClone&&Se.test(h))return this.each(function(n){var i=d.eq(n);f&&(e[0]=h.call(this,n,i.html())),i.domManip(e,t)});if(c&&(i=(n=G.buildFragment(e,this[0].ownerDocument,!1,this)).firstChild,1===n.childNodes.length&&(n=i),i)){for(r=(a=G.map(m(n,"script"),p)).length;c>l;l++)o=n,l!==u&&(o=G.clone(o,!0,!0),r&&G.merge(a,m(o,"script"))),t.call(this[l],o,l);if(r)for(s=a[a.length-1].ownerDocument,G.map(a,_),l=0;r>l;l++)o=a[l],Me.test(o.type||"")&&!ue.access(o,"globalEval")&&G.contains(s,o)&&(o.src?G._evalUrl&&G._evalUrl(o.src):G.globalEval(o.textContent.replace(Ae,"")))}return this}}),G.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){G.fn[e]=function(e){for(var n,i=[],a=G(e),r=a.length-1,o=0;r>=o;o++)n=o===r?this:this.clone(!0),G(a[o])[t](n),B.apply(i,n.get());return this.pushStack(i)}});var Pe,qe={},je=/^margin/,Ne=new RegExp("^("+fe+")(?!px)[a-z%]+$","i"),Fe=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};!function(){function t(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",a.appendChild(r);var t=e.getComputedStyle(o,null);n="1%"!==t.top,i="4px"===t.width,a.removeChild(r)}var n,i,a=U.documentElement,r=U.createElement("div"),o=U.createElement("div");o.style&&(o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",W.clearCloneStyle="content-box"===o.style.backgroundClip,r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(o),e.getComputedStyle&&G.extend(W,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==i&&t(),i},reliableMarginRight:function(){var t,n=o.appendChild(U.createElement("div"));return n.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",o.style.width="1px",a.appendChild(r),t=!parseFloat(e.getComputedStyle(n,null).marginRight),a.removeChild(r),t}}))}(),G.swap=function(e,t,n,i){var a,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];for(r in a=n.apply(e,i||[]),t)e.style[r]=o[r];return a};var Le=/^(none|table(?!-c[ea]).+)/,Ie=new RegExp("^("+fe+")(.*)$","i"),Be=new RegExp("^([+-])=("+fe+")","i"),He={position:"absolute",visibility:"hidden",display:"block"},Re={letterSpacing:"0",fontWeight:"400"},Ye=["Webkit","O","Moz","ms"];G.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=b(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,r,o,s=G.camelCase(t),l=e.style;return t=G.cssProps[s]||(G.cssProps[s]=x(l,s)),o=G.cssHooks[t]||G.cssHooks[s],void 0===n?o&&"get"in o&&void 0!==(a=o.get(e,!1,i))?a:l[t]:("string"===(r=typeof n)&&(a=Be.exec(n))&&(n=(a[1]+1)*a[2]+parseFloat(G.css(e,t)),r="number"),void(null!=n&&n==n&&("number"!==r||G.cssNumber[s]||(n+="px"),W.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,i))||(l[t]=n))))}},css:function(e,t,n,i){var a,r,o,s=G.camelCase(t);return t=G.cssProps[s]||(G.cssProps[s]=x(e.style,s)),(o=G.cssHooks[t]||G.cssHooks[s])&&"get"in o&&(a=o.get(e,!0,n)),void 0===a&&(a=b(e,t,i)),"normal"===a&&t in Re&&(a=Re[t]),""===n||n?(r=parseFloat(a),!0===n||G.isNumeric(r)?r||0:a):a}}),G.each(["height","width"],function(e,t){G.cssHooks[t]={get:function(e,n,i){return n?Le.test(G.css(e,"display"))&&0===e.offsetWidth?G.swap(e,He,function(){return C(e,t,i)}):C(e,t,i):void 0},set:function(e,n,i){var a=i&&Fe(e);return k(0,n,i?$(e,t,i,"border-box"===G.css(e,"boxSizing",!1,a),a):0)}}}),G.cssHooks.marginRight=w(W.reliableMarginRight,function(e,t){return t?G.swap(e,{display:"inline-block"},b,[e,"marginRight"]):void 0}),G.each({margin:"",padding:"",border:"Width"},function(e,t){G.cssHooks[e+t]={expand:function(n){for(var i=0,a={},r="string"==typeof n?n.split(" "):[n];4>i;i++)a[e+me[i]+t]=r[i]||r[i-2]||r[0];return a}},je.test(e)||(G.cssHooks[e+t].set=k)}),G.fn.extend({css:function(e,t){return de(this,function(e,t,n){var i,a,r={},o=0;if(G.isArray(t)){for(i=Fe(e),a=t.length;a>o;o++)r[t[o]]=G.css(e,t[o],!1,i);return r}return void 0!==n?G.style(e,t,n):G.css(e,t)},e,t,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ge(this)?G(this).show():G(this).hide()})}}),G.Tween=D,D.prototype={constructor:D,init:function(e,t,n,i,a,r){this.elem=e,this.prop=n,this.easing=a||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(G.cssNumber[n]?"":"px")},cur:function(){var e=D.propHooks[this.prop];return e&&e.get?e.get(this):D.propHooks._default.get(this)},run:function(e){var t,n=D.propHooks[this.prop];return this.pos=t=this.options.duration?G.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=G.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){G.fx.step[e.prop]?G.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[G.cssProps[e.prop]]||G.cssHooks[e.prop])?G.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},G.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},G.fx=D.prototype.init,G.fx.step={};var ze,We,Ue=/^(?:toggle|show|hide)$/,Ve=new RegExp("^(?:([+-])=|)("+fe+")([a-z%]*)$","i"),Ge=/queueHooks$/,Je=[function(e,t,n){var i,a,r,o,s,l,c,d=this,u={},p=e.style,_=e.nodeType&&ge(e),h=ue.get(e,"fxshow");for(i in n.queue||(null==(s=G._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,G.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===("none"===(c=G.css(e,"display"))?ue.get(e,"olddisplay")||y(e.nodeName):c)&&"none"===G.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),t)if(a=t[i],Ue.exec(a)){if(delete t[i],r=r||"toggle"===a,a===(_?"hide":"show")){if("show"!==a||!h||void 0===h[i])continue;_=!0}u[i]=h&&h[i]||G.style(e,i)}else c=void 0;if(G.isEmptyObject(u))"inline"===("none"===c?y(e.nodeName):c)&&(p.display=c);else for(i in h?"hidden"in h&&(_=h.hidden):h=ue.access(e,"fxshow",{}),r&&(h.hidden=!_),_?G(e).show():d.done(function(){G(e).hide()}),d.done(function(){var t;for(t in ue.remove(e,"fxshow"),u)G.style(e,t,u[t])}),u)o=E(_?h[i]:0,i,d),i in h||(h[i]=o.start,_&&(o.end=o.start,o.start="width"===i||"height"===i?1:0))}],Xe={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),a=Ve.exec(t),r=a&&a[3]||(G.cssNumber[e]?"":"px"),o=(G.cssNumber[e]||"px"!==r&&+i)&&Ve.exec(G.css(n.elem,e)),s=1,l=20;if(o&&o[3]!==r){r=r||o[3],a=a||[],o=+i||1;do{o/=s=s||".5",G.style(n.elem,e,o+r)}while(s!==(s=n.cur()/i)&&1!==s&&--l)}return a&&(o=n.start=+o||+i||0,n.unit=r,n.end=a[1]?o+(a[1]+1)*a[2]:+a[2]),n}]};G.Animation=G.extend(A,{tweener:function(e,t){G.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,a=e.length;a>i;i++)n=e[i],Xe[n]=Xe[n]||[],Xe[n].unshift(t)},prefilter:function(e,t){t?Je.unshift(e):Je.push(e)}}),G.speed=function(e,t,n){var i=e&&"object"==typeof e?G.extend({},e):{complete:n||!n&&t||G.isFunction(e)&&e,duration:e,easing:n&&t||t&&!G.isFunction(t)&&t};return i.duration=G.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in G.fx.speeds?G.fx.speeds[i.duration]:G.fx.speeds._default,(null==i.queue||!0===i.queue)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){G.isFunction(i.old)&&i.old.call(this),i.queue&&G.dequeue(this,i.queue)},i},G.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ge).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var a=G.isEmptyObject(e),r=G.speed(t,n,i),o=function(){var t=A(this,G.extend({},e),r);(a||ue.get(this,"finish"))&&t.stop(!0)};return o.finish=o,a||!1===r.queue?this.each(o):this.queue(r.queue,o)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,a=null!=e&&e+"queueHooks",r=G.timers,o=ue.get(this);if(a)o[a]&&o[a].stop&&i(o[a]);else for(a in o)o[a]&&o[a].stop&&Ge.test(a)&&i(o[a]);for(a=r.length;a--;)r[a].elem!==this||null!=e&&r[a].queue!==e||(r[a].anim.stop(n),t=!1,r.splice(a,1));(t||!n)&&G.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=ue.get(this),i=n[e+"queue"],a=n[e+"queueHooks"],r=G.timers,o=i?i.length:0;for(n.finish=!0,G.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;o>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),G.each(["toggle","show","hide"],function(e,t){var n=G.fn[t];G.fn[t]=function(e,i,a){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(M(t,!0),e,i,a)}}),G.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){G.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),G.timers=[],G.fx.tick=function(){var e,t=0,n=G.timers;for(ze=G.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||G.fx.stop(),ze=void 0},G.fx.timer=function(e){G.timers.push(e),e()?G.fx.start():G.timers.pop()},G.fx.interval=13,G.fx.start=function(){We||(We=setInterval(G.fx.tick,G.fx.interval))},G.fx.stop=function(){clearInterval(We),We=null},G.fx.speeds={slow:600,fast:200,_default:400},G.fn.delay=function(e,t){return e=G.fx&&G.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e=U.createElement("input"),t=U.createElement("select"),n=t.appendChild(U.createElement("option"));e.type="checkbox",W.checkOn=""!==e.value,W.optSelected=n.selected,t.disabled=!0,W.optDisabled=!n.disabled,(e=U.createElement("input")).value="t",e.type="radio",W.radioValue="t"===e.value}();var Ke,Ze=G.expr.attrHandle;G.fn.extend({attr:function(e,t){return de(this,G.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){G.removeAttr(this,e)})}}),G.extend({attr:function(e,t,n){var i,a,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute===ye?G.prop(e,t,n):(1===r&&G.isXMLDoc(e)||(t=t.toLowerCase(),i=G.attrHooks[t]||(G.expr.match.bool.test(t)?Ke:void 0)),void 0===n?i&&"get"in i&&null!==(a=i.get(e,t))?a:null==(a=G.find.attr(e,t))?void 0:a:null!==n?i&&"set"in i&&void 0!==(a=i.set(e,n,t))?a:(e.setAttribute(t,n+""),n):void G.removeAttr(e,t))},removeAttr:function(e,t){var n,i,a=0,r=t&&t.match(le);if(r&&1===e.nodeType)for(;n=r[a++];)i=G.propFix[n]||n,G.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!W.radioValue&&"radio"===t&&G.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Ke={set:function(e,t,n){return!1===t?G.removeAttr(e,n):e.setAttribute(n,n),n}},G.each(G.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Ze[t]||G.find.attr;Ze[t]=function(e,t,i){var a,r;return i||(r=Ze[t],Ze[t]=a,a=null!=n(e,t,i)?t.toLowerCase():null,Ze[t]=r),a}});var Qe=/^(?:input|select|textarea|button)$/i;G.fn.extend({prop:function(e,t){return de(this,G.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[G.propFix[e]||e]})}}),G.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var i,a,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return(1!==r||!G.isXMLDoc(e))&&(t=G.propFix[t]||t,a=G.propHooks[t]),void 0!==n?a&&"set"in a&&void 0!==(i=a.set(e,n,t))?i:e[t]=n:a&&"get"in a&&null!==(i=a.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Qe.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),W.optSelected||(G.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),G.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){G.propFix[this.toLowerCase()]=this});var et=/[\t\r\n\f]/g;G.fn.extend({addClass:function(e){var t,n,i,a,r,o,s="string"==typeof e&&e,l=0,c=this.length;if(G.isFunction(e))return this.each(function(t){G(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(le)||[];c>l;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(et," "):" ")){for(r=0;a=t[r++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");o=G.trim(i),n.className!==o&&(n.className=o)}return this},removeClass:function(e){var t,n,i,a,r,o,s=0===arguments.length||"string"==typeof e&&e,l=0,c=this.length;if(G.isFunction(e))return this.each(function(t){G(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(le)||[];c>l;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(et," "):"")){for(r=0;a=t[r++];)for(;i.indexOf(" "+a+" ")>=0;)i=i.replace(" "+a+" "," ");o=e?G.trim(i):"",n.className!==o&&(n.className=o)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(G.isFunction(e)?function(n){G(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,a=G(this),r=e.match(le)||[];t=r[i++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else(n===ye||"boolean"===n)&&(this.className&&ue.set(this,"__className__",this.className),this.className=this.className||!1===e?"":ue.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(et," ").indexOf(t)>=0)return!0;return!1}});var tt=/\r/g;G.fn.extend({val:function(e){var t,n,i,a=this[0];return arguments.length?(i=G.isFunction(e),this.each(function(n){var a;1===this.nodeType&&(null==(a=i?e.call(this,n,G(this).val()):e)?a="":"number"==typeof a?a+="":G.isArray(a)&&(a=G.map(a,function(e){return null==e?"":e+""})),(t=G.valHooks[this.type]||G.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,a,"value")||(this.value=a))})):a?(t=G.valHooks[a.type]||G.valHooks[a.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(a,"value"))?n:"string"==typeof(n=a.value)?n.replace(tt,""):null==n?"":n:void 0}}),G.extend({valHooks:{option:{get:function(e){var t=G.find.attr(e,"value");return null!=t?t:G.trim(G.text(e))}},select:{get:function(e){for(var t,n,i=e.options,a=e.selectedIndex,r="select-one"===e.type||0>a,o=r?null:[],s=r?a+1:i.length,l=0>a?s:r?a:0;s>l;l++)if(!(!(n=i[l]).selected&&l!==a||(W.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&G.nodeName(n.parentNode,"optgroup"))){if(t=G(n).val(),r)return t;o.push(t)}return o},set:function(e,t){for(var n,i,a=e.options,r=G.makeArray(t),o=a.length;o--;)((i=a[o]).selected=G.inArray(i.value,r)>=0)&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),G.each(["radio","checkbox"],function(){G.valHooks[this]={set:function(e,t){return G.isArray(t)?e.checked=G.inArray(G(e).val(),t)>=0:void 0}},W.checkOn||(G.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),G.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){G.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),G.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var nt=G.now(),it=/\?/;G.parseJSON=function(e){return JSON.parse(e+"")},G.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&G.error("Invalid XML: "+e),t};var at,rt,ot=/#.*$/,st=/([?&])_=[^&]*/,lt=/^(.*?):[ \t]*([^\r\n]*)$/gm,ct=/^(?:GET|HEAD)$/,dt=/^\/\//,ut=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,pt={},_t={},ht="*/".concat("*");try{rt=location.href}catch(e){(rt=U.createElement("a")).href="",rt=rt.href}at=ut.exec(rt.toLowerCase())||[],G.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:rt,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(at[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ht,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":G.parseJSON,"text xml":G.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?q(q(e,G.ajaxSettings),t):q(G.ajaxSettings,e)},ajaxPrefilter:O(pt),ajaxTransport:O(_t),ajax:function(e,t){function n(e,t,n,o){var l,d,g,v,b,x=t;2!==y&&(y=2,s&&clearTimeout(s),i=void 0,r=o||"",w.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(v=function(e,t,n){for(var i,a,r,o,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){l.unshift(a);break}if(l[0]in n)r=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){r=a;break}o||(o=a)}r=r||o}return r?(r!==l[0]&&l.unshift(r),n[r]):void 0}(u,w,n)),v=function(e,t,n,i){var a,r,o,s,l,c={},d=e.dataTypes.slice();if(d[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(r=d.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=d.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(o=c[l+" "+r]||c["* "+r]))for(a in c)if((s=a.split(" "))[1]===r&&(o=c[l+" "+s[0]]||c["* "+s[0]])){!0===o?o=c[a]:!0!==c[a]&&(r=s[0],d.unshift(s[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(u,v,w,l),l?(u.ifModified&&((b=w.getResponseHeader("Last-Modified"))&&(G.lastModified[a]=b),(b=w.getResponseHeader("etag"))&&(G.etag[a]=b)),204===e||"HEAD"===u.type?x="nocontent":304===e?x="notmodified":(x=v.state,d=v.data,l=!(g=v.error))):(g=x,(e||!x)&&(x="error",0>e&&(e=0))),w.status=e,w.statusText=(t||x)+"",l?h.resolveWith(p,[d,x,w]):h.rejectWith(p,[w,x,g]),w.statusCode(m),m=void 0,c&&_.trigger(l?"ajaxSuccess":"ajaxError",[w,u,l?d:g]),f.fireWith(p,[w,x]),c&&(_.trigger("ajaxComplete",[w,u]),--G.active||G.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,a,r,o,s,l,c,d,u=G.ajaxSetup({},t),p=u.context||u,_=u.context&&(p.nodeType||p.jquery)?G(p):G.event,h=G.Deferred(),f=G.Callbacks("once memory"),m=u.statusCode||{},g={},v={},y=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!o)for(o={};t=lt.exec(r);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?r:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=v[n]=v[n]||e,g[e]=t),this},overrideMimeType:function(e){return y||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)m[t]=[m[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return i&&i.abort(t),n(0,t),this}};if(h.promise(w).complete=f.add,w.success=w.done,w.error=w.fail,u.url=((e||u.url||rt)+"").replace(ot,"").replace(dt,at[1]+"//"),u.type=t.method||t.type||u.method||u.type,u.dataTypes=G.trim(u.dataType||"*").toLowerCase().match(le)||[""],null==u.crossDomain&&(l=ut.exec(u.url.toLowerCase()),u.crossDomain=!(!l||l[1]===at[1]&&l[2]===at[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(at[3]||("http:"===at[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=G.param(u.data,u.traditional)),P(pt,u,t,w),2===y)return w;for(d in(c=u.global)&&0==G.active++&&G.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!ct.test(u.type),a=u.url,u.hasContent||(u.data&&(a=u.url+=(it.test(a)?"&":"?")+u.data,delete u.data),!1===u.cache&&(u.url=st.test(a)?a.replace(st,"$1_="+nt++):a+(it.test(a)?"&":"?")+"_="+nt++)),u.ifModified&&(G.lastModified[a]&&w.setRequestHeader("If-Modified-Since",G.lastModified[a]),G.etag[a]&&w.setRequestHeader("If-None-Match",G.etag[a])),(u.data&&u.hasContent&&!1!==u.contentType||t.contentType)&&w.setRequestHeader("Content-Type",u.contentType),w.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+ht+"; q=0.01":""):u.accepts["*"]),u.headers)w.setRequestHeader(d,u.headers[d]);if(u.beforeSend&&(!1===u.beforeSend.call(p,w,u)||2===y))return w.abort();for(d in b="abort",{success:1,error:1,complete:1})w[d](u[d]);if(i=P(_t,u,t,w)){w.readyState=1,c&&_.trigger("ajaxSend",[w,u]),u.async&&u.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},u.timeout));try{y=1,i.send(g,n)}catch(e){if(!(2>y))throw e;n(-1,e)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return G.get(e,t,n,"json")},getScript:function(e,t){return G.get(e,void 0,t,"script")}}),G.each(["get","post"],function(e,t){G[t]=function(e,n,i,a){return G.isFunction(n)&&(a=a||i,i=n,n=void 0),G.ajax({url:e,type:t,dataType:a,data:n,success:i})}}),G.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){G.fn[t]=function(e){return this.on(t,e)}}),G._evalUrl=function(e){return G.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},G.fn.extend({wrapAll:function(e){var t;return G.isFunction(e)?this.each(function(t){G(this).wrapAll(e.call(this,t))}):(this[0]&&(t=G(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(G.isFunction(e)?function(t){G(this).wrapInner(e.call(this,t))}:function(){var t=G(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=G.isFunction(e);return this.each(function(n){G(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){G.nodeName(this,"body")||G(this).replaceWith(this.childNodes)}).end()}}),G.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},G.expr.filters.visible=function(e){return!G.expr.filters.hidden(e)};var ft=/%20/g,mt=/\[\]$/,gt=/\r?\n/g,vt=/^(?:submit|button|image|reset|file)$/i,yt=/^(?:input|select|textarea|keygen)/i;G.param=function(e,t){var n,i=[],a=function(e,t){t=G.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=G.ajaxSettings&&G.ajaxSettings.traditional),G.isArray(e)||e.jquery&&!G.isPlainObject(e))G.each(e,function(){a(this.name,this.value)});else for(n in e)j(n,e[n],t,a);return i.join("&").replace(ft,"+")},G.fn.extend({serialize:function(){return G.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=G.prop(this,"elements");return e?G.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!G(this).is(":disabled")&&yt.test(this.nodeName)&&!vt.test(e)&&(this.checked||!ve.test(e))}).map(function(e,t){var n=G(this).val();return null==n?null:G.isArray(n)?G.map(n,function(e){return{name:t.name,value:e.replace(gt,"\r\n")}}):{name:t.name,value:n.replace(gt,"\r\n")}}).get()}}),G.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var bt=0,wt={},xt={0:200,1223:204},kt=G.ajaxSettings.xhr();e.ActiveXObject&&G(e).on("unload",function(){for(var e in wt)wt[e]()}),W.cors=!!kt&&"withCredentials"in kt,W.ajax=kt=!!kt,G.ajaxTransport(function(e){var t;return W.cors||kt&&!e.crossDomain?{send:function(n,i){var a,r=e.xhr(),o=++bt;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)r[a]=e.xhrFields[a];for(a in e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)r.setRequestHeader(a,n[a]);t=function(e){return function(){t&&(delete wt[o],t=r.onload=r.onerror=null,"abort"===e?r.abort():"error"===e?i(r.status,r.statusText):i(xt[r.status]||r.status,r.statusText,"string"==typeof r.responseText?{text:r.responseText}:void 0,r.getAllResponseHeaders()))}},r.onload=t(),r.onerror=t("error"),t=wt[o]=t("abort");try{r.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}:void 0}),G.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return G.globalEval(e),e}}}),G.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),G.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(i,a){t=G("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&a("error"===e.type?404:200,e.type)}),U.head.appendChild(t[0])},abort:function(){n&&n()}}});var $t=[],Ct=/(=)\?(?=&|$)|\?\?/;G.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=$t.pop()||G.expando+"_"+nt++;return this[e]=!0,e}}),G.ajaxPrefilter("json jsonp",function(t,n,i){var a,r,o,s=!1!==t.jsonp&&(Ct.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ct.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(a=t.jsonpCallback=G.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ct,"$1"+a):!1!==t.jsonp&&(t.url+=(it.test(t.url)?"&":"?")+t.jsonp+"="+a),t.converters["script json"]=function(){return o||G.error(a+" was not called"),o[0]},t.dataTypes[0]="json",r=e[a],e[a]=function(){o=arguments},i.always(function(){e[a]=r,t[a]&&(t.jsonpCallback=n.jsonpCallback,$t.push(a)),o&&G.isFunction(r)&&r(o[0]),o=r=void 0}),"script"):void 0}),G.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||U;var i=te.exec(e),a=!n&&[];return i?[t.createElement(i[1])]:(i=G.buildFragment([e],t,a),a&&a.length&&G(a).remove(),G.merge([],i.childNodes))};var Tt=G.fn.load;G.fn.load=function(e,t,n){if("string"!=typeof e&&Tt)return Tt.apply(this,arguments);var i,a,r,o=this,s=e.indexOf(" ");return s>=0&&(i=G.trim(e.slice(s)),e=e.slice(0,s)),G.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(a="POST"),o.length>0&&G.ajax({url:e,type:a,dataType:"html",data:t}).done(function(e){r=arguments,o.html(i?G("<div>").append(G.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){o.each(n,r||[e.responseText,t,e])}),this},G.expr.filters.animated=function(e){return G.grep(G.timers,function(t){return e===t.elem}).length};var Dt=e.document.documentElement;G.offset={setOffset:function(e,t,n){var i,a,r,o,s,l,c=G.css(e,"position"),d=G(e),u={};"static"===c&&(e.style.position="relative"),s=d.offset(),r=G.css(e,"top"),l=G.css(e,"left"),("absolute"===c||"fixed"===c)&&(r+l).indexOf("auto")>-1?(o=(i=d.position()).top,a=i.left):(o=parseFloat(r)||0,a=parseFloat(l)||0),G.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(u.top=t.top-s.top+o),null!=t.left&&(u.left=t.left-s.left+a),"using"in t?t.using.call(e,u):d.css(u)}},G.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){G.offset.setOffset(this,e,t)});var t,n,i=this[0],a={top:0,left:0},r=i&&i.ownerDocument;return r?(t=r.documentElement,G.contains(t,i)?(typeof i.getBoundingClientRect!==ye&&(a=i.getBoundingClientRect()),n=N(r),{top:a.top+n.pageYOffset-t.clientTop,left:a.left+n.pageXOffset-t.clientLeft}):a):void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===G.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),G.nodeName(e[0],"html")||(i=e.offset()),i.top+=G.css(e[0],"borderTopWidth",!0),i.left+=G.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-G.css(n,"marginTop",!0),left:t.left-i.left-G.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Dt;e&&!G.nodeName(e,"html")&&"static"===G.css(e,"position");)e=e.offsetParent;return e||Dt})}}),G.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i="pageYOffset"===n;G.fn[t]=function(a){return de(this,function(t,a,r){var o=N(t);return void 0===r?o?o[n]:t[a]:void(o?o.scrollTo(i?e.pageXOffset:r,i?r:e.pageYOffset):t[a]=r)},t,a,arguments.length,null)}}),G.each(["top","left"],function(e,t){G.cssHooks[t]=w(W.pixelPosition,function(e,n){return n?(n=b(e,t),Ne.test(n)?G(e).position()[t]+"px":n):void 0})}),G.each({Height:"height",Width:"width"},function(e,t){G.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){G.fn[i]=function(i,a){var r=arguments.length&&(n||"boolean"!=typeof i),o=n||(!0===i||!0===a?"margin":"border");return de(this,function(t,n,i){var a;return G.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===i?G.css(t,n,o):G.style(t,n,i,o)},t,r?i:void 0,r,null)}})}),G.fn.size=function(){return this.length},G.fn.andSelf=G.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return G});var St=e.jQuery,Mt=e.$;return G.noConflict=function(t){return e.$===G&&(e.$=Mt),t&&e.jQuery===G&&(e.jQuery=St),G},typeof t===ye&&(e.jQuery=e.$=G),G}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),function(e){"use strict";e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;e(this).one("bsTransitionEnd",function(){n=!0});return setTimeout(function(){n||e(i).trigger(e.support.transition.end)},t),this},e(function(){e.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.close=function(t){function i(){o.detach().trigger("closed.bs.alert").remove()}var a=e(this),r=a.attr("data-target");r||(r=(r=a.attr("href"))&&r.replace(/.*(?=#[^\s]*$)/,""));var o=e("#"===r?[]:r);t&&t.preventDefault(),o.length||(o=a.closest(".alert")),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var i=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var i=e(this),a=i.data("bs.alert");a||i.data("bs.alert",a=new n(this)),"string"==typeof t&&a[t].call(i)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",t,n.prototype.close)}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var i=e(this),a=i.data("bs.button"),r="object"==typeof t&&t;a||i.data("bs.button",a=new n(this,r)),"toggle"==t?a.toggle():t&&a.setState(t)})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",i=this.$element,a=i.is("input")?"val":"html",r=i.data();t+="Text",null==r.resetText&&i.data("resetText",i[a]()),setTimeout(e.proxy(function(){i[a](null==r[t]?this.options[t]:r[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=e(n.target).closest(".btn");t.call(i,"toggle"),e(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),i.is("input,button")?i.trigger("focus"):i.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var i=e(this),a=i.data("bs.carousel"),r=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t),o="string"==typeof t?t:r.slide;a||i.data("bs.carousel",a=new n(this,r)),"number"==typeof t?a.to(t):o?a[o]():r.interval&&a.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t);if(("prev"==e&&0===n||"next"==e&&n==this.$items.length-1)&&!this.options.wrap)return t;var i=(n+("prev"==e?-1:1))%this.$items.length;return this.$items.eq(i)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(t,i){var a=this.$element.find(".item.active"),r=i||this.getItemForDirection(t,a),o=this.interval,s="next"==t?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var c=r[0],d=e.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=e(this.$indicators.children()[this.getItemIndex(r)]);u&&u.addClass("active")}var p=e.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(r.addClass(t),r[0].offsetWidth,a.addClass(s),r.addClass(s),a.one("bsTransitionEnd",function(){r.removeClass([t,s].join(" ")).addClass("active"),a.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(a.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(p)),o&&this.cycle(),this}};var i=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this};var a=function(n){var i,a=e(this),r=e(a.attr("data-target")||(i=a.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var o=e.extend({},r.data(),a.data()),s=a.attr("data-slide-to");s&&(o.interval=!1),t.call(r,o),s&&r.data("bs.carousel").to(s),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",a).on("click.bs.carousel.data-api","[data-slide-to]",a),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),function(e){"use strict";function t(t){var n,i=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(i)}function n(t){return this.each(function(){var n=e(this),a=n.data("bs.collapse"),r=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t);!a&&r.toggle&&/show|hide/.test(t)&&(r.toggle=!1),a||n.data("bs.collapse",a=new i(this,r)),"string"==typeof t&&a[t]()})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.7",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,a=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(a&&a.length&&(t=a.data("bs.collapse"),t&&t.transitioning))){var r=e.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){a&&a.length&&(n.call(a,"hide"),t||a.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[o](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var a=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(i.TRANSITION_DURATION):a.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,i){var a=e(i);this.addAriaAndCollapsedClass(t(a),a)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var a=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=i,e.fn.collapse.noConflict=function(){return e.fn.collapse=a,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var a=e(this);a.attr("data-target")||i.preventDefault();var r=t(a),o=r.data("bs.collapse")?"toggle":a.data();n.call(r,o)})}(jQuery),function(e){"use strict";function t(t){var n=t.attr("data-target");n||(n=(n=t.attr("href"))&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(n);return i&&i.length?i:t.parent()}function n(n){n&&3===n.which||(e(i).remove(),e(a).each(function(){var i=e(this),a=t(i),r={relatedTarget:this};a.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&e.contains(a[0],n.target)||(a.trigger(n=e.Event("hide.bs.dropdown",r)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),a.removeClass("open").trigger(e.Event("hidden.bs.dropdown",r)))))}))}var i=".dropdown-backdrop",a='[data-toggle="dropdown"]',r=function(t){e(t).on("click.bs.dropdown",this.toggle)};r.VERSION="3.3.7",r.prototype.toggle=function(i){var a=e(this);if(!a.is(".disabled, :disabled")){var r=t(a),o=r.hasClass("open");if(n(),!o){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",n);var s={relatedTarget:this};if(r.trigger(i=e.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;a.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger(e.Event("shown.bs.dropdown",s))}return!1}},r.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=e(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var r=t(i),o=r.hasClass("open");if(!o&&27!=n.which||o&&27==n.which)return 27==n.which&&r.find(a).trigger("focus"),i.trigger("click");var s=r.find(".dropdown-menu li:not(.disabled):visible a");if(s.length){var l=s.index(n.target);38==n.which&&l>0&&l--,40==n.which&&l<s.length-1&&l++,~l||(l=0),s.eq(l).trigger("focus")}}}};var o=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new r(this)),"string"==typeof t&&i[t].call(n)})},e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=o,this},e(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",a,r.prototype.toggle).on("keydown.bs.dropdown.data-api",a,r.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",r.prototype.keydown)}(jQuery),function(e){"use strict";function t(t,i){return this.each(function(){var a=e(this),r=a.data("bs.modal"),o=e.extend({},n.DEFAULTS,a.data(),"object"==typeof t&&t);r||a.data("bs.modal",r=new n(this,o)),"string"==typeof t?r[t](i):o.show&&r.show(i)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var i=this,a=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(a),this.isShown||a.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var a=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),a&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var r=e.Event("shown.bs.modal",{relatedTarget:t});a?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(r)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var i=this,a=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&a;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+a).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;r?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){i.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var i=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=e(this),a=i.attr("href"),r=e(i.attr("data-target")||a&&a.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(a)&&a},r.data(),i.data());i.is("a")&&n.preventDefault(),r.one("show.bs.modal",function(e){e.isDefaultPrevented()||r.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),t.call(r,o,this)})}(jQuery),function(e){"use strict";var t=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};t.VERSION="3.3.7",t.TRANSITION_DURATION=150,t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},t.prototype.init=function(t,n,i){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var a=this.options.trigger.split(" "),r=a.length;r--;){var o=a[r];if("click"==o)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=o){var s="hover"==o?"mouseenter":"focusin",l="hover"==o?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return(t=e.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,i){n[e]!=i&&(t[e]=i)}),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},t.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),!n.isInStateTrue())return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},t.prototype.show=function(){var n=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(n);var i=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(n.isDefaultPrevented()||!i)return;var a=this,r=this.tip(),o=this.getUID(this.type);this.setContent(),r.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&r.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(s);c&&(s=s.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),u=r[0].offsetWidth,p=r[0].offsetHeight;if(c){var _=s,h=this.getPosition(this.$viewport);s="bottom"==s&&d.bottom+p>h.bottom?"top":"top"==s&&d.top-p<h.top?"bottom":"right"==s&&d.right+u>h.width?"left":"left"==s&&d.left-u<h.left?"right":s,r.removeClass(_).addClass(s)}var f=this.getCalculatedOffset(s,d,u,p);this.applyPlacement(f,s);var m=function(){var e=a.hoverState;a.$element.trigger("shown.bs."+a.type),a.hoverState=null,"out"==e&&a.leave(a)};e.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",m).emulateTransitionEnd(t.TRANSITION_DURATION):m()}},t.prototype.applyPlacement=function(t,n){var i=this.tip(),a=i[0].offsetWidth,r=i[0].offsetHeight,o=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(s)&&(s=0),t.top+=o,t.left+=s,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=r&&(t.top=t.top+r-c);var d=this.getViewportAdjustedDelta(n,t,l,c);d.left?t.left+=d.left:t.top+=d.top;var u=/top|bottom/.test(n),p=u?2*d.left-a+l:2*d.top-r+c,_=u?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(p,i[0][_],u)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(n){function i(){"in"!=a.hoverState&&r.detach(),a.$element&&a.$element.removeAttr("aria-describedby").trigger("hidden.bs."+a.type),n&&n()}var a=this,r=e(this.$tip),o=e.Event("hide.bs."+this.type);if(this.$element.trigger(o),!o.isDefaultPrevented())return r.removeClass("in"),e.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",i).emulateTransitionEnd(t.TRANSITION_DURATION):i(),this.hoverState=null,this},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(t){var n=(t=t||this.$element)[0],i="BODY"==n.tagName,a=n.getBoundingClientRect();null==a.width&&(a=e.extend({},a,{width:a.right-a.left,height:a.bottom-a.top}));var r=window.SVGElement&&n instanceof window.SVGElement,o=i?{top:0,left:0}:r?null:t.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},l=i?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},a,s,l,o)},t.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},t.prototype.getViewportAdjustedDelta=function(e,t,n,i){var a={top:0,left:0};if(!this.$viewport)return a;var r=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-r-o.scroll,l=t.top+r-o.scroll+i;s<o.top?a.top=o.top-s:l>o.top+o.height&&(a.top=o.top+o.height-l)}else{var c=t.left-r,d=t.left+r+n;c<o.left?a.left=o.left-c:d>o.right&&(a.left=o.left+o.width-d)}return a},t.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},t.prototype.getUID=function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},t.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=this;t&&((n=e(t.currentTarget).data("bs."+this.type))||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var i=e(this),a=i.data("bs.tooltip"),r="object"==typeof n&&n;!a&&/destroy|hide/.test(n)||(a||i.data("bs.tooltip",a=new t(this,r)),"string"==typeof n&&a[n]())})},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery),function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.7",t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var i=e(this),a=i.data("bs.popover"),r="object"==typeof n&&n;!a&&/destroy|hide/.test(n)||(a||i.data("bs.popover",a=new t(this,r)),"string"==typeof n&&a[n]())})},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),function(e){"use strict";function t(n,i){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=e(this),a=i.data("bs.scrollspy"),r="object"==typeof n&&n;a||i.data("bs.scrollspy",a=new t(this,r)),"string"==typeof n&&a[n]()})}t.VERSION="3.3.7",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),a=t.data("target")||t.attr("href"),r=/^#./.test(a)&&e(a);return r&&r.length&&r.is(":visible")&&[[r[n]().top+i,a]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),a=this.offsets,r=this.targets,o=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=i)return o!=(e=r[r.length-1])&&this.activate(e);if(o&&t<a[0])return this.activeTarget=null,this.clear();for(e=a.length;e--;)o!=r[e]&&t>=a[e]&&(void 0===a[e+1]||t<a[e+1])&&this.activate(r[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var i=e(this),a=i.data("bs.tab");a||i.data("bs.tab",a=new n(this)),"string"==typeof t&&a[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var a=n.find(".active:last a"),r=e.Event("hide.bs.tab",{relatedTarget:t[0]}),o=e.Event("show.bs.tab",{relatedTarget:a[0]});if(a.trigger(r),t.trigger(o),!o.isDefaultPrevented()&&!r.isDefaultPrevented()){var s=e(i);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){a.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:a[0]})})}}},n.prototype.activate=function(t,i,a){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),a&&a()}var o=i.find("> .active"),s=a&&e.support.transition&&(o.length&&o.hasClass("fade")||!!i.find("> .fade").length);o.length&&s?o.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),o.removeClass("in")};var i=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=i,this};var a=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',a).on("click.bs.tab.data-api",'[data-toggle="pill"]',a)}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var i=e(this),a=i.data("bs.affix"),r="object"==typeof t&&t;a||i.data("bs.affix",a=new n(this,r)),"string"==typeof t&&a[t]()})}var n=function(t,i){this.options=e.extend({},n.DEFAULTS,i),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,i){var a=this.$target.scrollTop(),r=this.$element.offset(),o=this.$target.height();if(null!=n&&"top"==this.affixed)return a<n&&"top";if("bottom"==this.affixed)return null!=n?!(a+this.unpin<=r.top)&&"bottom":!(a+o<=e-i)&&"bottom";var s=null==this.affixed,l=s?a:r.top;return null!=n&&a<=n?"top":null!=i&&l+(s?o:t)>=e-i&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),i=this.options.offset,a=i.top,r=i.bottom,o=Math.max(e(document).height(),e(document.body).height());"object"!=typeof i&&(r=a=i),"function"==typeof a&&(a=i.top(this.$element)),"function"==typeof r&&(r=i.bottom(this.$element));var s=this.getState(o,t,a,r);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:o-t-r})}};var i=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),t.call(n,i)})})}(jQuery),function(e,t){"use strict";var n="function",i="undefined",a="object",r="string",o="model",s="name",l="type",c="vendor",d="version",u="architecture",p="console",_="mobile",h="tablet",f="smarttv",m="wearable",g="embedded",v="Amazon",y="Apple",b="ASUS",w="BlackBerry",x="Browser",k="Chrome",$="Firefox",C="Google",T="Huawei",D="LG",S="Microsoft",M="Motorola",E="Opera",A="Samsung",O="Sharp",P="Sony",q="Xiaomi",j="Zebra",N="Facebook",F=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},L=function(e,t){return typeof e===r&&-1!==I(t).indexOf(I(e))},I=function(e){return e.toLowerCase()},B=function(e,t){if(typeof e===r)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===i?e:e.substring(0,350)},H=function(e,i){for(var r,o,s,l,c,d,u=0;u<i.length&&!c;){var p=i[u],_=i[u+1];for(r=o=0;r<p.length&&!c;)if(c=p[r++].exec(e))for(s=0;s<_.length;s++)d=c[++o],typeof(l=_[s])===a&&l.length>0?2===l.length?typeof l[1]==n?this[l[0]]=l[1].call(this,d):this[l[0]]=l[1]:3===l.length?typeof l[1]!==n||l[1].exec&&l[1].test?this[l[0]]=d?d.replace(l[1],l[2]):t:this[l[0]]=d?l[1].call(this,d,l[2]):t:4===l.length&&(this[l[0]]=d?l[3].call(this,d.replace(l[1],l[2])):t):this[l]=d||t;u+=2}},R=function(e,n){for(var i in n)if(typeof n[i]===a&&n[i].length>0){for(var r=0;r<n[i].length;r++)if(L(n[i][r],e))return"?"===i?t:i}else if(L(n[i],e))return"?"===i?t:i;return e},Y={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},z={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[d,[s,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[d,[s,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[s,d],[/opios[\/ ]+([\w\.]+)/i],[d,[s,E+" Mini"]],[/\bopr\/([\w\.]+)/i],[d,[s,E]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[s,d],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[d,[s,"UC"+x]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[d,[s,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[d,[s,"WeChat"]],[/konqueror\/([\w\.]+)/i],[d,[s,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[d,[s,"IE"]],[/yabrowser\/([\w\.]+)/i],[d,[s,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[s,/(.+)/,"$1 Secure "+x],d],[/\bfocus\/([\w\.]+)/i],[d,[s,$+" Focus"]],[/\bopt\/([\w\.]+)/i],[d,[s,E+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[d,[s,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[d,[s,"Dolphin"]],[/coast\/([\w\.]+)/i],[d,[s,E+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[d,[s,"MIUI "+x]],[/fxios\/([-\w\.]+)/i],[d,[s,$]],[/\bqihu|(qi?ho?o?|360)browser/i],[[s,"360 "+x]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[s,/(.+)/,"$1 "+x],d],[/(comodo_dragon)\/([\w\.]+)/i],[[s,/_/g," "],d],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[s,d],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[s],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[s,N],d],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[s,d],[/\bgsa\/([\w\.]+) .*safari\//i],[d,[s,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[d,[s,k+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[s,k+" WebView"],d],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[d,[s,"Android "+x]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[s,d],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[d,[s,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[d,s],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[s,[d,R,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[s,d],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[s,"Netscape"],d],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[d,[s,$+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[s,d]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[u,"amd64"]],[/(ia32(?=;))/i],[[u,I]],[/((?:i[346]|x)86)[;\)]/i],[[u,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[u,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[u,"armhf"]],[/windows (ce|mobile); ppc;/i],[[u,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[u,/ower/,"",I]],[/(sun4\w)[;\)]/i],[[u,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[u,I]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[o,[c,A],[l,h]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[o,[c,A],[l,_]],[/\((ip(?:hone|od)[\w ]*);/i],[o,[c,y],[l,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[o,[c,y],[l,h]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[o,[c,T],[l,h]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[o,[c,T],[l,_]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[o,/_/g," "],[c,q],[l,_]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[o,/_/g," "],[c,q],[l,h]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[o,[c,"OPPO"],[l,_]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[o,[c,"Vivo"],[l,_]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[o,[c,"Realme"],[l,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[o,[c,M],[l,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[o,[c,M],[l,h]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[o,[c,D],[l,h]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[o,[c,D],[l,_]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[o,[c,"Lenovo"],[l,h]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[o,/_/g," "],[c,"Nokia"],[l,_]],[/(pixel c)\b/i],[o,[c,C],[l,h]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[o,[c,C],[l,_]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[o,[c,P],[l,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[o,"Xperia Tablet"],[c,P],[l,h]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[o,[c,"OnePlus"],[l,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[o,[c,v],[l,h]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[o,/(.+)/g,"Fire Phone $1"],[c,v],[l,_]],[/(playbook);[-\w\),; ]+(rim)/i],[o,c,[l,h]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[o,[c,w],[l,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[o,[c,b],[l,h]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[o,[c,b],[l,_]],[/(nexus 9)/i],[o,[c,"HTC"],[l,h]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[c,[o,/_/g," "],[l,_]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[o,[c,"Acer"],[l,h]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[o,[c,"Meizu"],[l,_]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[o,[c,O],[l,_]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[c,o,[l,_]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[c,o,[l,h]],[/(surface duo)/i],[o,[c,S],[l,h]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[o,[c,"Fairphone"],[l,_]],[/(u304aa)/i],[o,[c,"AT&T"],[l,_]],[/\bsie-(\w*)/i],[o,[c,"Siemens"],[l,_]],[/\b(rct\w+) b/i],[o,[c,"RCA"],[l,h]],[/\b(venue[\d ]{2,7}) b/i],[o,[c,"Dell"],[l,h]],[/\b(q(?:mv|ta)\w+) b/i],[o,[c,"Verizon"],[l,h]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[o,[c,"Barnes & Noble"],[l,h]],[/\b(tm\d{3}\w+) b/i],[o,[c,"NuVision"],[l,h]],[/\b(k88) b/i],[o,[c,"ZTE"],[l,h]],[/\b(nx\d{3}j) b/i],[o,[c,"ZTE"],[l,_]],[/\b(gen\d{3}) b.+49h/i],[o,[c,"Swiss"],[l,_]],[/\b(zur\d{3}) b/i],[o,[c,"Swiss"],[l,h]],[/\b((zeki)?tb.*\b) b/i],[o,[c,"Zeki"],[l,h]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[c,"Dragon Touch"],o,[l,h]],[/\b(ns-?\w{0,9}) b/i],[o,[c,"Insignia"],[l,h]],[/\b((nxa|next)-?\w{0,9}) b/i],[o,[c,"NextBook"],[l,h]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[c,"Voice"],o,[l,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[c,"LvTel"],o,[l,_]],[/\b(ph-1) /i],[o,[c,"Essential"],[l,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[o,[c,"Envizen"],[l,h]],[/\b(trio[-\w\. ]+) b/i],[o,[c,"MachSpeed"],[l,h]],[/\btu_(1491) b/i],[o,[c,"Rotor"],[l,h]],[/(shield[\w ]+) b/i],[o,[c,"Nvidia"],[l,h]],[/(sprint) (\w+)/i],[c,o,[l,_]],[/(kin\.[onetw]{3})/i],[[o,/\./g," "],[c,S],[l,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[o,[c,j],[l,h]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[o,[c,j],[l,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[c,o,[l,p]],[/droid.+; (shield) bui/i],[o,[c,"Nvidia"],[l,p]],[/(playstation [345portablevi]+)/i],[o,[c,P],[l,p]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[o,[c,S],[l,p]],[/smart-tv.+(samsung)/i],[c,[l,f]],[/hbbtv.+maple;(\d+)/i],[[o,/^/,"SmartTV"],[c,A],[l,f]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[c,D],[l,f]],[/(apple) ?tv/i],[c,[o,y+" TV"],[l,f]],[/crkey/i],[[o,k+"cast"],[c,C],[l,f]],[/droid.+aft(\w)( bui|\))/i],[o,[c,v],[l,f]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[o,[c,O],[l,f]],[/(bravia[\w ]+)( bui|\))/i],[o,[c,P],[l,f]],[/(mitv-\w{5}) bui/i],[o,[c,q],[l,f]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[c,B],[o,B],[l,f]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[l,f]],[/((pebble))app/i],[c,o,[l,m]],[/droid.+; (glass) \d/i],[o,[c,C],[l,m]],[/droid.+; (wt63?0{2,3})\)/i],[o,[c,j],[l,m]],[/(quest( 2)?)/i],[o,[c,N],[l,m]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[c,[l,g]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[o,[l,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[o,[l,h]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[l,h]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[l,_]],[/(android[-\w\. ]{0,9});.+buil/i],[o,[c,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[d,[s,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[d,[s,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[s,d],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[d,s]],os:[[/microsoft (windows) (vista|xp)/i],[s,d],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[s,[d,R,Y]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[s,"Windows"],[d,R,Y]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[d,/_/g,"."],[s,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[s,"Mac OS"],[d,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[d,s],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[s,d],[/\(bb(10);/i],[d,[s,w]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[d,[s,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[d,[s,$+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[d,[s,"webOS"]],[/crkey\/([\d\.]+)/i],[d,[s,k+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[s,"Chromium OS"],d],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[s,d],[/(sunos) ?([\w\.\d]*)/i],[[s,"Solaris"],d],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[s,d]]},W=function(n,p){if(typeof n===a&&(p=n,n=t),!(this instanceof W))return new W(n,p).getResult();var _=n||(typeof e!==i&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:""),h=p?function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n}(z,p):z;return this.getBrowser=function(){var e={};return e[s]=t,e[d]=t,H.call(e,_,h.browser),e.major=function(e){return typeof e===r?e.replace(/[^\d\.]/g,"").split(".")[0]:t}(e.version),e},this.getCPU=function(){var e={};return e[u]=t,H.call(e,_,h.cpu),e},this.getDevice=function(){var e={};return e[c]=t,e[o]=t,e[l]=t,H.call(e,_,h.device),e},this.getEngine=function(){var e={};return e[s]=t,e[d]=t,H.call(e,_,h.engine),e},this.getOS=function(){var e={};return e[s]=t,e[d]=t,H.call(e,_,h.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return _},this.setUA=function(e){return _=typeof e===r&&e.length>350?B(e,350):e,this},this.setUA(_),this};W.VERSION="0.7.32",W.BROWSER=F([s,d,"major"]),W.CPU=F([u]),W.DEVICE=F([o,c,l,p,_,f,h,m,g]),W.ENGINE=W.OS=F([s,d]),typeof exports!==i?(typeof module!==i&&module.exports&&(exports=module.exports=W),exports.UAParser=W):typeof define===n&&define.amd?define(function(){return W}):typeof e!==i&&(e.UAParser=W);var U=typeof e!==i&&(e.jQuery||e.Zepto);if(U&&!U.ua){var V=new W;U.ua=V.getResult(),U.ua.get=function(){return V.getUA()},U.ua.set=function(e){V.setUA(e);var t=V.getResult();for(var n in t)U.ua[n]=t[n]}}}("object"==typeof window?window:this),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.io=t():e.io=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={exports:{},id:i,loaded:!1};return e[i].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e,t){"object"===(void 0===e?"undefined":a(e))&&(t=e,e=void 0),t=t||{};var n,i=r(e),o=i.source,d=i.id,u=i.path,p=c[d]&&u in c[d].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||p?(l("ignoring socket cache for %s",o),n=s(o,t)):(c[d]||(l("new io instance for %s",o),c[d]=s(o,t)),n=c[d]),i.query&&!t.query&&(t.query=i.query),n.socket(i.path,t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),o=n(7),s=n(13),l=n(3)("socket.io-client");e.exports=t=i;var c=t.managers={};t.protocol=o.protocol,t.connect=i,t.Manager=n(13),t.Socket=n(39)},function(e,t,n){(function(t){"use strict";var i=n(2),a=n(3)("socket.io-client:url");e.exports=function(e,n){var r=e;n=n||t.location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(a("protocol-less url %s",e),e=void 0!==n?n.protocol+"//"+e:"https://"+e),a("parse %s",e),r=i(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}}).call(t,function(){return this}())},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,a=e.indexOf("["),r=e.indexOf("]");-1!=a&&-1!=r&&(e=e.substring(0,a)+e.substring(a,r).replace(/:/g,";")+e.substring(r,e.length));for(var o=n.exec(e||""),s={},l=14;l--;)s[i[l]]=o[l]||"";return-1!=a&&-1!=r&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(e,t,n){(function(i){function a(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==i&&"env"in i&&(e=i.env.DEBUG),e}(t=e.exports=n(5)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var i="color: "+this.color;e.splice(1,0,i,"color: inherit");var a=0,r=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(r=++a)}),e.splice(r,0,i)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=a,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(a())}).call(t,n(4))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function r(){h&&p&&(h=!1,p.length?_=p.concat(_):f=-1,_.length&&o())}function o(){if(!h){var e=a(r);h=!0;for(var t=_.length;t;){for(p=_,_=[];++f<t;)p&&p[f].run();f=-1,t=_.length}p=null,h=!1,function(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var c,d,u=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}}();var p,_=[],h=!1,f=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];_.push(new s(e,t)),1!==_.length||h||a(o)},s.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=l,u.addListener=l,u.once=l,u.off=l,u.removeListener=l,u.removeAllListeners=l,u.emit=l,u.prependListener=l,u.prependOnceListener=l,u.listeners=function(e){return[]},u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(e,t,n){function i(e){function n(){if(n.enabled){var e=n,i=+new Date,r=i-(a||i);e.diff=r,e.prev=a,e.curr=i,a=i;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var l=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(n,i){if("%%"===n)return n;l++;var a=t.formatters[i];if("function"==typeof a){var r=o[l];n=a.call(e,r),o.splice(l,1),l--}return n}),t.formatArgs.call(e,o),(n.log||t.log||console.log.bind(console)).apply(e,o)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,i=0;for(n in e)i=(i<<5)-i+e.charCodeAt(n),i|=0;return t.colors[Math.abs(i)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}var a;(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length,a=0;a<i;a++)n[a]&&("-"===(e=n[a].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(6),t.names=[],t.skips=[],t.formatters={}},function(e,t){function n(e){return i(e,s,"day")||i(e,o,"hour")||i(e,r,"minute")||i(e,a,"second")||e+" ms"}function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,r=60*a,o=60*r,s=24*o,l=365.25*s;e.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*l;case"days":case"day":case"d":return n*s;case"hours":case"hour":case"hrs":case"hr":case"h":return n*o;case"minutes":case"minute":case"mins":case"min":case"m":return n*r;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(e);if("number"===i&&!1===isNaN(e))return t.long?n(e):function(e){return e>=s?Math.round(e/s)+"d":e>=o?Math.round(e/o)+"h":e>=r?Math.round(e/r)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){function i(){}function a(e){var n=""+e.type;return t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data&&(n+=JSON.stringify(e.data)),c("encoded %j as %s",e,n),n}function r(){this.reconstructor=null}function o(e){var n=0,i={type:Number(e.charAt(0))};if(null==t.types[i.type])return l();if(t.BINARY_EVENT===i.type||t.BINARY_ACK===i.type){for(var a="";"-"!==e.charAt(++n)&&(a+=e.charAt(n),n!=e.length););if(a!=Number(a)||"-"!==e.charAt(n))throw new Error("Illegal attachments");i.attachments=Number(a)}if("/"===e.charAt(n+1))for(i.nsp="";++n;){if(","===(o=e.charAt(n)))break;if(i.nsp+=o,n===e.length)break}else i.nsp="/";var r=e.charAt(n+1);if(""!==r&&Number(r)==r){for(i.id="";++n;){var o;if(null==(o=e.charAt(n))||Number(o)!=o){--n;break}if(i.id+=e.charAt(n),n===e.length)break}i.id=Number(i.id)}return e.charAt(++n)&&(i=function(e,t){try{e.data=JSON.parse(t)}catch(e){return l()}return e}(i,e.substr(n))),c("decoded %s as %j",e,i),i}function s(e){this.reconPack=e,this.buffers=[]}function l(){return{type:t.ERROR,data:"parser error"}}var c=n(3)("socket.io-parser"),d=n(8),u=n(9),p=n(11),_=n(12);t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=i,t.Decoder=r,i.prototype.encode=function(e,n){(e.type!==t.EVENT&&e.type!==t.ACK||!u(e.data)||(e.type=e.type===t.EVENT?t.BINARY_EVENT:t.BINARY_ACK),c("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){p.removeBlobs(e,function(e){var n=p.deconstructPacket(e),i=a(n.packet),r=n.buffers;r.unshift(i),t(r)})}(e,n):n([a(e)])},d(r.prototype),r.prototype.add=function(e){var n;if("string"==typeof e)n=o(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new s(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!_(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},r.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},s.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=p.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},s.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){function i(e){if(e)return function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e)}e.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},i.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i,a=0;a<n.length;a++)if((i=n[a])===t||i.fn===t){n.splice(a,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var i=0,a=(n=n.slice(0)).length;i<a;++i)n[i].apply(this,t);return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){(function(t){var i=n(10),a=Object.prototype.toString,r="function"==typeof t.Blob||"[object BlobConstructor]"===a.call(t.Blob),o="function"==typeof t.File||"[object FileConstructor]"===a.call(t.File);e.exports=function e(n){if(!n||"object"!=typeof n)return!1;if(i(n)){for(var a=0,s=n.length;a<s;a++)if(e(n[a]))return!0;return!1}if("function"==typeof t.Buffer&&t.Buffer.isBuffer&&t.Buffer.isBuffer(n)||"function"==typeof t.ArrayBuffer&&n instanceof ArrayBuffer||r&&n instanceof Blob||o&&n instanceof File)return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return e(n.toJSON(),!0);for(var l in n)if(Object.prototype.hasOwnProperty.call(n,l)&&e(n[l]))return!0;return!1}}).call(t,function(){return this}())},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(e){var i=n(10),a=n(12),r=Object.prototype.toString,o="function"==typeof e.Blob||"[object BlobConstructor]"===r.call(e.Blob),s="function"==typeof e.File||"[object FileConstructor]"===r.call(e.File);t.deconstructPacket=function(e){var t=[],n=e.data,r=e;return r.data=function e(t,n){if(!t)return t;if(a(t)){var r={_placeholder:!0,num:n.length};return n.push(t),r}if(i(t)){for(var o=new Array(t.length),s=0;s<t.length;s++)o[s]=e(t[s],n);return o}if("object"==typeof t&&!(t instanceof Date)){for(var l in o={},t)o[l]=e(t[l],n);return o}return t}(n,t),r.attachments=t.length,{packet:r,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(t,n){if(!t)return t;if(t&&t._placeholder)return n[t.num];if(i(t))for(var a=0;a<t.length;a++)t[a]=e(t[a],n);else if("object"==typeof t)for(var r in t)t[r]=e(t[r],n);return t}(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var n=0,r=e;(function e(l,c,d){if(!l)return l;if(o&&l instanceof Blob||s&&l instanceof File){n++;var u=new FileReader;u.onload=function(){d?d[c]=this.result:r=this.result,--n||t(r)},u.readAsArrayBuffer(l)}else if(i(l))for(var p=0;p<l.length;p++)e(l[p],p,l);else if("object"==typeof l&&!a(l))for(var _ in l)e(l[_],_,l)})(r),n||t(r)}}).call(t,function(){return this}())},function(e,t){(function(t){e.exports=function(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}}).call(t,function(){return this}())},function(e,t,n){"use strict";function i(e,t){if(!(this instanceof i))return new i(e,t);e&&"object"===(void 0===e?"undefined":a(e))&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new _({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||l;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(14),o=n(39),s=n(8),l=n(7),c=n(41),d=n(42),u=n(3)("socket.io-client:manager"),p=n(37),_=n(43),h=Object.prototype.hasOwnProperty;e.exports=i,i.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)h.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},i.prototype.updateSocketIds=function(){for(var e in this.nsps)h.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},i.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},s(i.prototype),i.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},i.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},i.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},i.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},i.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},i.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},i.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},i.prototype.open=i.prototype.connect=function(e,t){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var a=c(n,"open",function(){i.onopen(),e&&e()}),o=c(n,"error",function(t){if(u("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else i.maybeReconnectOnOpen()});if(!1!==this._timeout){var s=this._timeout;u("connect attempt will timeout after %d",s);var l=setTimeout(function(){u("connect attempt timed out after %d",s),a.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(a),this.subs.push(o),this},i.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(c(e,"data",d(this,"ondata"))),this.subs.push(c(e,"ping",d(this,"onping"))),this.subs.push(c(e,"pong",d(this,"onpong"))),this.subs.push(c(e,"error",d(this,"onerror"))),this.subs.push(c(e,"close",d(this,"onclose"))),this.subs.push(c(this.decoder,"decoded",d(this,"ondecoded")))},i.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},i.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},i.prototype.ondata=function(e){this.decoder.add(e)},i.prototype.ondecoded=function(e){this.emit("packet",e)},i.prototype.onerror=function(e){u("error",e),this.emitAll("error",e)},i.prototype.socket=function(e,t){function n(){~p(a.connecting,i)||a.connecting.push(i)}var i=this.nsps[e];if(!i){i=new o(this,e,t),this.nsps[e]=i;var a=this;i.on("connecting",n),i.on("connect",function(){i.id=a.generateId(e)}),this.autoConnect&&n()}return i},i.prototype.destroy=function(e){var t=p(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},i.prototype.packet=function(e){u("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var i=0;i<n.length;i++)t.engine.write(n[i],e.options);t.encoding=!1,t.processPacketQueue()}))},i.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},i.prototype.cleanup=function(){u("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},i.prototype.close=i.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},i.prototype.onclose=function(e){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},i.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();u("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(u("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(u("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(u("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},i.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){e.exports=n(15)},function(e,t,n){e.exports=n(16),e.exports.parser=n(23)},function(e,t,n){(function(t){function i(e,n){if(!(this instanceof i))return new i(e,n);n=n||{},e&&"object"==typeof e&&(n=e,e=null),e?(e=c(e),n.hostname=e.host,n.secure="https"===e.protocol||"wss"===e.protocol,n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=c(n.host).host),this.secure=null!=n.secure?n.secure:t.location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(t.location?location.hostname:"localhost"),this.port=n.port||(t.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=u.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.transportOptions=n.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized||n.rejectUnauthorized,this.forceNode=!!n.forceNode;var a="object"==typeof t&&t;a.global===a&&(n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),n.localAddress&&(this.localAddress=n.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}var a=n(17),r=n(8),o=n(3)("engine.io-client:socket"),s=n(37),l=n(23),c=n(2),d=n(38),u=n(31);e.exports=i,i.priorWebsocketSuccess=!1,r(i.prototype),i.protocol=l.protocol,i.Socket=i,i.Transport=n(22),i.transports=n(17),i.parser=n(23),i.prototype.createTransport=function(e){o('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=l.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new a[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0})},i.prototype.open=function(){var e;if(this.rememberUpgrade&&i.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},i.prototype.setTransport=function(e){o("setting transport %s",e.name);var t=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},i.prototype.probe=function(e){function t(){if(p.onlyBinaryUpgrades){var t=!this.supportsBinary&&p.transport.supportsBinary;u=u||t}u||(o('probe transport "%s" opened',e),d.send([{type:"ping",data:"probe"}]),d.once("packet",function(t){if(!u)if("pong"===t.type&&"probe"===t.data){if(o('probe transport "%s" pong',e),p.upgrading=!0,p.emit("upgrading",d),!d)return;i.priorWebsocketSuccess="websocket"===d.name,o('pausing current transport "%s"',p.transport.name),p.transport.pause(function(){u||"closed"!==p.readyState&&(o("changing transport and sending upgrade packet"),c(),p.setTransport(d),d.send([{type:"upgrade"}]),p.emit("upgrade",d),d=null,p.upgrading=!1,p.flush())})}else{o('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=d.name,p.emit("upgradeError",n)}}))}function n(){u||(u=!0,c(),d.close(),d=null)}function a(t){var i=new Error("probe error: "+t);i.transport=d.name,n(),o('probe transport "%s" failed because of error: %s',e,t),p.emit("upgradeError",i)}function r(){a("transport closed")}function s(){a("socket closed")}function l(e){d&&e.name!==d.name&&(o('"%s" works - aborting "%s"',e.name,d.name),n())}function c(){d.removeListener("open",t),d.removeListener("error",a),d.removeListener("close",r),p.removeListener("close",s),p.removeListener("upgrading",l)}o('probing transport "%s"',e);var d=this.createTransport(e,{probe:1}),u=!1,p=this;i.priorWebsocketSuccess=!1,d.once("open",t),d.once("error",a),d.once("close",r),this.once("close",s),this.once("upgrading",l),d.open()},i.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",i.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},i.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(d(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else o('packet received with socket readyState "%s"',this.readyState)},i.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},i.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},i.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){o("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},i.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},i.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},i.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},i.prototype.write=i.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},i.prototype.sendPacket=function(e,t,n,i){if("function"==typeof t&&(i=t,t=void 0),"function"==typeof n&&(i=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var a={type:e,data:t,options:n};this.emit("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}},i.prototype.close=function(){function e(){i.onClose("forced close"),o("socket closing - telling transport to close"),i.transport.close()}function t(){i.removeListener("upgrade",t),i.removeListener("upgradeError",t),e()}function n(){i.once("upgrade",t),i.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var i=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},i.prototype.onError=function(e){o("socket error %j",e),i.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},i.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){o('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},i.prototype.filterUpgrades=function(e){for(var t=[],n=0,i=e.length;n<i;n++)~s(this.transports,e[n])&&t.push(e[n]);return t}}).call(t,function(){return this}())},function(e,t,n){(function(e){var i=n(18),a=n(20),r=n(34),o=n(35);t.polling=function(t){var n=!1,o=!1,s=!1!==t.jsonp;if(e.location){var l="https:"===location.protocol,c=location.port;c||(c=l?443:80),n=t.hostname!==location.hostname||c!==t.port,o=t.secure!==l}if(t.xdomain=n,t.xscheme=o,"open"in new i(t)&&!t.forceJSONP)return new a(t);if(!s)throw new Error("JSONP disabled");return new r(t)},t.websocket=o}).call(t,function(){return this}())},function(e,t,n){(function(t){var i=n(19);e.exports=function(e){var n=e.xdomain,a=e.xscheme,r=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!n||i))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!a&&r)return new XDomainRequest}catch(e){}if(!n)try{return new(t[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}}).call(t,function(){return this}())},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,n){(function(t){function i(){}function a(e){if(l.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,t.location){var n="https:"===location.protocol,i=location.port;i||(i=n?443:80),this.xd=e.hostname!==t.location.hostname||i!==e.port,this.xs=e.secure!==n}}function r(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function o(){for(var e in r.requests)r.requests.hasOwnProperty(e)&&r.requests[e].abort()}var s=n(18),l=n(21),c=n(8),d=n(32),u=n(3)("engine.io-client:polling-xhr");e.exports=a,e.exports.Request=r,d(a,l),a.prototype.supportsBinary=!0,a.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new r(e)},a.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,i=this.request({method:"POST",data:e,isBinary:n}),a=this;i.on("success",t),i.on("error",function(e){a.onError("xhr post error",e)}),this.sendXhr=i},a.prototype.doPoll=function(){u("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},c(r.prototype),r.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new s(e),i=this;try{u("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var a in n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this.extraHeaders[a])}catch(e){}if("POST"===this.method)try{this.isBinary?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{n.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in n&&(n.withCredentials=!0),this.requestTimeout&&(n.timeout=this.requestTimeout),this.hasXDR()?(n.onload=function(){i.onLoad()},n.onerror=function(){i.onError(n.responseText)}):n.onreadystatechange=function(){if(2===n.readyState){var e;try{e=n.getResponseHeader("Content-Type")}catch(e){}"application/octet-stream"===e&&(n.responseType="arraybuffer")}4===n.readyState&&(200===n.status||1223===n.status?i.onLoad():setTimeout(function(){i.onError(n.status)},0))},u("xhr data %s",this.data),n.send(this.data)}catch(e){return void setTimeout(function(){i.onError(e)},0)}t.document&&(this.index=r.requestsCount++,r.requests[this.index]=this)},r.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},r.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},r.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},r.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=i:this.xhr.onreadystatechange=i,e)try{this.xhr.abort()}catch(e){}t.document&&delete r.requests[this.index],this.xhr=null}},r.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e="application/octet-stream"===t&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},r.prototype.hasXDR=function(){return void 0!==t.XDomainRequest&&!this.xs&&this.enablesXDR},r.prototype.abort=function(){this.cleanup()},r.requestsCount=0,r.requests={},t.document&&(t.attachEvent?t.attachEvent("onunload",o):t.addEventListener&&t.addEventListener("beforeunload",o,!1))}).call(t,function(){return this}())},function(e,t,n){function i(e){var t=e&&e.forceBase64;d&&!t||(this.supportsBinary=!1),a.call(this,e)}var a=n(22),r=n(31),o=n(23),s=n(32),l=n(33),c=n(3)("engine.io-client:polling");e.exports=i;var d=null!=new(n(18))({xdomain:!1}).responseType;s(i,a),i.prototype.name="polling",i.prototype.doOpen=function(){this.poll()},i.prototype.pause=function(e){function t(){c("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(c("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){c("pre-pause polling complete"),--i||t()})),this.writable||(c("we are currently writing - waiting to pause"),i++,this.once("drain",function(){c("pre-pause writing complete"),--i||t()}))}else t()},i.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},i.prototype.onData=function(e){var t=this;c("polling got data %s",e);o.decodePayload(e,this.socket.binaryType,function(e,n,i){return"opening"===t.readyState&&t.onOpen(),"close"===e.type?(t.onClose(),!1):void t.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},i.prototype.doClose=function(){function e(){c("writing close packet"),t.write([{type:"close"}])}var t=this;"open"===this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},i.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};o.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},i.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||e.sid||(e.b64=1),e=r.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){function i(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}var a=n(23),r=n(8);e.exports=i,r(i.prototype),i.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},i.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(e){var t=a.decodePacket(e,this.socket.binaryType);this.onPacket(t)},i.prototype.onPacket=function(e){this.emit("packet",e)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){(function(e){function i(e,n){return n("b"+t.packets[e.type]+e.data.data)}function a(e,n,i){if(!n)return t.encodeBase64Packet(e,i);var a=e.data,r=new Uint8Array(a),o=new Uint8Array(1+a.byteLength);o[0]=m[e.type];for(var s=0;s<r.length;s++)o[s+1]=r[s];return i(o.buffer)}function r(e,n,i){if(!n)return t.encodeBase64Packet(e,i);if(f)return function(e,n,i){if(!n)return t.encodeBase64Packet(e,i);var a=new FileReader;return a.onload=function(){e.data=a.result,t.encodePacket(e,n,!0,i)},a.readAsArrayBuffer(e.data)}(e,n,i);var a=new Uint8Array(1);return a[0]=m[e.type],i(new y([a.buffer,e.data]))}function o(e,t,n){for(var i=new Array(e.length),a=u(e.length,n),r=function(e,n,a){t(n,function(t,n){i[e]=n,a(t,i)})},o=0;o<e.length;o++)r(o,e[o],a)}var s,l=n(24),c=n(9),d=n(25),u=n(26),p=n(27);e&&e.ArrayBuffer&&(s=n(29));var _="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),h="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),f=_||h;t.protocol=3;var m=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},g=l(m),v={type:"error",data:"parser error"},y=n(30);t.encodePacket=function(t,n,o,s){"function"==typeof n&&(s=n,n=!1),"function"==typeof o&&(s=o,o=null);var l=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&l instanceof ArrayBuffer)return a(t,n,s);if(y&&l instanceof e.Blob)return r(t,n,s);if(l&&l.base64)return i(t,s);var c=m[t.type];return void 0!==t.data&&(c+=o?p.encode(String(t.data),{strict:!1}):String(t.data)),s(""+c)},t.encodeBase64Packet=function(n,i){var a,r="b"+t.packets[n.type];if(y&&n.data instanceof e.Blob){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];i(r+e)},o.readAsDataURL(n.data)}try{a=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(e){for(var s=new Uint8Array(n.data),l=new Array(s.length),c=0;c<s.length;c++)l[c]=s[c];a=String.fromCharCode.apply(null,l)}return r+=e.btoa(a),i(r)},t.decodePacket=function(e,n,i){if(void 0===e)return v;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(i&&!1===(e=function(e){try{e=p.decode(e,{strict:!1})}catch(e){return!1}return e}(e)))return v;var a=e.charAt(0);return Number(a)==a&&g[a]?e.length>1?{type:g[a],data:e.substring(1)}:{type:g[a]}:v}a=new Uint8Array(e)[0];var r=d(e,1);return y&&"blob"===n&&(r=new y([r])),{type:g[a],data:r}},t.decodeBase64Packet=function(e,t){var n=g[e.charAt(0)];if(!s)return{type:n,data:{base64:!0,data:e.substr(1)}};var i=s.decode(e.substr(1));return"blob"===t&&y&&(i=new y([i])),{type:n,data:i}},t.encodePayload=function(e,n,i){"function"==typeof n&&(i=n,n=null);var a=c(e);return n&&a?y&&!f?t.encodePayloadAsBlob(e,i):t.encodePayloadAsArrayBuffer(e,i):e.length?void o(e,function(e,i){t.encodePacket(e,!!a&&n,!1,function(e){i(null,function(e){return e.length+":"+e}(e))})},function(e,t){return i(t.join(""))}):i("0:")},t.decodePayload=function(e,n,i){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,i);var a;if("function"==typeof n&&(i=n,n=null),""===e)return i(v,0,1);for(var r,o,s="",l=0,c=e.length;l<c;l++){var d=e.charAt(l);if(":"===d){if(""===s||s!=(r=Number(s)))return i(v,0,1);if(s!=(o=e.substr(l+1,r)).length)return i(v,0,1);if(o.length){if(a=t.decodePacket(o,n,!1),v.type===a.type&&v.data===a.data)return i(v,0,1);if(!1===i(a,l+r,c))return}l+=r,s=""}else s+=d}return""!==s?i(v,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){return e.length?void o(e,function(e,n){t.encodePacket(e,!0,!0,function(e){return n(null,e)})},function(e,t){var i=t.reduce(function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2},0),a=new Uint8Array(i),r=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var i=new Uint8Array(e.length),o=0;o<e.length;o++)i[o]=e.charCodeAt(o);n=i.buffer}a[r++]=t?0:1;var s=n.byteLength.toString();for(o=0;o<s.length;o++)a[r++]=parseInt(s[o]);a[r++]=255;for(i=new Uint8Array(n),o=0;o<i.length;o++)a[r++]=i[o]}),n(a.buffer)}):n(new ArrayBuffer(0))},t.encodePayloadAsBlob=function(e,n){o(e,function(e,n){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var i=new Uint8Array(e.length),a=0;a<e.length;a++)i[a]=e.charCodeAt(a);e=i.buffer,t[0]=0}var r=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),o=new Uint8Array(r.length+1);for(a=0;a<r.length;a++)o[a]=parseInt(r[a]);if(o[r.length]=255,y){var s=new y([t.buffer,o.buffer,e]);n(null,s)}})},function(e,t){return n(new y(t))})},t.decodePayloadAsBinary=function(e,n,i){"function"==typeof n&&(i=n,n=null);for(var a=e,r=[];a.byteLength>0;){for(var o=new Uint8Array(a),s=0===o[0],l="",c=1;255!==o[c];c++){if(l.length>310)return i(v,0,1);l+=o[c]}a=d(a,2+l.length),l=parseInt(l);var u=d(a,0,l);if(s)try{u=String.fromCharCode.apply(null,new Uint8Array(u))}catch(e){var p=new Uint8Array(u);u="";for(c=0;c<p.length;c++)u+=String.fromCharCode(p[c])}r.push(u),a=d(a,l)}var _=r.length;r.forEach(function(e,a){i(t.decodePacket(e,n,!0),a,_)})}}).call(t,function(){return this}())},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var i in e)n.call(e,i)&&t.push(i);return t}},function(e,t){e.exports=function(e,t,n){var i=e.byteLength;if(t=t||0,n=n||i,e.slice)return e.slice(t,n);if(t<0&&(t+=i),n<0&&(n+=i),n>i&&(n=i),t>=i||t>=n||0===i)return new ArrayBuffer(0);for(var a=new Uint8Array(e),r=new Uint8Array(n-t),o=t,s=0;o<n;o++,s++)r[s]=a[o];return r.buffer}},function(e,t){function n(){}e.exports=function(e,t,i){function a(e,n){if(a.count<=0)throw new Error("after called too many times");--a.count,e?(r=!0,t(e),t=i):0!==a.count||r||t(null,n)}var r=!1;return i=i||n,a.count=e,0===e?t():a}},function(e,t,n){var i;(function(e,a){!function(r){function o(e){for(var t,n,i=[],a=0,r=e.length;a<r;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<r?56320==(64512&(n=e.charCodeAt(a++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),a--):i.push(t);return i}function s(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function l(e,t){return m(e>>t&63|128)}function c(e,t){if(0==(4294967168&e))return m(e);var n="";return 0==(4294965248&e)?n=m(e>>6&31|192):0==(4294901760&e)?(s(e,t)||(e=65533),n=m(e>>12&15|224),n+=l(e,6)):0==(4292870144&e)&&(n=m(e>>18&7|240),n+=l(e,12),n+=l(e,6)),n+m(63&e|128)}function d(){if(f>=h)throw Error("Invalid byte index");var e=255&_[f];if(f++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function u(e){var t,n;if(f>h)throw Error("Invalid byte index");if(f==h)return!1;if(t=255&_[f],f++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|d())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|d()<<6|d())>=2048)return s(n,e)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&((n=(7&t)<<18|d()<<12|d()<<6|d())>=65536&&n<=1114111))return n;throw Error("Invalid UTF-8 detected")}var p=("object"==typeof e&&e&&e.exports,"object"==typeof a&&a);p.global!==p&&p.window;var _,h,f,m=String.fromCharCode,g={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,i=o(e),a=i.length,r=-1,s="";++r<a;)s+=c(i[r],n);return s},decode:function(e,t){var n=!1!==(t=t||{}).strict;_=o(e),h=_.length,f=0;for(var i,a=[];!1!==(i=u(n));)a.push(i);return function(e){for(var t,n=e.length,i=-1,a="";++i<n;)(t=e[i])>65535&&(a+=m((t-=65536)>>>10&1023|55296),t=56320|1023&t),a+=m(t);return a}(a)}};void 0===(i=function(){return g}.call(t,n,t,e))||(e.exports=i)}()}).call(t,n(28)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),i=0;i<e.length;i++)n[e.charCodeAt(i)]=i;t.encode=function(t){var n,i=new Uint8Array(t),a=i.length,r="";for(n=0;n<a;n+=3)r+=e[i[n]>>2],r+=e[(3&i[n])<<4|i[n+1]>>4],r+=e[(15&i[n+1])<<2|i[n+2]>>6],r+=e[63&i[n+2]];return a%3==2?r=r.substring(0,r.length-1)+"=":a%3==1&&(r=r.substring(0,r.length-2)+"=="),r},t.decode=function(e){var t,i,a,r,o,s=.75*e.length,l=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var d=new ArrayBuffer(s),u=new Uint8Array(d);for(t=0;t<l;t+=4)i=n[e.charCodeAt(t)],a=n[e.charCodeAt(t+1)],r=n[e.charCodeAt(t+2)],o=n[e.charCodeAt(t+3)],u[c++]=i<<2|a>>4,u[c++]=(15&a)<<4|r>>2,u[c++]=(3&r)<<6|63&o;return d}}()},function(e,t){(function(t){function n(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var i=n.buffer;if(n.byteLength!==i.byteLength){var a=new Uint8Array(n.byteLength);a.set(new Uint8Array(i,n.byteOffset,n.byteLength)),i=a.buffer}e[t]=i}}}function i(e,t){t=t||{};var i=new r;n(e);for(var a=0;a<e.length;a++)i.append(e[a]);return t.type?i.getBlob(t.type):i.getBlob()}function a(e,t){return n(e),new Blob(e,t||{})}var r=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,o=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),s=o&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),l=r&&r.prototype.append&&r.prototype.getBlob;e.exports=o?s?t.Blob:a:l?i:void 0}).call(t,function(){return this}())},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),i=0,a=n.length;i<a;i++){var r=n[i].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){"use strict";function n(e){var t="";do{t=r[e%o]+t,e=Math.floor(e/o)}while(e>0);return t}function i(){var e=n(+new Date);return e!==a?(l=0,a=e):e+"."+n(l++)}for(var a,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o=64,s={},l=0,c=0;c<o;c++)s[r[c]]=c;i.encode=n,i.decode=function(e){var t=0;for(c=0;c<e.length;c++)t=t*o+s[e.charAt(c)];return t},e.exports=i},function(e,t,n){(function(t){function i(){}function a(e){r.call(this,e),this.query=this.query||{},s||(t.___eio||(t.___eio=[]),s=t.___eio),this.index=s.length;var n=this;s.push(function(e){n.onData(e)}),this.query.j=this.index,t.document&&t.addEventListener&&t.addEventListener("beforeunload",function(){n.script&&(n.script.onerror=i)},!1)}var r=n(21),o=n(32);e.exports=a;var s,l=/\n/g,c=/\\n/g;o(a,r),a.prototype.supportsBinary=!1,a.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},a.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},a.prototype.doWrite=function(e,t){function n(){i(),t()}function i(){if(a.iframe)try{a.form.removeChild(a.iframe)}catch(e){a.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+a.iframeId+'">';r=document.createElement(e)}catch(e){(r=document.createElement("iframe")).name=a.iframeId,r.src="javascript:0"}r.id=a.iframeId,a.form.appendChild(r),a.iframe=r}var a=this;if(!this.form){var r,o=document.createElement("form"),s=document.createElement("textarea"),d=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=d,o.method="POST",o.setAttribute("accept-charset","utf-8"),s.name="d",o.appendChild(s),document.body.appendChild(o),this.form=o,this.area=s}this.form.action=this.uri(),i(),e=e.replace(c,"\\\n"),this.area.value=e.replace(l,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===a.iframe.readyState&&n()}:this.iframe.onload=n}}).call(t,function(){return this}())},function(e,t,n){(function(t){function i(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=u&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(p=a),r.call(this,e)}var a,r=n(22),o=n(23),s=n(31),l=n(32),c=n(33),d=n(3)("engine.io-client:websocket"),u=t.WebSocket||t.MozWebSocket;if("undefined"==typeof window)try{a=n(36)}catch(e){}var p=u;p||"undefined"!=typeof window||(p=a),e.exports=i,l(i,r),i.prototype.name="websocket",i.prototype.supportsBinary=!0,i.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?t?new p(e,t):new p(e):new p(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},i.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},i.prototype.write=function(e){var n=this;this.writable=!1;for(var i=e.length,a=0,r=i;a<r;a++)!function(e){o.encodePacket(e,n.supportsBinary,function(a){if(!n.usingBrowserWebSocket){var r={};if(e.options&&(r.compress=e.options.compress),n.perMessageDeflate)("string"==typeof a?t.Buffer.byteLength(a):a.length)<n.perMessageDeflate.threshold&&(r.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(a):n.ws.send(a,r)}catch(e){d("websocket closed before onclose event")}--i||(n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0))})}(e[a])},i.prototype.onClose=function(){r.prototype.onClose.call(this)},i.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},i.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||(e.b64=1),(e=s.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},i.prototype.check=function(){return!(!p||"__initialize"in p&&this.name===i.prototype.name)}}).call(t,function(){return this}())},function(e,t){},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var i=0;i<e.length;++i)if(e[i]===t)return i;return-1}},function(e,t){(function(t){var n=/^[\],:{}\s]*$/,i=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,a=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,r=/(?:^|:|,)(?:\s*\[)+/g,o=/^\s+/,s=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(o,"").replace(s,""),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(i,"@").replace(a,"]").replace(r,""))?new Function("return "+e)():void 0):null}}).call(t,function(){return this}())},function(e,t,n){"use strict";function i(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(7),o=n(8),s=n(40),l=n(41),c=n(42),d=n(3)("socket.io-client:socket"),u=n(31);e.exports=i;var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},_=o.prototype.emit;o(i.prototype),i.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[l(e,"open",c(this,"onopen")),l(e,"packet",c(this,"onpacket")),l(e,"close",c(this,"onclose"))]}},i.prototype.open=i.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},i.prototype.send=function(){var e=s(arguments);return e.unshift("message"),this.emit.apply(this,e),this},i.prototype.emit=function(e){if(p.hasOwnProperty(e))return _.apply(this,arguments),this;var t=s(arguments),n={type:r.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(d("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),delete this.flags,this},i.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},i.prototype.onopen=function(){if(d("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"===a(this.query)?u.encode(this.query):this.query;d("sending connect packet with query %s",e),this.packet({type:r.CONNECT,query:e})}else this.packet({type:r.CONNECT})},i.prototype.onclose=function(e){d("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},i.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},i.prototype.onevent=function(e){var t=e.data||[];d("emitting event %j",t),null!=e.id&&(d("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?_.apply(this,t):this.receiveBuffer.push(t)},i.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=s(arguments);d("sending ack %j",i),t.packet({type:r.ACK,id:e,data:i})}}},i.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(d("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):d("bad ack %s",e.id)},i.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},i.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)_.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},i.prototype.ondisconnect=function(){d("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},i.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},i.prototype.close=i.prototype.disconnect=function(){return this.connected&&(d("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},i.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},function(e,t){e.exports=function(e,t){for(var n=[],i=(t=t||0)||0;i<e.length;i++)n[i-t]=e[i];return n}},function(e,t){"use strict";e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}}])}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return Xe.apply(null,arguments)}function t(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){return void 0===e}function a(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function r(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function o(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,n,i){return ve(e,t,n,i,!0).utc()}function d(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function u(e){if(null==e._isValid){var t=d(e),n=Ke.call(t.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function p(e){var t=c(NaN);return null!=e?l(d(t),e):d(t).userInvalidated=!0,t}function _(e,t){var n,a,r;if(i(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),i(t._i)||(e._i=t._i),i(t._f)||(e._f=t._f),i(t._l)||(e._l=t._l),i(t._strict)||(e._strict=t._strict),i(t._tzm)||(e._tzm=t._tzm),i(t._isUTC)||(e._isUTC=t._isUTC),i(t._offset)||(e._offset=t._offset),i(t._pf)||(e._pf=d(t)),i(t._locale)||(e._locale=t._locale),Ze.length>0)for(n=0;n<Ze.length;n++)i(r=t[a=Ze[n]])||(e[a]=r);return e}function h(t){_(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Qe&&(Qe=!0,e.updateOffset(this),Qe=!1)}function f(e){return e instanceof h||null!=e&&null!=e._isAMomentObject}function m(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function g(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=m(t)),n}function v(e,t,n){var i,a=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),o=0;for(i=0;i<a;i++)(n&&e[i]!==t[i]||!n&&g(e[i])!==g(t[i]))&&o++;return o+r}function y(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn}function b(t,n){var i=!0;return l(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),i){for(var a,r=[],o=0;o<arguments.length;o++){if(a="","object"==typeof arguments[o]){for(var s in a+="\n["+o+"] ",arguments[0])a+=s+": "+arguments[0][s]+", ";a=a.slice(0,-2)}else a=arguments[o];r.push(a)}y((Array.prototype.slice.call(r).join(""),(new Error).stack)),i=!1}return n.apply(this,arguments)},n)}function w(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),et[t]||(y(),et[t]=!0)}function x(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function k(e,t){var i,a=l({},e);for(i in t)s(t,i)&&(n(e[i])&&n(t[i])?(a[i]={},l(a[i],e[i]),l(a[i],t[i])):null!=t[i]?a[i]=t[i]:delete a[i]);for(i in e)s(e,i)&&!s(t,i)&&n(e[i])&&(a[i]=l({},a[i]));return a}function $(e){null!=e&&this.set(e)}function C(e,t){var n=e.toLowerCase();nt[n]=nt[n+"s"]=nt[t]=e}function T(e){return"string"==typeof e?nt[e]||nt[e.toLowerCase()]:void 0}function D(e){var t,n,i={};for(n in e)s(e,n)&&((t=T(n))&&(i[t]=e[n]));return i}function S(e,t){it[e]=t}function M(t,n){return function(i){return null!=i?(A(this,t,i),e.updateOffset(this,n),this):E(this,t)}}function E(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function A(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function O(e,t,n){var i=""+Math.abs(e),a=t-i.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+i}function P(e,t,n,i){var a=i;"string"==typeof i&&(a=function(){return this[i]()}),e&&(st[e]=a),t&&(st[t[0]]=function(){return O(a.apply(this,arguments),t[1],t[2])}),n&&(st[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function q(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function j(e,t){return e.isValid()?(t=N(t,e.localeData()),ot[t]=ot[t]||function(e){var t,n,i=e.match(at);for(t=0,n=i.length;t<n;t++)st[i[t]]?i[t]=st[i[t]]:i[t]=q(i[t]);return function(t){var a,r="";for(a=0;a<n;a++)r+=x(i[a])?i[a].call(t,e):i[a];return r}}(t),ot[t](e)):e.localeData().invalidDate()}function N(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(rt.lastIndex=0;i>=0&&rt.test(e);)e=e.replace(rt,n),rt.lastIndex=0,i-=1;return e}function F(e,t,n){$t[e]=x(t)?t:function(e,i){return e&&n?n:t}}function L(e,t){return s($t,e)?$t[e](t._strict,t._locale):new RegExp(function(e){return I(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,a){return t||n||i||a}))}(e))}function I(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function B(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),a(t)&&(i=function(e,n){n[t]=g(e)}),n=0;n<e.length;n++)Ct[e[n]]=i}function H(e,t){B(e,function(e,n,i,a){i._w=i._w||{},t(e,i._w,i,a)})}function R(e,t,n){null!=t&&s(Ct,e)&&Ct[e](t,n._a,n,e)}function Y(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function z(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=g(t);else if(!a(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Y(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function W(t){return null!=t?(z(this,t),e.updateOffset(this,!0),this):E(this,"Month")}function U(){function e(e,t){return t.length-e.length}var t,n,i=[],a=[],r=[];for(t=0;t<12;t++)n=c([2e3,t]),i.push(this.monthsShort(n,"")),a.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(i.sort(e),a.sort(e),r.sort(e),t=0;t<12;t++)i[t]=I(i[t]),a[t]=I(a[t]);for(t=0;t<24;t++)r[t]=I(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function V(e){return G(e)?366:365}function G(e){return e%4==0&&e%100!=0||e%400==0}function J(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function X(e,t,n){var i=7+t-n;return-((7+J(e,0,i).getUTCDay()-t)%7)+i-1}function K(e,t,n,i,a){var r,o,s=1+7*(t-1)+(7+n-i)%7+X(e,i,a);return s<=0?o=V(r=e-1)+s:s>V(e)?(r=e+1,o=s-V(e)):(r=e,o=s),{year:r,dayOfYear:o}}function Z(e,t,n){var i,a,r=X(e.year(),t,n),o=Math.floor((e.dayOfYear()-r-1)/7)+1;return o<1?i=o+Q(a=e.year()-1,t,n):o>Q(e.year(),t,n)?(i=o-Q(e.year(),t,n),a=e.year()+1):(a=e.year(),i=o),{week:i,year:a}}function Q(e,t,n){var i=X(e,t,n),a=X(e+1,t,n);return(V(e)-i+a)/7}function ee(){function e(e,t){return t.length-e.length}var t,n,i,a,r,o=[],s=[],l=[],d=[];for(t=0;t<7;t++)n=c([2e3,1]).day(t),i=this.weekdaysMin(n,""),a=this.weekdaysShort(n,""),r=this.weekdays(n,""),o.push(i),s.push(a),l.push(r),d.push(i),d.push(a),d.push(r);for(o.sort(e),s.sort(e),l.sort(e),d.sort(e),t=0;t<7;t++)s[t]=I(s[t]),l[t]=I(l[t]),d[t]=I(d[t]);this._weekdaysRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function te(){return this.hours()%12||12}function ne(e,t){P(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function ie(e,t){return t._meridiemParse}function ae(e){return e?e.toLowerCase().replace("_","-"):e}function re(e){var t=null;if(!Kt[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Gt._abbr,require("./locale/"+e),oe(t)}catch(e){}return Kt[e]}function oe(e,t){var n;return e&&((n=i(t)?le(e):se(e,t))&&(Gt=n)),Gt._abbr}function se(e,t){if(null!==t){var n=Xt;if(t.abbr=e,null!=Kt[e])w("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Kt[e]._config;else if(null!=t.parentLocale){if(null==Kt[t.parentLocale])return Zt[t.parentLocale]||(Zt[t.parentLocale]=[]),Zt[t.parentLocale].push({name:e,config:t}),null;n=Kt[t.parentLocale]._config}return Kt[e]=new $(k(n,t)),Zt[e]&&Zt[e].forEach(function(e){se(e.name,e.config)}),oe(e),Kt[e]}return delete Kt[e],null}function le(e){var n;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Gt;if(!t(e)){if(n=re(e))return n;e=[e]}return function(e){for(var t,n,i,a,r=0;r<e.length;){for(t=(a=ae(e[r]).split("-")).length,n=(n=ae(e[r+1]))?n.split("-"):null;t>0;){if(i=re(a.slice(0,t).join("-")))return i;if(n&&n.length>=t&&v(a,n,!0)>=t-1)break;t--}r++}return null}(e)}function ce(e){var t,n=e._a;return n&&-2===d(e).overflow&&(t=n[Dt]<0||n[Dt]>11?Dt:n[St]<1||n[St]>Y(n[Tt],n[Dt])?St:n[Mt]<0||n[Mt]>24||24===n[Mt]&&(0!==n[Et]||0!==n[At]||0!==n[Ot])?Mt:n[Et]<0||n[Et]>59?Et:n[At]<0||n[At]>59?At:n[Ot]<0||n[Ot]>999?Ot:-1,d(e)._overflowDayOfYear&&(t<Tt||t>St)&&(t=St),d(e)._overflowWeeks&&-1===t&&(t=Pt),d(e)._overflowWeekday&&-1===t&&(t=qt),d(e).overflow=t),e}function de(e){var t,n,i,a,r,o,s=e._i,l=Qt.exec(s)||en.exec(s);if(l){for(d(e).iso=!0,t=0,n=nn.length;t<n;t++)if(nn[t][1].exec(l[1])){a=nn[t][0],i=!1!==nn[t][2];break}if(null==a)return void(e._isValid=!1);if(l[3]){for(t=0,n=an.length;t<n;t++)if(an[t][1].exec(l[3])){r=(l[2]||" ")+an[t][0];break}if(null==r)return void(e._isValid=!1)}if(!i&&null!=r)return void(e._isValid=!1);if(l[4]){if(!tn.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=a+(r||"")+(o||""),fe(e)}else e._isValid=!1}function ue(e){var t,n,i,a,r,o,s,l,c={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"};if(t=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),n=on.exec(t)){if(i=n[1]?"ddd"+(5===n[1].length?", ":" "):"",a="D MMM "+(n[2].length>10?"YYYY ":"YY "),r="HH:mm"+(n[4]?":ss":""),n[1]){var u=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(n[2]).getDay()];if(n[1].substr(0,3)!==u)return d(e).weekdayMismatch=!0,void(e._isValid=!1)}switch(n[5].length){case 2:0===l?s=" +0000":s=((l="YXWVUTSRQPONZABCDEFGHIKLM".indexOf(n[5][1].toUpperCase())-12)<0?" -":" +")+(""+l).replace(/^-?/,"0").match(/..$/)[0]+"00";break;case 4:s=c[n[5]];break;default:s=c[" GMT"]}n[5]=s,e._i=n.splice(1).join(""),o=" ZZ",e._f=i+a+r+o,fe(e),d(e).rfc2822=!0}else e._isValid=!1}function pe(e,t,n){return null!=e?e:null!=t?t:n}function _e(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function he(e){var t,n,i,a,r=[];if(!e._d){for(i=_e(e),e._w&&null==e._a[St]&&null==e._a[Dt]&&function(e){var t,n,i,a,r,o,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)r=1,o=4,n=pe(t.GG,e._a[Tt],Z(ye(),1,4).year),i=pe(t.W,1),((a=pe(t.E,1))<1||a>7)&&(l=!0);else{r=e._locale._week.dow,o=e._locale._week.doy;var c=Z(ye(),r,o);n=pe(t.gg,e._a[Tt],c.year),i=pe(t.w,c.week),null!=t.d?((a=t.d)<0||a>6)&&(l=!0):null!=t.e?(a=t.e+r,(t.e<0||t.e>6)&&(l=!0)):a=r}i<1||i>Q(n,r,o)?d(e)._overflowWeeks=!0:null!=l?d(e)._overflowWeekday=!0:(s=K(n,i,a,r,o),e._a[Tt]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(a=pe(e._a[Tt],i[Tt]),(e._dayOfYear>V(a)||0===e._dayOfYear)&&(d(e)._overflowDayOfYear=!0),n=J(a,0,e._dayOfYear),e._a[Dt]=n.getUTCMonth(),e._a[St]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Mt]&&0===e._a[Et]&&0===e._a[At]&&0===e._a[Ot]&&(e._nextDay=!0,e._a[Mt]=0),e._d=(e._useUTC?J:function(e,t,n,i,a,r,o){var s=new Date(e,t,n,i,a,r,o);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}).apply(null,r),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Mt]=24)}}function fe(t){if(t._f!==e.ISO_8601)if(t._f!==e.RFC_2822){t._a=[],d(t).empty=!0;var n,i,a,r,o,s=""+t._i,l=s.length,c=0;for(a=N(t._f,t._locale).match(at)||[],n=0;n<a.length;n++)r=a[n],(i=(s.match(L(r,t))||[])[0])&&((o=s.substr(0,s.indexOf(i))).length>0&&d(t).unusedInput.push(o),s=s.slice(s.indexOf(i)+i.length),c+=i.length),st[r]?(i?d(t).empty=!1:d(t).unusedTokens.push(r),R(r,i,t)):t._strict&&!i&&d(t).unusedTokens.push(r);d(t).charsLeftOver=l-c,s.length>0&&d(t).unusedInput.push(s),t._a[Mt]<=12&&!0===d(t).bigHour&&t._a[Mt]>0&&(d(t).bigHour=void 0),d(t).parsedDateParts=t._a.slice(0),d(t).meridiem=t._meridiem,t._a[Mt]=function(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0),t):t}(t._locale,t._a[Mt],t._meridiem),he(t),ce(t)}else ue(t);else de(t)}function me(e){var n=e._i,i=e._f;return e._locale=e._locale||le(e._l),null===n||void 0===i&&""===n?p({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),f(n)?new h(ce(n)):(r(n)?e._d=n:t(i)?function(e){var t,n,i,a,r;if(0===e._f.length)return d(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<e._f.length;a++)r=0,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],fe(t),u(t)&&(r+=d(t).charsLeftOver,r+=10*d(t).unusedTokens.length,d(t).score=r,(null==i||r<i)&&(i=r,n=t));l(e,n||t)}(e):i?fe(e):ge(e),u(e)||(e._d=null),e))}function ge(s){var l=s._i;i(l)?s._d=new Date(e.now()):r(l)?s._d=new Date(l.valueOf()):"string"==typeof l?function(t){var n=rn.exec(t._i);null!==n?t._d=new Date(+n[1]):(de(t),!1===t._isValid&&(delete t._isValid,ue(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t))))}(s):t(l)?(s._a=o(l.slice(0),function(e){return parseInt(e,10)}),he(s)):n(l)?function(e){if(!e._d){var t=D(e._i);e._a=o([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),he(e)}}(s):a(l)?s._d=new Date(l):e.createFromInputFallback(s)}function ve(e,i,a,r,o){var s={};return!0!==a&&!1!==a||(r=a,a=void 0),(n(e)&&function(e){var t;for(t in e)return!1;return!0}(e)||t(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=o,s._l=a,s._i=e,s._f=i,s._strict=r,function(e){var t=new h(ce(me(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(s)}function ye(e,t,n,i){return ve(e,t,n,i,!1)}function be(e,n){var i,a;if(1===n.length&&t(n[0])&&(n=n[0]),!n.length)return ye();for(i=n[0],a=1;a<n.length;++a)n[a].isValid()&&!n[a][e](i)||(i=n[a]);return i}function we(e){var t=D(e),n=t.year||0,i=t.quarter||0,a=t.month||0,r=t.week||0,o=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===cn.indexOf(t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<cn.length;++i)if(e[cn[i]]){if(n)return!1;parseFloat(e[cn[i]])!==g(e[cn[i]])&&(n=!0)}return!0}(t),this._milliseconds=+d+1e3*c+6e4*l+1e3*s*60*60,this._days=+o+7*r,this._months=+a+3*i+12*n,this._data={},this._locale=le(),this._bubble()}function xe(e){return e instanceof we}function ke(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function $e(e,t){P(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+O(~~(e/60),2)+t+O(~~e%60,2)})}function Ce(e,t){var n=(t||"").match(e);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(dn)||["-",0,0],a=60*i[1]+g(i[2]);return 0===a?0:"+"===i[0]?a:-a}function Te(t,n){var i,a;return n._isUTC?(i=n.clone(),a=(f(t)||r(t)?t.valueOf():ye(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+a),e.updateOffset(i,!1),i):ye(t).local()}function De(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Se(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Me(e,t){var n,i,r,o=e,l=null;return xe(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:a(e)?(o={},t?o[t]=e:o.milliseconds=e):(l=un.exec(e))?(n="-"===l[1]?-1:1,o={y:0,d:g(l[St])*n,h:g(l[Mt])*n,m:g(l[Et])*n,s:g(l[At])*n,ms:g(ke(1e3*l[Ot]))*n}):(l=pn.exec(e))?(n="-"===l[1]?-1:1,o={y:Ee(l[2],n),M:Ee(l[3],n),w:Ee(l[4],n),d:Ee(l[5],n),h:Ee(l[6],n),m:Ee(l[7],n),s:Ee(l[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=function(e,t){var n;return e.isValid()&&t.isValid()?(t=Te(t,e),e.isBefore(t)?n=Ae(e,t):((n=Ae(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(ye(o.from),ye(o.to)),(o={}).ms=r.milliseconds,o.M=r.months),i=new we(o),xe(e)&&s(e,"_locale")&&(i._locale=e._locale),i}function Ee(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ae(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Oe(e,t){return function(n,i){var a;return null===i||isNaN(+i)||(w(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=i,i=a),Pe(this,Me(n="string"==typeof n?+n:n,i),e),this}}function Pe(t,n,i,a){var r=n._milliseconds,o=ke(n._days),s=ke(n._months);t.isValid()&&(a=null==a||a,r&&t._d.setTime(t._d.valueOf()+r*i),o&&A(t,"Date",E(t,"Date")+o*i),s&&z(t,E(t,"Month")+s*i),a&&e.updateOffset(t,o||s))}function qe(e){var t;return void 0===e?this._locale._abbr:(null!=(t=le(e))&&(this._locale=t),this)}function je(){return this._locale}function Ne(e,t){P(0,[e,e.length],0,t)}function Fe(e,t,n,i,a){var r;return null==e?Z(this,i,a).year:(t>(r=Q(e,i,a))&&(t=r),function(e,t,n,i,a){var r=K(e,t,n,i,a),o=J(r.year,0,r.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}.call(this,e,t,n,i,a))}function Le(e,t){t[Ot]=g(1e3*("0."+e))}function Ie(e){return e}function Be(e,t,n,i){var a=le(),r=c().set(i,t);return a[n](r,e)}function He(e,t,n){if(a(e)&&(t=e,e=void 0),e=e||"",null!=t)return Be(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=Be(e,i,n,"month");return r}function Re(e,t,n,i){"boolean"==typeof e?(a(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,a(t)&&(n=t,t=void 0),t=t||"");var r=le(),o=e?r._week.dow:0;if(null!=n)return Be(t,(n+o)%7,i,"day");var s,l=[];for(s=0;s<7;s++)l[s]=Be(t,(s+o)%7,i,"day");return l}function Ye(e,t,n,i){var a=Me(t,n);return e._milliseconds+=i*a._milliseconds,e._days+=i*a._days,e._months+=i*a._months,e._bubble()}function ze(e){return e<0?Math.floor(e):Math.ceil(e)}function We(e){return 4800*e/146097}function Ue(e){return 146097*e/4800}function Ve(e){return function(){return this.as(e)}}function Ge(e){return function(){return this.isValid()?this._data[e]:NaN}}function Je(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Hn(this._milliseconds)/1e3,i=Hn(this._days),a=Hn(this._months);t=m((e=m(n/60))/60),n%=60,e%=60;var r=m(a/12),o=a%=12,s=i,l=t,c=e,d=n,u=this.asSeconds();return u?(u<0?"-":"")+"P"+(r?r+"Y":"")+(o?o+"M":"")+(s?s+"D":"")+(l||c||d?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var Xe,Ke=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1},Ze=e.momentProperties=[],Qe=!1,et={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var tt=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n},nt={},it={},at=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,rt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ot={},st={},lt=/\d/,ct=/\d\d/,dt=/\d{3}/,ut=/\d{4}/,pt=/[+-]?\d{6}/,_t=/\d\d?/,ht=/\d\d\d\d?/,ft=/\d\d\d\d\d\d?/,mt=/\d{1,3}/,gt=/\d{1,4}/,vt=/[+-]?\d{1,6}/,yt=/\d+/,bt=/[+-]?\d+/,wt=/Z|[+-]\d\d:?\d\d/gi,xt=/Z|[+-]\d\d(?::?\d\d)?/gi,kt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,$t={},Ct={},Tt=0,Dt=1,St=2,Mt=3,Et=4,At=5,Ot=6,Pt=7,qt=8,jt=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};P("M",["MM",2],"Mo",function(){return this.month()+1}),P("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),P("MMMM",0,0,function(e){return this.localeData().months(this,e)}),C("month","M"),S("month",8),F("M",_t),F("MM",_t,ct),F("MMM",function(e,t){return t.monthsShortRegex(e)}),F("MMMM",function(e,t){return t.monthsRegex(e)}),B(["M","MM"],function(e,t){t[Dt]=g(e)-1}),B(["MMM","MMMM"],function(e,t,n,i){var a=n._locale.monthsParse(e,i,n._strict);null!=a?t[Dt]=a:d(n).invalidMonth=e});var Nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ft="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Lt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),It=kt,Bt=kt;P("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),P(0,["YY",2],0,function(){return this.year()%100}),P(0,["YYYY",4],0,"year"),P(0,["YYYYY",5],0,"year"),P(0,["YYYYYY",6,!0],0,"year"),C("year","y"),S("year",1),F("Y",bt),F("YY",_t,ct),F("YYYY",gt,ut),F("YYYYY",vt,pt),F("YYYYYY",vt,pt),B(["YYYYY","YYYYYY"],Tt),B("YYYY",function(t,n){n[Tt]=2===t.length?e.parseTwoDigitYear(t):g(t)}),B("YY",function(t,n){n[Tt]=e.parseTwoDigitYear(t)}),B("Y",function(e,t){t[Tt]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return g(e)+(g(e)>68?1900:2e3)};var Ht=M("FullYear",!0);P("w",["ww",2],"wo","week"),P("W",["WW",2],"Wo","isoWeek"),C("week","w"),C("isoWeek","W"),S("week",5),S("isoWeek",5),F("w",_t),F("ww",_t,ct),F("W",_t),F("WW",_t,ct),H(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=g(e)});P("d",0,"do","day"),P("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),P("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),P("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),P("e",0,0,"weekday"),P("E",0,0,"isoWeekday"),C("day","d"),C("weekday","e"),C("isoWeekday","E"),S("day",11),S("weekday",11),S("isoWeekday",11),F("d",_t),F("e",_t),F("E",_t),F("dd",function(e,t){return t.weekdaysMinRegex(e)}),F("ddd",function(e,t){return t.weekdaysShortRegex(e)}),F("dddd",function(e,t){return t.weekdaysRegex(e)}),H(["dd","ddd","dddd"],function(e,t,n,i){var a=n._locale.weekdaysParse(e,i,n._strict);null!=a?t.d=a:d(n).invalidWeekday=e}),H(["d","e","E"],function(e,t,n,i){t[i]=g(e)});var Rt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Yt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),zt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Wt=kt,Ut=kt,Vt=kt;P("H",["HH",2],0,"hour"),P("h",["hh",2],0,te),P("k",["kk",2],0,function(){return this.hours()||24}),P("hmm",0,0,function(){return""+te.apply(this)+O(this.minutes(),2)}),P("hmmss",0,0,function(){return""+te.apply(this)+O(this.minutes(),2)+O(this.seconds(),2)}),P("Hmm",0,0,function(){return""+this.hours()+O(this.minutes(),2)}),P("Hmmss",0,0,function(){return""+this.hours()+O(this.minutes(),2)+O(this.seconds(),2)}),ne("a",!0),ne("A",!1),C("hour","h"),S("hour",13),F("a",ie),F("A",ie),F("H",_t),F("h",_t),F("k",_t),F("HH",_t,ct),F("hh",_t,ct),F("kk",_t,ct),F("hmm",ht),F("hmmss",ft),F("Hmm",ht),F("Hmmss",ft),B(["H","HH"],Mt),B(["k","kk"],function(e,t,n){var i=g(e);t[Mt]=24===i?0:i}),B(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),B(["h","hh"],function(e,t,n){t[Mt]=g(e),d(n).bigHour=!0}),B("hmm",function(e,t,n){var i=e.length-2;t[Mt]=g(e.substr(0,i)),t[Et]=g(e.substr(i)),d(n).bigHour=!0}),B("hmmss",function(e,t,n){var i=e.length-4,a=e.length-2;t[Mt]=g(e.substr(0,i)),t[Et]=g(e.substr(i,2)),t[At]=g(e.substr(a)),d(n).bigHour=!0}),B("Hmm",function(e,t,n){var i=e.length-2;t[Mt]=g(e.substr(0,i)),t[Et]=g(e.substr(i))}),B("Hmmss",function(e,t,n){var i=e.length-4,a=e.length-2;t[Mt]=g(e.substr(0,i)),t[Et]=g(e.substr(i,2)),t[At]=g(e.substr(a))});var Gt,Jt=M("Hours",!0),Xt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ft,monthsShort:Lt,week:{dow:0,doy:6},weekdays:Rt,weekdaysMin:zt,weekdaysShort:Yt,meridiemParse:/[ap]\.?m?\.?/i},Kt={},Zt={},Qt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,en=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tn=/Z|[+-]\d\d(?::?\d\d)?/,nn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],an=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],rn=/^\/?Date\((\-?\d+)/i,on=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;e.createFromInputFallback=b("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var sn=b("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ye.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:p()}),ln=b("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ye.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:p()}),cn=["year","quarter","month","week","day","hour","minute","second","millisecond"];$e("Z",":"),$e("ZZ",""),F("Z",xt),F("ZZ",xt),B(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ce(xt,e)});var dn=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var un=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,pn=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Me.fn=we.prototype,Me.invalid=function(){return Me(NaN)};var _n=Oe(1,"add"),hn=Oe(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var fn=b("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});P(0,["gg",2],0,function(){return this.weekYear()%100}),P(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ne("gggg","weekYear"),Ne("ggggg","weekYear"),Ne("GGGG","isoWeekYear"),Ne("GGGGG","isoWeekYear"),C("weekYear","gg"),C("isoWeekYear","GG"),S("weekYear",1),S("isoWeekYear",1),F("G",bt),F("g",bt),F("GG",_t,ct),F("gg",_t,ct),F("GGGG",gt,ut),F("gggg",gt,ut),F("GGGGG",vt,pt),F("ggggg",vt,pt),H(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=g(e)}),H(["gg","GG"],function(t,n,i,a){n[a]=e.parseTwoDigitYear(t)}),P("Q",0,"Qo","quarter"),C("quarter","Q"),S("quarter",7),F("Q",lt),B("Q",function(e,t){t[Dt]=3*(g(e)-1)}),P("D",["DD",2],"Do","date"),C("date","D"),S("date",9),F("D",_t),F("DD",_t,ct),F("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),B(["D","DD"],St),B("Do",function(e,t){t[St]=g(e.match(_t)[0])});var mn=M("Date",!0);P("DDD",["DDDD",3],"DDDo","dayOfYear"),C("dayOfYear","DDD"),S("dayOfYear",4),F("DDD",mt),F("DDDD",dt),B(["DDD","DDDD"],function(e,t,n){n._dayOfYear=g(e)}),P("m",["mm",2],0,"minute"),C("minute","m"),S("minute",14),F("m",_t),F("mm",_t,ct),B(["m","mm"],Et);var gn=M("Minutes",!1);P("s",["ss",2],0,"second"),C("second","s"),S("second",15),F("s",_t),F("ss",_t,ct),B(["s","ss"],At);var vn,yn=M("Seconds",!1);for(P("S",0,0,function(){return~~(this.millisecond()/100)}),P(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),P(0,["SSS",3],0,"millisecond"),P(0,["SSSS",4],0,function(){return 10*this.millisecond()}),P(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),P(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),P(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),P(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),P(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),C("millisecond","ms"),S("millisecond",16),F("S",mt,lt),F("SS",mt,ct),F("SSS",mt,dt),vn="SSSS";vn.length<=9;vn+="S")F(vn,yt);for(vn="S";vn.length<=9;vn+="S")B(vn,Le);var bn=M("Milliseconds",!1);P("z",0,0,"zoneAbbr"),P("zz",0,0,"zoneName");var wn=h.prototype;wn.add=_n,wn.calendar=function(t,n){var i=t||ye(),a=Te(i,this).startOf("day"),r=e.calendarFormat(this,a)||"sameElse",o=n&&(x(n[r])?n[r].call(this,i):n[r]);return this.format(o||this.localeData().calendar(r,this,ye(i)))},wn.clone=function(){return new h(this)},wn.diff=function(e,t,n){var i,a,r,o;return this.isValid()&&(i=Te(e,this)).isValid()?(a=6e4*(i.utcOffset()-this.utcOffset()),"year"===(t=T(t))||"month"===t||"quarter"===t?(o=function(e,t){var n,i,a=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(a,"months");return t-r<0?(n=e.clone().add(a-1,"months"),i=(t-r)/(r-n)):(n=e.clone().add(a+1,"months"),i=(t-r)/(n-r)),-(a+i)||0}(this,i),"quarter"===t?o/=3:"year"===t&&(o/=12)):(r=this-i,o="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-a)/864e5:"week"===t?(r-a)/6048e5:r),n?o:m(o)):NaN},wn.endOf=function(e){return void 0===(e=T(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},wn.format=function(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=j(this,t);return this.localeData().postformat(n)},wn.from=function(e,t){return this.isValid()&&(f(e)&&e.isValid()||ye(e).isValid())?Me({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},wn.fromNow=function(e){return this.from(ye(),e)},wn.to=function(e,t){return this.isValid()&&(f(e)&&e.isValid()||ye(e).isValid())?Me({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},wn.toNow=function(e){return this.to(ye(),e)},wn.get=function(e){return x(this[e=T(e)])?this[e]():this},wn.invalidAt=function(){return d(this).overflow},wn.isAfter=function(e,t){var n=f(e)?e:ye(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=T(i(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},wn.isBefore=function(e,t){var n=f(e)?e:ye(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=T(i(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},wn.isBetween=function(e,t,n,i){return("("===(i=i||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))},wn.isSame=function(e,t){var n,i=f(e)?e:ye(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=T(t||"millisecond"))?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},wn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},wn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},wn.isValid=function(){return u(this)},wn.lang=fn,wn.locale=qe,wn.localeData=je,wn.max=ln,wn.min=sn,wn.parsingFlags=function(){return l({},d(this))},wn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:it[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=D(e)),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit]);else if(x(this[e=T(e)]))return this[e](t);return this},wn.startOf=function(e){switch(e=T(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},wn.subtract=hn,wn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},wn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},wn.toDate=function(){return new Date(this.valueOf())},wn.toISOString=function(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?j(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):x(Date.prototype.toISOString)?this.toDate().toISOString():j(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},wn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a=t+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+a)},wn.toJSON=function(){return this.isValid()?this.toISOString():null},wn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},wn.unix=function(){return Math.floor(this.valueOf()/1e3)},wn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},wn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},wn.year=Ht,wn.isLeapYear=function(){return G(this.year())},wn.weekYear=function(e){return Fe.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},wn.isoWeekYear=function(e){return Fe.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},wn.quarter=wn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},wn.month=W,wn.daysInMonth=function(){return Y(this.year(),this.month())},wn.week=wn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},wn.isoWeek=wn.isoWeeks=function(e){var t=Z(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},wn.weeksInYear=function(){var e=this.localeData()._week;return Q(this.year(),e.dow,e.doy)},wn.isoWeeksInYear=function(){return Q(this.year(),1,4)},wn.date=mn,wn.day=wn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},wn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},wn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},wn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},wn.hour=wn.hours=Jt,wn.minute=wn.minutes=gn,wn.second=wn.seconds=yn,wn.millisecond=wn.milliseconds=bn,wn.utcOffset=function(t,n,i){var a,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Ce(xt,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&n&&(a=De(this)),this._offset=t,this._isUTC=!0,null!=a&&this.add(a,"m"),r!==t&&(!n||this._changeInProgress?Pe(this,Me(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:De(this)},wn.utc=function(e){return this.utcOffset(0,e)},wn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(De(this),"m")),this},wn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ce(wt,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},wn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?ye(e).utcOffset():0,(this.utcOffset()-e)%60==0)},wn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},wn.isLocal=function(){return!!this.isValid()&&!this._isUTC},wn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},wn.isUtc=Se,wn.isUTC=Se,wn.zoneAbbr=function(){return this._isUTC?"UTC":""},wn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},wn.dates=b("dates accessor is deprecated. Use date instead.",mn),wn.months=b("months accessor is deprecated. Use month instead",W),wn.years=b("years accessor is deprecated. Use year instead",Ht),wn.zone=b("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),wn.isDSTShifted=b("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!i(this._isDSTShifted))return this._isDSTShifted;var e={};if(_(e,this),(e=me(e))._a){var t=e._isUTC?c(e._a):ye(e._a);this._isDSTShifted=this.isValid()&&v(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var xn=$.prototype;xn.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return x(i)?i.call(t,n):i},xn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},xn.invalidDate=function(){return this._invalidDate},xn.ordinal=function(e){return this._ordinal.replace("%d",e)},xn.preparse=Ie,xn.postformat=Ie,xn.relativeTime=function(e,t,n,i){var a=this._relativeTime[n];return x(a)?a(e,t,n,i):a.replace(/%d/i,e)},xn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return x(n)?n(t):n.replace(/%s/i,t)},xn.set=function(e){var t,n;for(n in e)x(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},xn.months=function(e,n){return e?t(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Nt).test(n)?"format":"standalone"][e.month()]:t(this._months)?this._months:this._months.standalone},xn.monthsShort=function(e,n){return e?t(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Nt.test(n)?"format":"standalone"][e.month()]:t(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},xn.monthsParse=function(e,t,n){var i,a,r;if(this._monthsParseExact)return function(e,t,n){var i,a,r,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)r=c([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(a=jt.call(this._shortMonthsParse,o))?a:null:-1!==(a=jt.call(this._longMonthsParse,o))?a:null:"MMM"===t?-1!==(a=jt.call(this._shortMonthsParse,o))?a:-1!==(a=jt.call(this._longMonthsParse,o))?a:null:-1!==(a=jt.call(this._longMonthsParse,o))?a:-1!==(a=jt.call(this._shortMonthsParse,o))?a:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(a=c([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},xn.monthsRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||U.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Bt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},xn.monthsShortRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||U.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=It),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},xn.week=function(e){return Z(e,this._week.dow,this._week.doy).week},xn.firstDayOfYear=function(){return this._week.doy},xn.firstDayOfWeek=function(){return this._week.dow},xn.weekdays=function(e,n){return e?t(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(n)?"format":"standalone"][e.day()]:t(this._weekdays)?this._weekdays:this._weekdays.standalone},xn.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},xn.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},xn.weekdaysParse=function(e,t,n){var i,a,r;if(this._weekdaysParseExact)return function(e,t,n){var i,a,r,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)r=c([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(a=jt.call(this._weekdaysParse,o))?a:null:"ddd"===t?-1!==(a=jt.call(this._shortWeekdaysParse,o))?a:null:-1!==(a=jt.call(this._minWeekdaysParse,o))?a:null:"dddd"===t?-1!==(a=jt.call(this._weekdaysParse,o))?a:-1!==(a=jt.call(this._shortWeekdaysParse,o))?a:-1!==(a=jt.call(this._minWeekdaysParse,o))?a:null:"ddd"===t?-1!==(a=jt.call(this._shortWeekdaysParse,o))?a:-1!==(a=jt.call(this._weekdaysParse,o))?a:-1!==(a=jt.call(this._minWeekdaysParse,o))?a:null:-1!==(a=jt.call(this._minWeekdaysParse,o))?a:-1!==(a=jt.call(this._weekdaysParse,o))?a:-1!==(a=jt.call(this._shortWeekdaysParse,o))?a:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(a=c([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(a,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(a,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(a,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},xn.weekdaysRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||ee.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Wt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},xn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||ee.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ut),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},xn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||ee.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Vt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},xn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},xn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},oe("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===g(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),e.lang=b("moment.lang is deprecated. Use moment.locale instead.",oe),e.langData=b("moment.langData is deprecated. Use moment.localeData instead.",le);var kn=Math.abs,$n=Ve("ms"),Cn=Ve("s"),Tn=Ve("m"),Dn=Ve("h"),Sn=Ve("d"),Mn=Ve("w"),En=Ve("M"),An=Ve("y"),On=Ge("milliseconds"),Pn=Ge("seconds"),qn=Ge("minutes"),jn=Ge("hours"),Nn=Ge("days"),Fn=Ge("months"),Ln=Ge("years"),In=Math.round,Bn={ss:44,s:45,m:45,h:22,d:26,M:11},Hn=Math.abs,Rn=we.prototype;return Rn.isValid=function(){return this._isValid},Rn.abs=function(){var e=this._data;return this._milliseconds=kn(this._milliseconds),this._days=kn(this._days),this._months=kn(this._months),e.milliseconds=kn(e.milliseconds),e.seconds=kn(e.seconds),e.minutes=kn(e.minutes),e.hours=kn(e.hours),e.months=kn(e.months),e.years=kn(e.years),this},Rn.add=function(e,t){return Ye(this,e,t,1)},Rn.subtract=function(e,t){return Ye(this,e,t,-1)},Rn.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=T(e))||"year"===e)return t=this._days+i/864e5,n=this._months+We(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Ue(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},Rn.asMilliseconds=$n,Rn.asSeconds=Cn,Rn.asMinutes=Tn,Rn.asHours=Dn,Rn.asDays=Sn,Rn.asWeeks=Mn,Rn.asMonths=En,Rn.asYears=An,Rn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12):NaN},Rn._bubble=function(){var e,t,n,i,a,r=this._milliseconds,o=this._days,s=this._months,l=this._data;return r>=0&&o>=0&&s>=0||r<=0&&o<=0&&s<=0||(r+=864e5*ze(Ue(s)+o),o=0,s=0),l.milliseconds=r%1e3,e=m(r/1e3),l.seconds=e%60,t=m(e/60),l.minutes=t%60,n=m(t/60),l.hours=n%24,s+=a=m(We(o+=m(n/24))),o-=ze(Ue(a)),i=m(s/12),s%=12,l.days=o,l.months=s,l.years=i,this},Rn.get=function(e){return e=T(e),this.isValid()?this[e+"s"]():NaN},Rn.milliseconds=On,Rn.seconds=Pn,Rn.minutes=qn,Rn.hours=jn,Rn.days=Nn,Rn.weeks=function(){return m(this.days()/7)},Rn.months=Fn,Rn.years=Ln,Rn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var i=Me(e).abs(),a=In(i.as("s")),r=In(i.as("m")),o=In(i.as("h")),s=In(i.as("d")),l=In(i.as("M")),c=In(i.as("y")),d=a<=Bn.ss&&["s",a]||a<Bn.s&&["ss",a]||r<=1&&["m"]||r<Bn.m&&["mm",r]||o<=1&&["h"]||o<Bn.h&&["hh",o]||s<=1&&["d"]||s<Bn.d&&["dd",s]||l<=1&&["M"]||l<Bn.M&&["MM",l]||c<=1&&["y"]||["yy",c];return d[2]=t,d[3]=+e>0,d[4]=n,function(e,t,n,i,a){return a.relativeTime(t||1,!!n,e,i)}.apply(null,d)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},Rn.toISOString=Je,Rn.toString=Je,Rn.toJSON=Je,Rn.locale=qe,Rn.localeData=je,Rn.toIsoString=b("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Je),Rn.lang=fn,P("X",0,0,"unix"),P("x",0,0,"valueOf"),F("x",bt),F("X",/[+-]?\d+(\.\d{1,3})?/),B("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),B("x",function(e,t,n){n._d=new Date(g(e))}),e.version="2.18.1",function(e){Xe=e}(ye),e.fn=wn,e.min=function(){return be("isBefore",[].slice.call(arguments,0))},e.max=function(){return be("isAfter",[].slice.call(arguments,0))},e.now=function(){return Date.now?Date.now():+new Date},e.utc=c,e.unix=function(e){return ye(1e3*e)},e.months=function(e,t){return He(e,t,"months")},e.isDate=r,e.locale=oe,e.invalid=p,e.duration=Me,e.isMoment=f,e.weekdays=function(e,t,n){return Re(e,t,n,"weekdays")},e.parseZone=function(){return ye.apply(null,arguments).parseZone()},e.localeData=le,e.isDuration=xe,e.monthsShort=function(e,t){return He(e,t,"monthsShort")},e.weekdaysMin=function(e,t,n){return Re(e,t,n,"weekdaysMin")},e.defineLocale=se,e.updateLocale=function(e,t){if(null!=t){var n,i=Xt;null!=Kt[e]&&(i=Kt[e]._config),(n=new $(t=k(i,t))).parentLocale=Kt[e],Kt[e]=n,oe(e)}else null!=Kt[e]&&(null!=Kt[e].parentLocale?Kt[e]=Kt[e].parentLocale:null!=Kt[e]&&delete Kt[e]);return Kt[e]},e.locales=function(){return tt(Kt)},e.weekdaysShort=function(e,t,n){return Re(e,t,n,"weekdaysShort")},e.normalizeUnits=T,e.relativeTimeRounding=function(e){return void 0===e?In:"function"==typeof e&&(In=e,!0)},e.relativeTimeThreshold=function(e,t){return void 0!==Bn[e]&&(void 0===t?Bn[e]:(Bn[e]=t,"s"===e&&(Bn.ss=t-1),!0))},e.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},e.prototype=wn,e}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?t(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],t):t(e.moment)}(this,function(e){"use strict";return e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?t(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],t):t(e.moment)}(this,function(e){"use strict";return e.defineLocale("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 HH:mm dddd",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日 HH:mm dddd"},meridiemParse:/午前|午後/i,isPM:function(e){return"午後"===e},meridiem:function(e,t,n){return e<12?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}日/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?t(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],t):t(e.moment)}(this,function(e){"use strict";return e.defineLocale("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"ม.ค._ก.พ._มี.ค._เม.ย._พ.ค._มิ.ย._ก.ค._ส.ค._ก.ย._ต.ค._พ.ย._ธ.ค.".split("_"),monthsParseExact:!0,weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา H:mm",LLLL:"วันddddที่ D MMMM YYYY เวลา H:mm"},meridiemParse:/ก่อนเที่ยง|หลังเที่ยง/,isPM:function(e){return"หลังเที่ยง"===e},meridiem:function(e,t,n){return e<12?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?t(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],t):t(e.moment)}(this,function(e){"use strict";return e.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Tháng 1_Tháng 2_tháng 3_Tháng 4_Tháng 5_Tháng 6_Tháng 7_Tháng 8_Tháng 9_Tháng 10_Tháng 11_háng 12".split("_"),monthsParseExact:!0,weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần rồi lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?t(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],t):t(e.moment)}(this,function(e){"use strict";return e.defineLocale("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var i=100*e+t;return i<600?"凌晨":i<900?"早上":i<1130?"上午":i<1230?"中午":i<1800?"下午":"晚上"},calendar:{sameDay:"[今天] LT",nextDay:"[明天] LT",nextWeek:"[下]dddd LT",lastDay:"[昨天] LT",lastWeek:"[上]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}})}),function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],e);else if("object"==typeof exports)module.exports=e(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";e(jQuery,moment)}}(function(e,t){"use strict";if(!t)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var n=function(n,i){var a,r,o,s,l,c,d,u={},p=!0,_=!1,h=!1,f=0,m=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],g=["days","months","years","decades"],v=["top","bottom","auto"],y=["left","right","auto"],b=["default","top","bottom"],w={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},x={},k=function(){return void 0!==t.tz&&void 0!==i.timeZone&&null!==i.timeZone&&""!==i.timeZone},$=function(e){var n;return n=void 0===e||null===e?t():t.isDate(e)||t.isMoment(e)?t(e):k()?t.tz(e,c,i.useStrict,i.timeZone):t(e,c,i.useStrict),k()&&n.tz(i.timeZone),n},C=function(e){if("string"!=typeof e||e.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(e){case"y":return-1!==l.indexOf("Y");case"M":return-1!==l.indexOf("M");case"d":return-1!==l.toLowerCase().indexOf("d");case"h":case"H":return-1!==l.toLowerCase().indexOf("h");case"m":return-1!==l.indexOf("m");case"s":return-1!==l.indexOf("s");default:return!1}},T=function(){return C("h")||C("m")||C("s")},D=function(){return C("y")||C("M")||C("d")},S=function(){var t=e("<tr>"),n=e("<tr>"),a=e("<tr>");return C("h")&&(t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(e("<span>").addClass(i.icons.up)))),n.append(e("<td>").append(e("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:i.tooltips.pickHour}).attr("data-action","showHours"))),a.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(e("<span>").addClass(i.icons.down))))),C("m")&&(C("h")&&(t.append(e("<td>").addClass("separator")),n.append(e("<td>").addClass("separator").html(":")),a.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(e("<span>").addClass(i.icons.up)))),n.append(e("<td>").append(e("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:i.tooltips.pickMinute}).attr("data-action","showMinutes"))),a.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(e("<span>").addClass(i.icons.down))))),C("s")&&(C("m")&&(t.append(e("<td>").addClass("separator")),n.append(e("<td>").addClass("separator").html(":")),a.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(e("<span>").addClass(i.icons.up)))),n.append(e("<td>").append(e("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:i.tooltips.pickSecond}).attr("data-action","showSeconds"))),a.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(e("<span>").addClass(i.icons.down))))),s||(t.append(e("<td>").addClass("separator")),n.append(e("<td>").append(e("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:i.tooltips.togglePeriod}))),a.append(e("<td>").addClass("separator"))),e("<div>").addClass("timepicker-picker").append(e("<table>").addClass("table-condensed").append([t,n,a]))},M=function(){var t=e("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),n=e("<div>").addClass("datepicker").append(function(){var t=e("<thead>").append(e("<tr>").append(e("<th>").addClass("prev").attr("data-action","previous").append(e("<span>").addClass(i.icons.previous))).append(e("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",i.calendarWeeks?"6":"5")).append(e("<th>").addClass("next").attr("data-action","next").append(e("<span>").addClass(i.icons.next)))),n=e("<tbody>").append(e("<tr>").append(e("<td>").attr("colspan",i.calendarWeeks?"8":"7")));return[e("<div>").addClass("datepicker-days").append(e("<table>").addClass("table-condensed").append(t).append(e("<tbody>"))),e("<div>").addClass("datepicker-months").append(e("<table>").addClass("table-condensed").append(t.clone()).append(n.clone())),e("<div>").addClass("datepicker-years").append(e("<table>").addClass("table-condensed").append(t.clone()).append(n.clone())),e("<div>").addClass("datepicker-decades").append(e("<table>").addClass("table-condensed").append(t.clone()).append(n.clone()))]}()),a=e("<div>").addClass("timepicker").append(function(){var t=e("<div>").addClass("timepicker-hours").append(e("<table>").addClass("table-condensed")),n=e("<div>").addClass("timepicker-minutes").append(e("<table>").addClass("table-condensed")),i=e("<div>").addClass("timepicker-seconds").append(e("<table>").addClass("table-condensed")),a=[S()];return C("h")&&a.push(t),C("m")&&a.push(n),C("s")&&a.push(i),a}()),r=e("<ul>").addClass("list-unstyled"),o=e("<li>").addClass("picker-switch"+(i.collapse?" accordion-toggle":"")).append(function(){var t=[];return i.showTodayButton&&t.push(e("<td>").append(e("<a>").attr({"data-action":"today",title:i.tooltips.today}).append(e("<span>").addClass(i.icons.today)))),!i.sideBySide&&D()&&T()&&t.push(e("<td>").append(e("<a>").attr({"data-action":"togglePicker",title:i.tooltips.selectTime}).append(e("<span>").addClass(i.icons.time)))),i.showClear&&t.push(e("<td>").append(e("<a>").attr({"data-action":"clear",title:i.tooltips.clear}).append(e("<span>").addClass(i.icons.clear)))),i.showClose&&t.push(e("<td>").append(e("<a>").attr({"data-action":"close",title:i.tooltips.close}).append(e("<span>").addClass(i.icons.close)))),e("<table>").addClass("table-condensed").append(e("<tbody>").append(e("<tr>").append(t)))}());return i.inline&&t.removeClass("dropdown-menu"),s&&t.addClass("usetwentyfour"),C("s")&&!s&&t.addClass("wider"),i.sideBySide&&D()&&T()?(t.addClass("timepicker-sbs"),"top"===i.toolbarPlacement&&t.append(o),t.append(e("<div>").addClass("row").append(n.addClass("col-md-6")).append(a.addClass("col-md-6"))),"bottom"===i.toolbarPlacement&&t.append(o),t):("top"===i.toolbarPlacement&&r.append(o),D()&&r.append(e("<li>").addClass(i.collapse&&T()?"collapse in":"").append(n)),"default"===i.toolbarPlacement&&r.append(o),T()&&r.append(e("<li>").addClass(i.collapse&&D()?"collapse":"").append(a)),"bottom"===i.toolbarPlacement&&r.append(o),t.append(r))},E=function(){var t,a=(_||n).position(),r=(_||n).offset(),o=i.widgetPositioning.vertical,s=i.widgetPositioning.horizontal;if(i.widgetParent)t=i.widgetParent.append(h);else if(n.is("input"))t=n.after(h).parent();else{if(i.inline)return void(t=n.append(h));t=n,n.children().first().after(h)}if("auto"===o&&(o=r.top+1.5*h.height()>=e(window).height()+e(window).scrollTop()&&h.height()+n.outerHeight()<r.top?"top":"bottom"),"auto"===s&&(s=t.width()<r.left+h.outerWidth()/2&&r.left+h.outerWidth()>e(window).width()?"right":"left"),"top"===o?h.addClass("top").removeClass("bottom"):h.addClass("bottom").removeClass("top"),"right"===s?h.addClass("pull-right"):h.removeClass("pull-right"),"static"===t.css("position")&&(t=t.parents().filter(function(){return"static"!==e(this).css("position")}).first()),0===t.length)throw new Error("datetimepicker component should be placed within a non-static positioned container");h.css({top:"top"===o?"auto":a.top+n.outerHeight(),bottom:"top"===o?t.outerHeight()-(t===n?0:a.top):"auto",left:"left"===s?t===n?0:a.left:"auto",right:"left"===s?"auto":t.outerWidth()-n.outerWidth()-(t===n?0:a.left)})},A=function(e){"dp.change"===e.type&&(e.date&&e.date.isSame(e.oldDate)||!e.date&&!e.oldDate)||n.trigger(e)},O=function(e){"y"===e&&(e="YYYY"),A({type:"dp.update",change:e,viewDate:r.clone()})},P=function(e){h&&(e&&(d=Math.max(f,Math.min(3,d+e))),h.find(".datepicker > div").hide().filter(".datepicker-"+m[d].clsName).show())},q=function(t,n){if(!t.isValid())return!1;if(i.disabledDates&&"d"===n&&function(e){return!0===i.disabledDates[e.format("YYYY-MM-DD")]}(t))return!1;if(i.enabledDates&&"d"===n&&!function(e){return!0===i.enabledDates[e.format("YYYY-MM-DD")]}(t))return!1;if(i.minDate&&t.isBefore(i.minDate,n))return!1;if(i.maxDate&&t.isAfter(i.maxDate,n))return!1;if(i.daysOfWeekDisabled&&"d"===n&&-1!==i.daysOfWeekDisabled.indexOf(t.day()))return!1;if(i.disabledHours&&("h"===n||"m"===n||"s"===n)&&function(e){return!0===i.disabledHours[e.format("H")]}(t))return!1;if(i.enabledHours&&("h"===n||"m"===n||"s"===n)&&!function(e){return!0===i.enabledHours[e.format("H")]}(t))return!1;if(i.disabledTimeIntervals&&("h"===n||"m"===n||"s"===n)){var a=!1;if(e.each(i.disabledTimeIntervals,function(){if(t.isBetween(this[0],this[1]))return a=!0,!1}),a)return!1}return!0},j=function(){var e,n=h.find(".datepicker-decades"),o=n.find("th"),s=t({y:r.year()-r.year()%100-1}),l=s.clone().add(100,"y"),c=s.clone(),d=!1,u=!1,p="";for(o.eq(0).find("span").attr("title",i.tooltips.prevCentury),o.eq(2).find("span").attr("title",i.tooltips.nextCentury),n.find(".disabled").removeClass("disabled"),(s.isSame(t({y:1900}))||i.minDate&&i.minDate.isAfter(s,"y"))&&o.eq(0).addClass("disabled"),o.eq(1).text(s.year()+"-"+l.year()),(s.isSame(t({y:2e3}))||i.maxDate&&i.maxDate.isBefore(l,"y"))&&o.eq(2).addClass("disabled");!s.isAfter(l,"y");)e=s.year()+12,d=i.minDate&&i.minDate.isAfter(s,"y")&&i.minDate.year()<=e,u=i.maxDate&&i.maxDate.isAfter(s,"y")&&i.maxDate.year()<=e,p+='<span data-action="selectDecade" class="decade'+(a.isAfter(s)&&a.year()<=e?" active":"")+(q(s,"y")||d||u?"":" disabled")+'" data-selection="'+(s.year()+6)+'">'+(s.year()+1)+" - "+(s.year()+12)+"</span>",s.add(12,"y");p+="<span></span><span></span><span></span>",n.find("td").html(p),o.eq(1).text(c.year()+1+"-"+s.year())},N=function(){var t,n,o,s=h.find(".datepicker-days"),l=s.find("th"),c=[],d=[];if(D()){for(l.eq(0).find("span").attr("title",i.tooltips.prevMonth),l.eq(1).attr("title",i.tooltips.selectMonth),l.eq(2).find("span").attr("title",i.tooltips.nextMonth),s.find(".disabled").removeClass("disabled"),l.eq(1).text(r.format(i.dayViewHeaderFormat)),q(r.clone().subtract(1,"M"),"M")||l.eq(0).addClass("disabled"),q(r.clone().add(1,"M"),"M")||l.eq(2).addClass("disabled"),t=r.clone().startOf("M").startOf("w").startOf("d"),o=0;o<42;o++)0===t.weekday()&&(n=e("<tr>"),i.calendarWeeks&&n.append('<td class="cw">'+t.week()+"</td>"),c.push(n)),d=["day"],t.isBefore(r,"M")&&d.push("old"),t.isAfter(r,"M")&&d.push("new"),t.isSame(a,"d")&&!p&&d.push("active"),q(t,"d")||d.push("disabled"),t.isSame($(),"d")&&d.push("today"),0!==t.day()&&6!==t.day()||d.push("weekend"),A({type:"dp.classify",date:t,classNames:d}),n.append('<td data-action="selectDay" data-day="'+t.format("L")+'" class="'+d.join(" ")+'">'+t.date()+"</td>"),t.add(1,"d");s.find("tbody").empty().append(c),function(){var t=h.find(".datepicker-months"),n=t.find("th"),o=t.find("tbody").find("span");n.eq(0).find("span").attr("title",i.tooltips.prevYear),n.eq(1).attr("title",i.tooltips.selectYear),n.eq(2).find("span").attr("title",i.tooltips.nextYear),t.find(".disabled").removeClass("disabled"),q(r.clone().subtract(1,"y"),"y")||n.eq(0).addClass("disabled"),n.eq(1).text(r.year()),q(r.clone().add(1,"y"),"y")||n.eq(2).addClass("disabled"),o.removeClass("active"),a.isSame(r,"y")&&!p&&o.eq(a.month()).addClass("active"),o.each(function(t){q(r.clone().month(t),"M")||e(this).addClass("disabled")})}(),function(){var e=h.find(".datepicker-years"),t=e.find("th"),n=r.clone().subtract(5,"y"),o=r.clone().add(6,"y"),s="";for(t.eq(0).find("span").attr("title",i.tooltips.prevDecade),t.eq(1).attr("title",i.tooltips.selectDecade),t.eq(2).find("span").attr("title",i.tooltips.nextDecade),e.find(".disabled").removeClass("disabled"),i.minDate&&i.minDate.isAfter(n,"y")&&t.eq(0).addClass("disabled"),t.eq(1).text(n.year()+"-"+o.year()),i.maxDate&&i.maxDate.isBefore(o,"y")&&t.eq(2).addClass("disabled");!n.isAfter(o,"y");)s+='<span data-action="selectYear" class="year'+(n.isSame(a,"y")&&!p?" active":"")+(q(n,"y")?"":" disabled")+'">'+n.year()+"</span>",n.add(1,"y");e.find("td").html(s)}(),j()}},F=function(){var t=h.find(".timepicker-hours table"),n=r.clone().startOf("d"),i=[],a=e("<tr>");for(r.hour()>11&&!s&&n.hour(12);n.isSame(r,"d")&&(s||r.hour()<12&&n.hour()<12||r.hour()>11);)n.hour()%4==0&&(a=e("<tr>"),i.push(a)),a.append('<td data-action="selectHour" class="hour'+(q(n,"h")?"":" disabled")+'">'+n.format(s?"HH":"hh")+"</td>"),n.add(1,"h");t.empty().append(i)},L=function(){for(var t=h.find(".timepicker-minutes table"),n=r.clone().startOf("h"),a=[],o=e("<tr>"),s=1===i.stepping?5:i.stepping;r.isSame(n,"h");)n.minute()%(4*s)==0&&(o=e("<tr>"),a.push(o)),o.append('<td data-action="selectMinute" class="minute'+(q(n,"m")?"":" disabled")+'">'+n.format("mm")+"</td>"),n.add(s,"m");t.empty().append(a)},I=function(){for(var t=h.find(".timepicker-seconds table"),n=r.clone().startOf("m"),i=[],a=e("<tr>");r.isSame(n,"m");)n.second()%20==0&&(a=e("<tr>"),i.push(a)),a.append('<td data-action="selectSecond" class="second'+(q(n,"s")?"":" disabled")+'">'+n.format("ss")+"</td>"),n.add(5,"s");t.empty().append(i)},B=function(){var e,t,n;h&&(N(),n=h.find(".timepicker span[data-time-component]"),s||(e=h.find(".timepicker [data-action=togglePeriod]"),t=a.clone().add(a.hours()>=12?-12:12,"h"),e.text(a.format("A")),q(t,"h")?e.removeClass("disabled"):e.addClass("disabled")),n.filter("[data-time-component=hours]").text(a.format(s?"HH":"hh")),n.filter("[data-time-component=minutes]").text(a.format("mm")),n.filter("[data-time-component=seconds]").text(a.format("ss")),F(),L(),I())},H=function(e,t){var s=p?null:a;if(t=void 0==t||t,!e)return p=!0,o.val(""),n.data("date",""),A({type:"dp.change",date:!1,oldDate:s}),void B();if(e=e.clone().locale(i.locale),k()&&e.tz(i.timeZone),1!==i.stepping)for(e.minutes(Math.round(e.minutes()/i.stepping)*i.stepping).seconds(0);i.minDate&&e.isBefore(i.minDate);)e.add(i.stepping,"minutes");q(e)?(r=(a=e).clone(),o.val(t?a.format(l):""),n.data("date",a.format(l)),p=!1,B(),A({type:"dp.change",date:a.clone(),oldDate:s})):(i.keepInvalid?A({type:"dp.change",date:e,oldDate:s}):o.val(p?"":a.format(l)),A({type:"dp.error",date:e,oldDate:s}))},R=function(){var t=!1;return h?(h.find(".collapse").each(function(){var n=e(this).data("collapse");return!n||!n.transitioning||(t=!0,!1)}),t?u:(_&&_.hasClass("btn")&&_.toggleClass("active"),h.hide(),e(window).off("resize",E),h.off("click","[data-action]"),h.off("mousedown",!1),h.remove(),h=!1,A({type:"dp.hide",date:a.clone()}),o.blur(),r=a.clone(),u)):u},Y=function(){H(null)},z=function(e){return void 0===i.parseInputDate?(!t.isMoment(e)||e instanceof Date)&&(e=$(e)):e=i.parseInputDate(e),e},W={next:function(){var e=m[d].navFnc;r.add(m[d].navStep,e),N(),O(e)},previous:function(){var e=m[d].navFnc;r.subtract(m[d].navStep,e),N(),O(e)},pickerSwitch:function(){P(1)},selectMonth:function(t){var n=e(t.target).closest("tbody").find("span").index(e(t.target));r.month(n),d===f?(H(a.clone().year(r.year()).month(r.month())),i.inline||R()):(P(-1),N()),O("M")},selectYear:function(t){var n=parseInt(e(t.target).text(),10)||0;r.year(n),d===f?(H(a.clone().year(r.year())),i.inline||R()):(P(-1),N()),O("YYYY")},selectDecade:function(t){var n=parseInt(e(t.target).data("selection"),10)||0;r.year(n),d===f?(H(a.clone().year(r.year())),i.inline||R()):(P(-1),N()),O("YYYY")},selectDay:function(t){var n=r.clone();e(t.target).is(".old")&&n.subtract(1,"M"),e(t.target).is(".new")&&n.add(1,"M"),H(n.date(parseInt(e(t.target).text(),10))),T()||i.keepOpen||i.inline||R()},incrementHours:function(){var e=a.clone().add(1,"h");q(e,"h")&&H(e)},incrementMinutes:function(){var e=a.clone().add(i.stepping,"m");q(e,"m")&&H(e)},incrementSeconds:function(){var e=a.clone().add(1,"s");q(e,"s")&&H(e)},decrementHours:function(){var e=a.clone().subtract(1,"h");q(e,"h")&&H(e)},decrementMinutes:function(){var e=a.clone().subtract(i.stepping,"m");q(e,"m")&&H(e)},decrementSeconds:function(){var e=a.clone().subtract(1,"s");q(e,"s")&&H(e)},togglePeriod:function(){H(a.clone().add(a.hours()>=12?-12:12,"h"))},togglePicker:function(t){var n,a=e(t.target),r=a.closest("ul"),o=r.find(".in"),s=r.find(".collapse:not(.in)");if(o&&o.length){if((n=o.data("collapse"))&&n.transitioning)return;o.collapse?(o.collapse("hide"),s.collapse("show")):(o.removeClass("in"),s.addClass("in")),a.is("span")?a.toggleClass(i.icons.time+" "+i.icons.date):a.find("span").toggleClass(i.icons.time+" "+i.icons.date)}},showPicker:function(){h.find(".timepicker > div:not(.timepicker-picker)").hide(),h.find(".timepicker .timepicker-picker").show()},showHours:function(){h.find(".timepicker .timepicker-picker").hide(),h.find(".timepicker .timepicker-hours").show()},showMinutes:function(){h.find(".timepicker .timepicker-picker").hide(),h.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){h.find(".timepicker .timepicker-picker").hide(),h.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var n=parseInt(e(t.target).text(),10);s||(a.hours()>=12?12!==n&&(n+=12):12===n&&(n=0)),H(a.clone().hours(n)),W.showPicker.call(u)},selectMinute:function(t){H(a.clone().minutes(parseInt(e(t.target).text(),10))),W.showPicker.call(u)},selectSecond:function(t){H(a.clone().seconds(parseInt(e(t.target).text(),10))),W.showPicker.call(u)},clear:Y,today:function(){var e=$();q(e,"d")&&H(e)},close:R},U=function(t){return!e(t.currentTarget).is(".disabled")&&(W[e(t.currentTarget).data("action")].apply(u,arguments),!1)},V=function(){var t;return o.prop("disabled")||!i.ignoreReadonly&&o.prop("readonly")||h?u:(void 0!==o.val()&&0!==o.val().trim().length?H(z(o.val().trim())):p&&i.useCurrent&&(i.inline||o.is("input")&&0===o.val().trim().length)&&(t=$(),"string"==typeof i.useCurrent&&(t={year:function(e){return e.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(e){return e.date(1).hours(0).seconds(0).minutes(0)},day:function(e){return e.hours(0).seconds(0).minutes(0)},hour:function(e){return e.seconds(0).minutes(0)},minute:function(e){return e.seconds(0)}}[i.useCurrent](t)),"1"==o.attr("data-nearest_select")?H(t,!1):H(t)),h=M(),function(){var t=e("<tr>"),n=r.clone().startOf("w").startOf("d");for(!0===i.calendarWeeks&&t.append(e("<th>").addClass("cw").text("#"));n.isBefore(r.clone().endOf("w"));)t.append(e("<th>").addClass("dow").text(n.format("dd"))),n.add(1,"d");h.find(".datepicker-days thead").append(t)}(),function(){for(var t=[],n=r.clone().startOf("y").startOf("d");n.isSame(r,"y");)t.push(e("<span>").attr("data-action","selectMonth").addClass("month").text(n.format("MMM"))),n.add(1,"M");h.find(".datepicker-months td").empty().append(t)}(),h.find(".timepicker-hours").hide(),h.find(".timepicker-minutes").hide(),h.find(".timepicker-seconds").hide(),B(),P(),e(window).on("resize",E),h.on("click","[data-action]",U),h.on("mousedown",!1),_&&_.hasClass("btn")&&_.toggleClass("active"),E(),h.show(),i.focusOnShow&&!o.is(":focus")&&o.focus(),A({type:"dp.show"}),u)},G=function(){return h?R():V()},J=function(e){var t,n,a,r,o=null,s=[],l={},c=e.which;for(t in x[c]="p",x)x.hasOwnProperty(t)&&"p"===x[t]&&(s.push(t),parseInt(t,10)!==c&&(l[t]=!0));for(t in i.keyBinds)if(i.keyBinds.hasOwnProperty(t)&&"function"==typeof i.keyBinds[t]&&((a=t.split(" ")).length===s.length&&w[c]===a[a.length-1])){for(r=!0,n=a.length-2;n>=0;n--)if(!(w[a[n]]in l)){r=!1;break}if(r){o=i.keyBinds[t];break}}o&&(o.call(u,h),e.stopPropagation(),e.preventDefault())},X=function(e){x[e.which]="r",e.stopPropagation(),e.preventDefault()},K=function(t){var n=e(t.target).val().trim(),i=n?z(n):null;return H(i),t.stopImmediatePropagation(),!1},Z=function(t){var n={};return e.each(t,function(){var e=z(this);e.isValid()&&(n[e.format("YYYY-MM-DD")]=!0)}),!!Object.keys(n).length&&n},Q=function(t){var n={};return e.each(t,function(){n[this]=!0}),!!Object.keys(n).length&&n},ee=function(){var e=i.format||"L LT";l=e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return(a.localeData().longDateFormat(e)||e).replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return a.localeData().longDateFormat(e)||e})}),(c=i.extraFormats?i.extraFormats.slice():[]).indexOf(e)<0&&c.indexOf(l)<0&&c.push(l),s=l.toLowerCase().indexOf("a")<1&&l.replace(/\[.*?\]/g,"").indexOf("h")<1,C("y")&&(f=2),C("M")&&(f=1),C("d")&&(f=0),d=Math.max(f,d),p||H(a)};if(u.destroy=function(){R(),o.off({change:K,blur:blur,keydown:J,keyup:X,focus:i.allowInputToggle?R:""}),n.is("input")?o.off({focus:V}):_&&(_.off("click",G),_.off("mousedown",!1)),n.removeData("DateTimePicker"),n.removeData("date")},u.toggle=G,u.show=V,u.hide=R,u.disable=function(){return R(),_&&_.hasClass("btn")&&_.addClass("disabled"),o.prop("disabled",!0),u},u.enable=function(){return _&&_.hasClass("btn")&&_.removeClass("disabled"),o.prop("disabled",!1),u},u.ignoreReadonly=function(e){if(0===arguments.length)return i.ignoreReadonly;if("boolean"!=typeof e)throw new TypeError("ignoreReadonly () expects a boolean parameter");return i.ignoreReadonly=e,u},u.options=function(t){if(0===arguments.length)return e.extend(!0,{},i);if(!(t instanceof Object))throw new TypeError("options() options parameter should be an object");return e.extend(!0,i,t),e.each(i,function(e,t){if(void 0===u[e])throw new TypeError("option "+e+" is not recognized!");u[e](t)}),u},u.date=function(e){if(0===arguments.length)return p?null:a.clone();if(!(null===e||"string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return H(null===e?null:z(e)),u},u.format=function(e){if(0===arguments.length)return i.format;if("string"!=typeof e&&("boolean"!=typeof e||!1!==e))throw new TypeError("format() expects a string or boolean:false parameter "+e);return i.format=e,l&&ee(),u},u.timeZone=function(e){if(0===arguments.length)return i.timeZone;if("string"!=typeof e)throw new TypeError("newZone() expects a string parameter");return i.timeZone=e,u},u.dayViewHeaderFormat=function(e){if(0===arguments.length)return i.dayViewHeaderFormat;if("string"!=typeof e)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return i.dayViewHeaderFormat=e,u},u.extraFormats=function(e){if(0===arguments.length)return i.extraFormats;if(!1!==e&&!(e instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return i.extraFormats=e,c&&ee(),u},u.disabledDates=function(t){if(0===arguments.length)return i.disabledDates?e.extend({},i.disabledDates):i.disabledDates;if(!t)return i.disabledDates=!1,B(),u;if(!(t instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return i.disabledDates=Z(t),i.enabledDates=!1,B(),u},u.enabledDates=function(t){if(0===arguments.length)return i.enabledDates?e.extend({},i.enabledDates):i.enabledDates;if(!t)return i.enabledDates=!1,B(),u;if(!(t instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return i.enabledDates=Z(t),i.disabledDates=!1,B(),u},u.daysOfWeekDisabled=function(e){if(0===arguments.length)return i.daysOfWeekDisabled.splice(0);if("boolean"==typeof e&&!e)return i.daysOfWeekDisabled=!1,B(),u;if(!(e instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(i.daysOfWeekDisabled=e.reduce(function(e,t){return(t=parseInt(t,10))>6||t<0||isNaN(t)?e:(-1===e.indexOf(t)&&e.push(t),e)},[]).sort(),i.useCurrent&&!i.keepInvalid){for(var t=0;!q(a,"d")&&(a.add(1,"d"),180!==t);)t++;t<=179&&H(a)}return B(),u},u.maxDate=function(e){if(0===arguments.length)return i.maxDate?i.maxDate.clone():i.maxDate;if("boolean"==typeof e&&!1===e)return i.maxDate=!1,B(),u;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=$()));var t=z(e);if(!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+e);if(i.minDate&&t.isBefore(i.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+t.format(l));return i.maxDate=t,i.useCurrent&&!i.keepInvalid&&a.isAfter(e)&&H(i.maxDate),r.isAfter(t)&&(r=t.clone().subtract(i.stepping,"m")),B(),u},u.minDate=function(e){if(0===arguments.length)return i.minDate?i.minDate.clone():i.minDate;if("boolean"==typeof e&&!1===e)return i.minDate=!1,B(),u;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=$()));var t=z(e);if(!t.isValid())throw new TypeError("minDate() Could not parse date parameter: "+e);if(i.maxDate&&t.isAfter(i.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+t.format(l));return i.minDate=t,i.useCurrent&&!i.keepInvalid&&a.isBefore(e)&&H(i.minDate),r.isBefore(t)&&(r=t.clone().add(i.stepping,"m")),B(),u},u.defaultDate=function(e){if(0===arguments.length)return i.defaultDate?i.defaultDate.clone():i.defaultDate;if(!e)return i.defaultDate=!1,u;"string"==typeof e&&(e="now"===e||"moment"===e?$():$(e));var t=z(e);if(!t.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+e);if(!q(t))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return i.defaultDate=t,(i.defaultDate&&i.inline||""===o.val().trim())&&H(i.defaultDate),u},u.locale=function(e){if(0===arguments.length)return i.locale;if(!t.localeData(e))throw new TypeError("locale() locale "+e+" is not loaded from moment locales!");return i.locale=e,a.locale(i.locale),r.locale(i.locale),l&&ee(),h&&(R(),V()),u},u.stepping=function(e){return 0===arguments.length?i.stepping:(e=parseInt(e,10),(isNaN(e)||e<1)&&(e=1),i.stepping=e,u)},u.useCurrent=function(e){var t=["year","month","day","hour","minute"];if(0===arguments.length)return i.useCurrent;if("boolean"!=typeof e&&"string"!=typeof e)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof e&&-1===t.indexOf(e.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));return i.useCurrent=e,u},u.collapse=function(e){if(0===arguments.length)return i.collapse;if("boolean"!=typeof e)throw new TypeError("collapse() expects a boolean parameter");return i.collapse===e?u:(i.collapse=e,h&&(R(),V()),u)},u.icons=function(t){if(0===arguments.length)return e.extend({},i.icons);if(!(t instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return e.extend(i.icons,t),h&&(R(),V()),u},u.tooltips=function(t){if(0===arguments.length)return e.extend({},i.tooltips);if(!(t instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return e.extend(i.tooltips,t),h&&(R(),V()),u},u.useStrict=function(e){if(0===arguments.length)return i.useStrict;if("boolean"!=typeof e)throw new TypeError("useStrict() expects a boolean parameter");return i.useStrict=e,u},u.sideBySide=function(e){if(0===arguments.length)return i.sideBySide;if("boolean"!=typeof e)throw new TypeError("sideBySide() expects a boolean parameter");return i.sideBySide=e,h&&(R(),V()),u},u.viewMode=function(e){if(0===arguments.length)return i.viewMode;if("string"!=typeof e)throw new TypeError("viewMode() expects a string parameter");if(-1===g.indexOf(e))throw new TypeError("viewMode() parameter must be one of ("+g.join(", ")+") value");return i.viewMode=e,d=Math.max(g.indexOf(e),f),P(),u},u.toolbarPlacement=function(e){if(0===arguments.length)return i.toolbarPlacement;if("string"!=typeof e)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===b.indexOf(e))throw new TypeError("toolbarPlacement() parameter must be one of ("+b.join(", ")+") value");return i.toolbarPlacement=e,h&&(R(),V()),u},u.widgetPositioning=function(t){if(0===arguments.length)return e.extend({},i.widgetPositioning);if("[object Object]"!=={}.toString.call(t))throw new TypeError("widgetPositioning() expects an object variable");if(t.horizontal){if("string"!=typeof t.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(t.horizontal=t.horizontal.toLowerCase(),-1===y.indexOf(t.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+y.join(", ")+")");i.widgetPositioning.horizontal=t.horizontal}if(t.vertical){if("string"!=typeof t.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(t.vertical=t.vertical.toLowerCase(),-1===v.indexOf(t.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+v.join(", ")+")");i.widgetPositioning.vertical=t.vertical}return B(),u},u.calendarWeeks=function(e){if(0===arguments.length)return i.calendarWeeks;if("boolean"!=typeof e)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return i.calendarWeeks=e,B(),u},u.showTodayButton=function(e){if(0===arguments.length)return i.showTodayButton;if("boolean"!=typeof e)throw new TypeError("showTodayButton() expects a boolean parameter");return i.showTodayButton=e,h&&(R(),V()),u},u.showClear=function(e){if(0===arguments.length)return i.showClear;if("boolean"!=typeof e)throw new TypeError("showClear() expects a boolean parameter");return i.showClear=e,h&&(R(),V()),u},u.widgetParent=function(t){if(0===arguments.length)return i.widgetParent;if("string"==typeof t&&(t=e(t)),null!==t&&"string"!=typeof t&&!(t instanceof e))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return i.widgetParent=t,h&&(R(),V()),u},u.keepOpen=function(e){if(0===arguments.length)return i.keepOpen;if("boolean"!=typeof e)throw new TypeError("keepOpen() expects a boolean parameter");return i.keepOpen=e,u},u.focusOnShow=function(e){if(0===arguments.length)return i.focusOnShow;if("boolean"!=typeof e)throw new TypeError("focusOnShow() expects a boolean parameter");return i.focusOnShow=e,u},u.inline=function(e){if(0===arguments.length)return i.inline;if("boolean"!=typeof e)throw new TypeError("inline() expects a boolean parameter");return i.inline=e,u},u.clear=function(){return Y(),u},u.keyBinds=function(e){return 0===arguments.length?i.keyBinds:(i.keyBinds=e,u)},u.getMoment=function(e){return $(e)},u.debug=function(e){if("boolean"!=typeof e)throw new TypeError("debug() expects a boolean parameter");return i.debug=e,u},u.allowInputToggle=function(e){if(0===arguments.length)return i.allowInputToggle;if("boolean"!=typeof e)throw new TypeError("allowInputToggle() expects a boolean parameter");return i.allowInputToggle=e,u},u.showClose=function(e){if(0===arguments.length)return i.showClose;if("boolean"!=typeof e)throw new TypeError("showClose() expects a boolean parameter");return i.showClose=e,u},u.keepInvalid=function(e){if(0===arguments.length)return i.keepInvalid;if("boolean"!=typeof e)throw new TypeError("keepInvalid() expects a boolean parameter");return i.keepInvalid=e,u},u.datepickerInput=function(e){if(0===arguments.length)return i.datepickerInput;if("string"!=typeof e)throw new TypeError("datepickerInput() expects a string parameter");return i.datepickerInput=e,u},u.parseInputDate=function(e){if(0===arguments.length)return i.parseInputDate;if("function"!=typeof e)throw new TypeError("parseInputDate() sholud be as function");return i.parseInputDate=e,u},u.disabledTimeIntervals=function(t){if(0===arguments.length)return i.disabledTimeIntervals?e.extend({},i.disabledTimeIntervals):i.disabledTimeIntervals;if(!t)return i.disabledTimeIntervals=!1,B(),u;if(!(t instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return i.disabledTimeIntervals=t,B(),u},u.disabledHours=function(t){if(0===arguments.length)return i.disabledHours?e.extend({},i.disabledHours):i.disabledHours;if(!t)return i.disabledHours=!1,B(),u;if(!(t instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(i.disabledHours=Q(t),i.enabledHours=!1,i.useCurrent&&!i.keepInvalid){for(var n=0;!q(a,"h");){if(a.add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}H(a)}return B(),u},u.enabledHours=function(t){if(0===arguments.length)return i.enabledHours?e.extend({},i.enabledHours):i.enabledHours;if(!t)return i.enabledHours=!1,B(),u;if(!(t instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(i.enabledHours=Q(t),i.disabledHours=!1,i.useCurrent&&!i.keepInvalid){for(var n=0;!q(a,"h");){if(a.add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}H(a)}return B(),u},u.viewDate=function(e){if(0===arguments.length)return r.clone();if(!e)return r=a.clone(),u;if(!("string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return r=z(e),O(),u},n.is("input"))o=n;else if(0===(o=n.find(i.datepickerInput)).length)o=n.find("input");else if(!o.is("input"))throw new Error('CSS class "'+i.datepickerInput+'" cannot be applied to non input element');if(n.hasClass("input-group")&&(_=0===n.find(".datepickerbutton").length?n.find(".input-group-addon"):n.find(".datepickerbutton")),!i.inline&&!o.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return a=$(),r=a.clone(),e.extend(!0,i,function(){var t,a={};return(t=n.is("input")||i.inline?n.data():n.find("input").data()).dateOptions&&t.dateOptions instanceof Object&&(a=e.extend(!0,a,t.dateOptions)),e.each(i,function(e){var n="date"+e.charAt(0).toUpperCase()+e.slice(1);void 0!==t[n]&&(a[e]=t[n])}),a}()),u.options(i),ee(),o.on({change:K,blur:i.debug?"":R,keydown:J,keyup:X,focus:i.allowInputToggle?V:""}),n.is("input")?o.on({focus:V}):_&&(_.on("click",G),_.on("mousedown",!1)),o.prop("disabled")&&u.disable(),o.is("input")&&0!==o.val().trim().length?H(z(o.val().trim())):i.defaultDate&&void 0===o.attr("placeholder")&&H(i.defaultDate),i.inline&&V(),u};return e.fn.datetimepicker=function(t){t=t||{};var i,a=Array.prototype.slice.call(arguments,1),r=!0;if("object"==typeof t)return this.each(function(){var i,a=e(this);a.data("DateTimePicker")||(i=e.extend(!0,{},e.fn.datetimepicker.defaults,t),a.data("DateTimePicker",n(a,i)))});if("string"==typeof t)return this.each(function(){var n=e(this).data("DateTimePicker");if(!n)throw new Error('bootstrap-datetimepicker("'+t+'") method was called on an element that is not using DateTimePicker');i=n[t].apply(n,a),r=i===n}),r||e.inArray(t,["destroy","hide","show","toggle"])>-1?this:i;throw new TypeError("Invalid arguments for DateTimePicker: "+t)},e.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:t.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(7,"d")):this.date(t.clone().add(this.stepping(),"m"))}},down:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(7,"d")):this.date(t.clone().subtract(this.stepping(),"m"))}else this.show()},"control up":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h"))}},"control down":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(1,"y")):this.date(t.clone().subtract(1,"h"))}},left:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d"))}},right:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"d"))}},pageUp:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M"))}},pageDown:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(e){e&&e.find(".timepicker").is(":visible")&&e.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},delete:function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1},e.fn.datetimepicker}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t=function(){if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd)var t=e.fn.select2.amd;return function(){var e,n,i;t&&t.requirejs||(t?n=t:t={},function(t){function a(e,t){return v.call(e,t)}function r(e,t){var n,i,a,r,o,s,l,c,d,u,p,_=t&&t.split("/"),h=m.map,f=h&&h["*"]||{};if(e&&"."===e.charAt(0))if(t){for(o=(e=e.split("/")).length-1,m.nodeIdCompat&&b.test(e[o])&&(e[o]=e[o].replace(b,"")),e=_.slice(0,_.length-1).concat(e),d=0;d<e.length;d+=1)if("."===(p=e[d]))e.splice(d,1),d-=1;else if(".."===p){if(1===d&&(".."===e[2]||".."===e[0]))break;d>0&&(e.splice(d-1,2),d-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((_||f)&&h){for(d=(n=e.split("/")).length;d>0;d-=1){if(i=n.slice(0,d).join("/"),_)for(u=_.length;u>0;u-=1)if((a=h[_.slice(0,u).join("/")])&&(a=a[i])){r=a,s=d;break}if(r)break;!l&&f&&f[i]&&(l=f[i],c=d)}!r&&l&&(r=l,s=c),r&&(n.splice(0,s,r),e=n.join("/"))}return e}function o(e,n){return function(){var i=y.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),u.apply(t,i.concat([e,n]))}}function s(e){return function(t){h[e]=t}}function l(e){if(a(f,e)){var n=f[e];delete f[e],g[e]=!0,d.apply(t,n)}if(!a(h,e)&&!a(g,e))throw new Error("No "+e);return h[e]}function c(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}var d,u,p,_,h={},f={},m={},g={},v=Object.prototype.hasOwnProperty,y=[].slice,b=/\.js$/;p=function(e,t){var n,i=c(e),a=i[0];return e=i[1],a&&(n=l(a=r(a,t))),a?e=n&&n.normalize?n.normalize(e,function(e){return function(t){return r(t,e)}}(t)):r(e,t):(a=(i=c(e=r(e,t)))[0],e=i[1],a&&(n=l(a))),{f:a?a+"!"+e:e,n:e,pr:a,p:n}},_={require:function(e){return o(e)},exports:function(e){var t=h[e];return void 0!==t?t:h[e]={}},module:function(e){return{id:e,uri:"",exports:h[e],config:function(e){return function(){return m&&m.config&&m.config[e]||{}}}(e)}}},d=function(e,n,i,r){var c,d,u,m,v,y,b=[],w=typeof i;if(r=r||e,"undefined"===w||"function"===w){for(n=!n.length&&i.length?["require","exports","module"]:n,v=0;v<n.length;v+=1)if("require"===(d=(m=p(n[v],r)).f))b[v]=_.require(e);else if("exports"===d)b[v]=_.exports(e),y=!0;else if("module"===d)c=b[v]=_.module(e);else if(a(h,d)||a(f,d)||a(g,d))b[v]=l(d);else{if(!m.p)throw new Error(e+" missing "+d);m.p.load(m.n,o(r,!0),s(d),{}),b[v]=h[d]}u=i?i.apply(h[e],b):void 0,e&&(c&&c.exports!==t&&c.exports!==h[e]?h[e]=c.exports:u===t&&y||(h[e]=u))}else e&&(h[e]=i)},e=n=u=function(e,n,i,a,r){if("string"==typeof e)return _[e]?_[e](n):l(p(e,n).f);if(!e.splice){if((m=e).deps&&u(m.deps,m.callback),!n)return;n.splice?(e=n,n=i,i=null):e=t}return n=n||function(){},"function"==typeof i&&(i=a,a=r),a?d(t,e,n,i):setTimeout(function(){d(t,e,n,i)},4),u},u.config=function(e){return u(e)},e._defined=h,(i=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),a(h,e)||a(f,e)||(f[e]=[e,t,n])}).amd={jQuery:!0}}(),t.requirejs=e,t.require=n,t.define=i)}(),t.define("almond",function(){}),t.define("jquery",[],function(){var t=e||$;return null==t&&console&&console.error,t}),t.define("select2/utils",["jquery"],function(e){function t(e){var t=e.prototype,n=[];for(var i in t){"function"==typeof t[i]&&"constructor"!==i&&n.push(i)}return n}var n={Extend:function(e,t){function n(){this.constructor=e}var i={}.hasOwnProperty;for(var a in t)i.call(t,a)&&(e[a]=t[a]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},Decorate:function(e,n){function i(){var t=Array.prototype.unshift,i=n.prototype.constructor.length,a=e.prototype.constructor;i>0&&(t.call(arguments,e.prototype.constructor),a=n.prototype.constructor),a.apply(this,arguments)}var a=t(n),r=t(e);n.displayName=e.displayName,i.prototype=new function(){this.constructor=i};for(var o=0;o<r.length;o++){var s=r[o];i.prototype[s]=e.prototype[s]}for(var l=function(e){var t=function(){};e in i.prototype&&(t=i.prototype[e]);var a=n.prototype[e];return function(){return Array.prototype.unshift.call(arguments,t),a.apply(this,arguments)}},c=0;c<a.length;c++){var d=a[c];i.prototype[d]=l(d)}return i}},i=function(){this.listeners={}};return i.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},i.prototype.trigger=function(e){var t=Array.prototype.slice;this.listeners=this.listeners||{},e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(e,t){for(var n=0,i=e.length;i>n;n++)e[n].apply(this,t)},n.Observable=i,n.generateChars=function(e){for(var t="",n=0;e>n;n++){t+=Math.floor(36*Math.random()).toString(36)}return t},n.bind=function(e,t){return function(){e.apply(t,arguments)}},n._convertData=function(e){for(var t in e){var n=t.split("-"),i=e;if(1!==n.length){for(var a=0;a<n.length;a++){var r=n[a];(r=r.substring(0,1).toLowerCase()+r.substring(1))in i||(i[r]={}),a==n.length-1&&(i[r]=e[t]),i=i[r]}delete e[t]}}return e},n.hasScroll=function(t,n){var i=e(n),a=n.style.overflowX,r=n.style.overflowY;return(a!==r||"hidden"!==r&&"visible"!==r)&&("scroll"===a||"scroll"===r||i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth)},n.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},n.appendMany=function(t,n){if("1.7"===e.fn.jquery.substr(0,3)){var i=e();e.map(n,function(e){i=i.add(e)}),n=i}t.append(n)},n}),t.define("select2/results",["jquery","./utils"],function(e,t){function n(e,t,i){this.$element=e,this.data=i,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(t){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=e('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),a=this.options.get("translations").get(t.message);i.append(n(a(t.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var i=e.results[n],a=this.option(i);t.push(a)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(e,t){t.find(".select2-results").append(e)},n.prototype.sort=function(e){return this.options.get("sorter")(e)},n.prototype.setClasses=function(){var t=this;this.data.current(function(n){var i=e.map(n,function(e){return e.id.toString()}),a=t.$results.find(".select2-results__option[aria-selected]");a.each(function(){var t=e(this),n=e.data(this,"data"),a=""+n.id;null!=n.element&&n.element.selected||null==n.element&&e.inArray(a,i)>-1?t.attr("aria-selected","true"):t.attr("aria-selected","false")});var r=a.filter("[aria-selected=true]");r.length>0?r.first().trigger("mouseenter"):a.first().trigger("mouseenter")})},n.prototype.showLoading=function(e){this.hideLoading();var t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(e)},n=this.option(t);n.className+=" loading-results",this.$results.prepend(n)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(t){var n=document.createElement("li");n.className="select2-results__option";var i={role:"treeitem","aria-selected":"false"};for(var a in t.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==t.id&&delete i["aria-selected"],null!=t._resultId&&(n.id=t._resultId),t.title&&(n.title=t.title),t.children&&(i.role="group",i["aria-label"]=t.text,delete i["aria-selected"]),i){var r=i[a];n.setAttribute(a,r)}if(t.children){var o=e(n),s=document.createElement("strong");s.className="select2-results__group",e(s),this.template(t,s);for(var l=[],c=0;c<t.children.length;c++){var d=t.children[c],u=this.option(d);l.push(u)}var p=e("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});p.append(l),o.append(s),o.append(p)}else this.template(t,n);return e.data(n,"data",t),n},n.prototype.bind=function(t,n){var i=this,a=t.id+"-results";this.$results.attr("id",a),t.on("results:all",function(e){i.clear(),i.append(e.data),t.isOpen()&&i.setClasses()}),t.on("results:append",function(e){i.append(e.data),t.isOpen()&&i.setClasses()}),t.on("query",function(e){i.hideMessages(),i.showLoading(e)}),t.on("select",function(){t.isOpen()&&i.setClasses()}),t.on("unselect",function(){t.isOpen()&&i.setClasses()}),t.on("open",function(){i.$results.attr("aria-expanded","true"),i.$results.attr("aria-hidden","false"),i.setClasses(),i.ensureHighlightVisible()}),t.on("close",function(){i.$results.attr("aria-expanded","false"),i.$results.attr("aria-hidden","true"),i.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=i.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),t.on("results:select",function(){var e=i.getHighlightedResults();if(0!==e.length){var t=e.data("data");"true"==e.attr("aria-selected")?i.trigger("close",{}):i.trigger("select",{data:t})}}),t.on("results:previous",function(){var e=i.getHighlightedResults(),t=i.$results.find("[aria-selected]"),n=t.index(e);if(0!==n){var a=n-1;0===e.length&&(a=0);var r=t.eq(a);r.trigger("mouseenter");var o=i.$results.offset().top,s=r.offset().top,l=i.$results.scrollTop()+(s-o);0===a?i.$results.scrollTop(0):0>s-o&&i.$results.scrollTop(l)}}),t.on("results:next",function(){var e=i.getHighlightedResults(),t=i.$results.find("[aria-selected]"),n=t.index(e)+1;if(!(n>=t.length)){var a=t.eq(n);a.trigger("mouseenter");var r=i.$results.offset().top+i.$results.outerHeight(!1),o=a.offset().top+a.outerHeight(!1),s=i.$results.scrollTop()+o-r;0===n?i.$results.scrollTop(0):o>r&&i.$results.scrollTop(s)}}),t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),t.on("results:message",function(e){i.displayMessage(e)}),e.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=i.$results.scrollTop(),n=i.$results.get(0).scrollHeight-t+e.deltaY,a=e.deltaY>0&&t-e.deltaY<=0,r=e.deltaY<0&&n<=i.$results.height();a?(i.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):r&&(i.$results.scrollTop(i.$results.get(0).scrollHeight-i.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var n=e(this),a=n.data("data");return"true"===n.attr("aria-selected")?void(i.options.get("multiple")?i.trigger("unselect",{originalEvent:t,data:a}):i.trigger("close",{})):void i.trigger("select",{originalEvent:t,data:a})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(t){var n=e(this).data("data");i.getHighlightedResults().removeClass("select2-results__option--highlighted"),i.trigger("results:focus",{data:n,element:e(this)})})},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]").index(e),n=this.$results.offset().top,i=e.offset().top,a=this.$results.scrollTop()+(i-n),r=i-n;a-=2*e.outerHeight(!1),2>=t?this.$results.scrollTop(0):(r>this.$results.outerHeight()||0>r)&&this.$results.scrollTop(a)}},n.prototype.template=function(t,n){var i=this.options.get("templateResult"),a=this.options.get("escapeMarkup"),r=i(t,n);null==r?n.style.display="none":"string"==typeof r?n.innerHTML=a(r):e(n).append(r)},n}),t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(e,t,n){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=e('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t,t},i.prototype.bind=function(e,t){var i=this,a=(e.id,e.id+"-results");this.container=e,this.$selection.on("focus",function(e){i.trigger("focus",e)}),this.$selection.on("blur",function(e){i._handleBlur(e)}),this.$selection.on("keydown",function(e){i.trigger("keypress",e),e.which===n.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){i.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){i.update(e.data)}),e.on("open",function(){i.$selection.attr("aria-expanded","true"),i.$selection.attr("aria-owns",a),i._attachCloseHandler(e)}),e.on("close",function(){i.$selection.attr("aria-expanded","false"),i.$selection.removeAttr("aria-activedescendant"),i.$selection.removeAttr("aria-owns"),i.$selection.focus(),i._detachCloseHandler(e)}),e.on("enable",function(){i.$selection.attr("tabindex",i._tabindex)}),e.on("disable",function(){i.$selection.attr("tabindex","-1")})},i.prototype._handleBlur=function(t){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||e.contains(n.$selection[0],document.activeElement)||n.trigger("blur",t)},1)},i.prototype._attachCloseHandler=function(t){e(document.body).on("mousedown.select2."+t.id,function(t){var n=e(t.target).closest(".select2");e(".select2.select2-container--open").each(function(){var t=e(this);this!=n[0]&&t.data("element").select2("close")})})},i.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},i.prototype.position=function(e,t){t.find(".selection").append(e)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},i}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,n,i){function a(){a.__super__.constructor.apply(this,arguments)}return n.Extend(a,t),a.prototype.render=function(){var e=a.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},a.prototype.bind=function(e,t){var n=this;a.__super__.bind.apply(this,arguments);var i=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(e){1===e.which&&n.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),e.on("selection:update",function(e){n.update(e.data)})},a.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},a.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},a.prototype.selectionContainer=function(){return e("<span></span>")},a.prototype.update=function(e){if(0!==e.length){var t=e[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(t,n);n.empty().append(i),n.prop("title",t.title||t.text)}else this.clear()},a}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(e,t,n){function i(e,t){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,t),i.prototype.render=function(){var e=i.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},i.prototype.bind=function(t,n){var a=this;i.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){a.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){if(!a.options.get("disabled")){var n=e(this).parent().data("data");a.trigger("unselect",{originalEvent:t,data:n})}})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},i.prototype.selectionContainer=function(){return e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},i.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],i=0;i<e.length;i++){var a=e[i],r=this.selectionContainer(),o=this.display(a,r);r.append(o),r.prop("title",a.title||a.text),r.data("data",a),t.push(r)}var s=this.$selection.find(".select2-selection__rendered");n.appendMany(s,t)}},i}),t.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id;if(t.length>1||n)return e.call(this,t);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},t}),t.define("select2/selection/allowClear",["jquery","../keys"],function(e,t){function n(){}return n.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error,this.$selection.on("mousedown",".select2-selection__clear",function(e){i._handleClear(e)}),t.on("keypress",function(e){i._handleKeyboardClear(e,t)})},n.prototype._handleClear=function(e,t){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){t.stopPropagation();for(var i=n.data("data"),a=0;a<i.length;a++){var r={data:i[a]};if(this.trigger("unselect",r),r.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},n.prototype._handleKeyboardClear=function(e,n,i){i.isOpen()||(n.which==t.DELETE||n.which==t.BACKSPACE)&&this._handleClear(n)},n.prototype.update=function(t,n){if(t.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var i=e('<span class="select2-selection__clear">&times;</span>');i.data("data",n),this.$selection.find(".select2-selection__rendered").prepend(i)}},n}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(e,t,n){function i(e,t,n){e.call(this,t,n)}return i.prototype.render=function(t){var n=e('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var i=t.call(this);return this._transferTabIndex(),i},i.prototype.bind=function(e,t,i){var a=this;e.call(this,t,i),t.on("open",function(){a.$search.trigger("focus")}),t.on("close",function(){a.$search.val(""),a.$search.removeAttr("aria-activedescendant"),a.$search.trigger("focus")}),t.on("enable",function(){a.$search.prop("disabled",!1),a._transferTabIndex()}),t.on("disable",function(){a.$search.prop("disabled",!0)}),t.on("focus",function(e){a.$search.trigger("focus")}),t.on("results:focus",function(e){a.$search.attr("aria-activedescendant",e.id)}),this.$selection.on("focusin",".select2-search--inline",function(e){a.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){a._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){if(e.stopPropagation(),a.trigger("keypress",e),a._keyUpPrevented=e.isDefaultPrevented(),e.which===n.BACKSPACE&&""===a.$search.val()){var t=a.$searchContainer.prev(".select2-selection__choice");if(t.length>0){var i=t.data("data");a.searchRemoveChoice(i),e.preventDefault()}}});var r=document.documentMode,o=r&&11>=r;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){return o?void a.$selection.off("input.search input.searchcheck"):void a.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(o&&"input"===e.type)a.$selection.off("input.search input.searchcheck");else{var t=e.which;t!=n.SHIFT&&t!=n.CTRL&&t!=n.ALT&&t!=n.TAB&&a.handleSearch(e)}})},i.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},i.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";""!==this.$search.attr("placeholder")?e=this.$selection.find(".select2-selection__rendered").innerWidth():e=.75*(this.$search.val().length+1)+"em";this.$search.css("width",e)},i}),t.define("select2/selection/eventRelay",["jquery"],function(e){function t(){}return t.prototype.bind=function(t,n,i){var a=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting"],o=["opening","closing","selecting","unselecting"];t.call(this,n,i),n.on("*",function(t,n){if(-1!==e.inArray(t,r)){n=n||{};var i=e.Event("select2:"+t,{params:n});a.$element.trigger(i),-1!==e.inArray(t,o)&&(n.prevented=i.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(e,t){function n(e){this.dict=e||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(e){return this.dict[e]},n.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},n._cache={},n.loadPath=function(e){if(!(e in n._cache)){var i=t(e);n._cache[e]=i}return new n(n._cache[e])},n}),t.define("select2/diacritics",[],function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"}}),t.define("select2/data/base",["../utils"],function(e){function t(e,n){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(e,t){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,n){var i=t.id+"-result-";return(i+=e.generateChars(4))+(null!=n.id?"-"+n.id.toString():"-"+e.generateChars(4))},t}),t.define("select2/data/select",["./base","../utils","jquery"],function(e,t,n){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,e),i.prototype.current=function(e){var t=[],i=this;this.$element.find(":selected").each(function(){var e=n(this),a=i.item(e);t.push(a)}),e(t)},i.prototype.select=function(e){var t=this;if(e.selected=!0,n(e.element).is("option"))return e.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(i){var a=[];(e=[e]).push.apply(e,i);for(var r=0;r<e.length;r++){var o=e[r].id;-1===n.inArray(o,a)&&a.push(o)}t.$element.val(a),t.$element.trigger("change")});else{var i=e.id;this.$element.val(i),this.$element.trigger("change")}},i.prototype.unselect=function(e){var t=this;if(this.$element.prop("multiple"))return e.selected=!1,n(e.element).is("option")?(e.element.selected=!1,void this.$element.trigger("change")):void this.current(function(i){for(var a=[],r=0;r<i.length;r++){var o=i[r].id;o!==e.id&&-1===n.inArray(o,a)&&a.push(o)}t.$element.val(a),t.$element.trigger("change")})},i.prototype.bind=function(e,t){var n=this;this.container=e,e.on("select",function(e){n.select(e.data)}),e.on("unselect",function(e){n.unselect(e.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){n.removeData(this,"data")})},i.prototype.query=function(e,t){var i=[],a=this;this.$element.children().each(function(){var t=n(this);if(t.is("option")||t.is("optgroup")){var r=a.item(t),o=a.matches(e,r);null!==o&&i.push(o)}}),t({results:i})},i.prototype.addOptions=function(e){t.appendMany(this.$element,e)},i.prototype.option=function(e){var t;e.children?(t=document.createElement("optgroup")).label=e.text:void 0!==(t=document.createElement("option")).textContent?t.textContent=e.text:t.innerText=e.text,e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var i=n(t),a=this._normalizeItem(e);return a.element=t,n.data(t,"data",a),i},i.prototype.item=function(e){var t={};if(null!=(t=n.data(e[0],"data")))return t;if(e.is("option"))t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};for(var i=e.children("option"),a=[],r=0;r<i.length;r++){var o=n(i[r]),s=this.item(o);a.push(s)}t.children=a}return(t=this._normalizeItem(t)).element=e[0],n.data(e[0],"data",t),t},i.prototype._normalizeItem=function(e){n.isPlainObject(e)||(e={id:e,text:e});return null!=(e=n.extend({},{text:""},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),n.extend({},{selected:!1,disabled:!1},e)},i.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},i}),t.define("select2/data/array",["./select","../utils","jquery"],function(e,t,n){function i(e,t){var n=t.get("data")||[];i.__super__.constructor.call(this,e,t),this.addOptions(this.convertToOptions(n))}return t.Extend(i,e),i.prototype.select=function(e){var t=this.$element.find("option").filter(function(t,n){return n.value==e.id.toString()});0===t.length&&(t=this.option(e),this.addOptions(t)),i.__super__.select.call(this,e)},i.prototype.convertToOptions=function(e){function i(e){return function(){return n(this).val()==e.id}}for(var a=this,r=this.$element.find("option"),o=r.map(function(){return a.item(n(this)).id}).get(),s=[],l=0;l<e.length;l++){var c=this._normalizeItem(e[l]);if(n.inArray(c.id,o)>=0){var d=r.filter(i(c)),u=this.item(d),p=n.extend(!0,{},c,u),_=this.option(p);d.replaceWith(_)}else{var h=this.option(c);if(c.children){var f=this.convertToOptions(c.children);t.appendMany(h,f)}s.push(h)}}return s},i}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,n){function i(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,e,t)}return t.Extend(i,e),i.prototype._applyDefaults=function(e){var t={data:function(e){return n.extend({},e,{q:e.term})},transport:function(e,t,i){var a=n.ajax(e);return a.then(t),a.fail(i),a}};return n.extend({},t,e,!0)},i.prototype.processResults=function(e){return e},i.prototype.query=function(e,t){function i(){var i=r.transport(r,function(i){var r=a.processResults(i,e);a.options.get("debug")&&window.console&&console.error&&r&&r.results&&n.isArray(r.results),t(r)},function(){a.trigger("results:message",{message:"errorLoading"})});a._request=i}var a=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var r=n.extend({type:"GET"},this.ajaxOptions);"function"==typeof r.url&&(r.url=r.url.call(this.$element,e)),"function"==typeof r.data&&(r.data=r.data.call(this.$element,e)),this.ajaxOptions.delay&&""!==e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(i,this.ajaxOptions.delay)):i()},i}),t.define("select2/data/tags",["jquery"],function(e){function t(t,n,i){var a=i.get("tags"),r=i.get("createTag");void 0!==r&&(this.createTag=r);var o=i.get("insertTag");if(void 0!==o&&(this.insertTag=o),t.call(this,n,i),e.isArray(a))for(var s=0;s<a.length;s++){var l=a[s],c=this._normalizeItem(l),d=this.option(c);this.$element.append(d)}}return t.prototype.query=function(e,t,n){var i=this;return this._removeOldTags(),null==t.term||null!=t.page?void e.call(this,t,n):void e.call(this,t,function e(a,r){for(var o=a.results,s=0;s<o.length;s++){var l=o[s],c=null!=l.children&&!e({results:l.children},!0);if(l.text===t.term||c)return!r&&(a.data=o,void n(a))}if(r)return!0;var d=i.createTag(t);if(null!=d){var u=i.option(d);u.attr("data-select2-tag",!0),i.addOptions([u]),i.insertTag(o,d)}a.results=o,n(a)})},t.prototype.createTag=function(t,n){var i=e.trim(n.term);return""===i?null:{id:i,text:i}},t.prototype.insertTag=function(e,t,n){t.unshift(n)},t.prototype._removeOldTags=function(t){(this._lastTag,this.$element.find("option[data-select2-tag]")).each(function(){this.selected||e(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(e){function t(e,t,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),e.call(this,t,n)}return t.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},t.prototype.query=function(e,t,n){var i=this;t.term=t.term||"";var a=this.tokenizer(t,this.options,function(e){i.trigger("select",{data:e})});a.term!==t.term&&(this.$search.length&&(this.$search.val(a.term),this.$search.focus()),t.term=a.term),e.call(this,t,n)},t.prototype.tokenizer=function(t,n,i,a){for(var r=i.get("tokenSeparators")||[],o=n.term,s=0,l=this.createTag||function(e){return{id:e.term,text:e.term}};s<o.length;){var c=o[s];if(-1!==e.inArray(c,r)){var d=o.substr(0,s),u=l(e.extend({},n,{term:d}));null!=u?(a(u),o=o.substr(s+1)||"",s=0):s++}else s++}return{term:o}},t}),t.define("select2/data/minimumInputLength",[],function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){return t.term=t.term||"",t.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):void e.call(this,t,n)},e}),t.define("select2/data/maximumInputLength",[],function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){return t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):void e.call(this,t,n)},e}),t.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){var i=this;this.current(function(a){var r=null!=a?a.length:0;return i.maximumSelectionLength>0&&r>=i.maximumSelectionLength?void i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}}):void e.call(i,t,n)})},e}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},n.prototype.bind=function(){},n.prototype.position=function(e,t){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),t.define("select2/dropdown/search",["jquery","../utils"],function(e,t){function n(){}return n.prototype.render=function(t){var n=t.call(this),i=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),n.prepend(i),n},n.prototype.bind=function(t,n,i){var a=this;t.call(this,n,i),this.$search.on("keydown",function(e){a.trigger("keypress",e),a._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(t){e(this).off("keyup")}),this.$search.on("keyup input",function(e){a.handleSearch(e)}),n.on("open",function(){a.$search.attr("tabindex",0),a.$search.focus(),window.setTimeout(function(){a.$search.focus()},0)}),n.on("close",function(){a.$search.attr("tabindex",-1),a.$search.val("")}),n.on("results:all",function(e){null!=e.query.term&&""!==e.query.term||(a.showSearch(e)?a.$searchContainer.removeClass("select2-search--hide"):a.$searchContainer.addClass("select2-search--hide"))})},n.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.showSearch=function(e,t){return!0},n}),t.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,i)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),i=t.length-1;i>=0;i--){var a=t[i];this.placeholder.id===a.id&&n.splice(i,1)}return n},e}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(e){function t(e,t,n,i){this.lastParams={},e.call(this,t,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,n,i){var a=this;t.call(this,n,i),n.on("query",function(e){a.lastParams=e,a.loading=!0}),n.on("query:append",function(e){a.lastParams=e,a.loading=!0}),this.$results.on("scroll",function(){var t=e.contains(document.documentElement,a.$loadingMore[0]);!a.loading&&t&&(a.$results.offset().top+a.$results.outerHeight(!1)+50>=a.$loadingMore.offset().top+a.$loadingMore.outerHeight(!1)&&a.loadMore())})},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return t.html(n(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(e,t){function n(t,n,i){this.$dropdownParent=i.get("dropdownParent")||e(document.body),t.call(this,n,i)}return n.prototype.bind=function(e,t,n){var i=this,a=!1;e.call(this,t,n),t.on("open",function(){i._showDropdown(),i._attachPositioningHandler(t),a||(a=!0,t.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),t.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),t.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},n.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(t){var n=e("<span></span>"),i=t.call(this);return n.append(i),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},n.prototype._attachPositioningHandler=function(n,i){var a=this,r="scroll.select2."+i.id,o="resize.select2."+i.id,s="orientationchange.select2."+i.id,l=this.$container.parents().filter(t.hasScroll);l.each(function(){e(this).data("select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})}),l.on(r,function(t){var n=e(this).data("select2-scroll-position");e(this).scrollTop(n.y)}),e(window).on(r+" "+o+" "+s,function(e){a._positionDropdown(),a._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,i){var a="scroll.select2."+i.id,r="resize.select2."+i.id,o="orientationchange.select2."+i.id;this.$container.parents().filter(t.hasScroll).off(a),e(window).off(a+" "+r+" "+o)},n.prototype._positionDropdown=function(){var t=e(window),n=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),a=null,r=this.$container.offset();r.bottom=r.top+this.$container.outerHeight(!1);var o={height:this.$container.outerHeight(!1)};o.top=r.top,o.bottom=r.top+o.height;var s=this.$dropdown.outerHeight(!1),l=t.scrollTop(),c=t.scrollTop()+t.height(),d=l<r.top-s,u=c>r.bottom+s,p={left:r.left,top:o.bottom},_=this.$dropdownParent;"static"===_.css("position")&&(_=_.offsetParent());var h=_.offset();p.top-=h.top,p.left-=h.left,n||i||(a="below"),u||!d||n?!d&&u&&n&&(a="below"):a="above",("above"==a||n&&"below"!==a)&&(p.top=o.top-s),null!=a&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+a),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+a)),this.$dropdownContainer.css(p)},n.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.width="auto"),this.$dropdown.css(e)},n.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(e,t,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,i)}return e.prototype.showSearch=function(e,t){return!(function e(t){for(var n=0,i=0;i<t.length;i++){var a=t[i];a.children?n+=e(a.children):n++}return n}(t.data.results)<this.minimumResultsForSearch)&&e.call(this,t)},e}),t.define("select2/dropdown/selectOnClose",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("close",function(){i._handleSelectOnClose()})},e.prototype._handleSelectOnClose=function(){var e=this.getHighlightedResults();if(!(e.length<1)){var t=e.data("data");null!=t.element&&t.element.selected||null==t.element&&t.selected||this.trigger("select",{data:t})}},e}),t.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("select",function(e){i._selectTriggered(e)}),t.on("unselect",function(e){i._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&n.ctrlKey||this.trigger("close",{})},e}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return 1!=t&&(n+="s"),n},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,n,i,a,r,o,s,l,c,d,u,p,_,h,f,m,g,v,y,b,w,x,k,$,C,T,D,S){function M(){this.reset()}return M.prototype.apply=function(u){if(null==(u=e.extend(!0,{},this.defaults,u)).dataAdapter){if(null!=u.ajax?u.dataAdapter=h:null!=u.data?u.dataAdapter=_:u.dataAdapter=p,u.minimumInputLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,g)),u.maximumInputLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,v)),u.maximumSelectionLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,y)),u.tags&&(u.dataAdapter=c.Decorate(u.dataAdapter,f)),(null!=u.tokenSeparators||null!=u.tokenizer)&&(u.dataAdapter=c.Decorate(u.dataAdapter,m)),null!=u.query){var S=t(u.amdBase+"compat/query");u.dataAdapter=c.Decorate(u.dataAdapter,S)}if(null!=u.initSelection){var M=t(u.amdBase+"compat/initSelection");u.dataAdapter=c.Decorate(u.dataAdapter,M)}}if(null==u.resultsAdapter&&(u.resultsAdapter=n,null!=u.ajax&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,k)),null!=u.placeholder&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,x)),u.selectOnClose&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,T))),null==u.dropdownAdapter){if(u.multiple)u.dropdownAdapter=b;else{var E=c.Decorate(b,w);u.dropdownAdapter=E}if(0!==u.minimumResultsForSearch&&(u.dropdownAdapter=c.Decorate(u.dropdownAdapter,C)),u.closeOnSelect&&(u.dropdownAdapter=c.Decorate(u.dropdownAdapter,D)),null!=u.dropdownCssClass||null!=u.dropdownCss||null!=u.adaptDropdownCssClass){var A=t(u.amdBase+"compat/dropdownCss");u.dropdownAdapter=c.Decorate(u.dropdownAdapter,A)}u.dropdownAdapter=c.Decorate(u.dropdownAdapter,$)}if(null==u.selectionAdapter){if(u.multiple?u.selectionAdapter=a:u.selectionAdapter=i,null!=u.placeholder&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,r)),u.allowClear&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,o)),u.multiple&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,s)),null!=u.containerCssClass||null!=u.containerCss||null!=u.adaptContainerCssClass){var O=t(u.amdBase+"compat/containerCss");u.selectionAdapter=c.Decorate(u.selectionAdapter,O)}u.selectionAdapter=c.Decorate(u.selectionAdapter,l)}if("string"==typeof u.language)if(u.language.indexOf("-")>0){var P=u.language.split("-")[0];u.language=[u.language,P]}else u.language=[u.language];if(e.isArray(u.language)){var q=new d;u.language.push("en");for(var j=u.language,N=0;N<j.length;N++){var F=j[N],L={};try{L=d.loadPath(F)}catch(e){try{F=this.defaults.amdLanguageBase+F,L=d.loadPath(F)}catch(e){u.debug&&window.console&&console.warn;continue}}q.extend(L)}u.translations=q}else{var I=d.loadPath(this.defaults.amdLanguageBase+"en"),B=new d(u.language);B.extend(I),u.translations=B}return u},M.prototype.reset=function(){function t(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return u[e]||e})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:S,matcher:function n(i,a){if(""===e.trim(i.term))return a;if(a.children&&a.children.length>0){for(var r=e.extend(!0,{},a),o=a.children.length-1;o>=0;o--)null==n(i,a.children[o])&&r.children.splice(o,1);return r.children.length>0?r:n(i,r)}var s=t(a.text).toUpperCase(),l=t(i.term).toUpperCase();return s.indexOf(l)>-1?a:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},M.prototype.set=function(t,n){var i={};i[e.camelCase(t)]=n;var a=c._convertData(i);e.extend(this.defaults,a)},new M}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(e,t,n,i){function a(t,a){if(this.options=t,null!=a&&this.fromElement(a),this.options=n.apply(this.options),a&&a.is("input")){var r=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,r)}}return a.prototype.fromElement=function(e){var n=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.language&&(e.prop("lang")?this.options.language=e.prop("lang").toLowerCase():e.closest("[lang]").prop("lang")&&(this.options.language=e.closest("[lang]").prop("lang"))),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),e.data("select2Tags")&&(this.options.debug&&window.console&&console.warn,e.data("data",e.data("select2Tags")),e.data("tags",!0)),e.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn,e.attr("ajax--url",e.data("ajaxUrl")),e.data("ajax--url",e.data("ajaxUrl")));var a;a=t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset?t.extend(!0,{},e[0].dataset,e.data()):e.data();var r=t.extend(!0,{},a);for(var o in r=i._convertData(r))t.inArray(o,n)>-1||(t.isPlainObject(this.options[o])?t.extend(this.options[o],r[o]):this.options[o]=r[o]);return this},a.prototype.get=function(e){return this.options[e]},a.prototype.set=function(e,t){this.options[e]=t},a}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(e,t,n,i){var a=function(e,n){null!=e.data("select2")&&e.data("select2").destroy(),this.$element=e,this.id=this._generateId(e),n=n||{},this.options=new t(n,e),a.__super__.constructor.call(this);var i=e.attr("tabindex")||0;e.data("old-tabindex",i),e.attr("tabindex","-1");var r=this.options.get("dataAdapter");this.dataAdapter=new r(e,this.options);var o=this.render();this._placeContainer(o);var s=this.options.get("selectionAdapter");this.selection=new s(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,o);var l=this.options.get("dropdownAdapter");this.dropdown=new l(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,o);var c=this.options.get("resultsAdapter");this.results=new c(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var d=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){d.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),e.data("select2",this)};return n.Extend(a,n.Observable),a.prototype._generateId=function(e){return"select2-"+(null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+n.generateChars(2):n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},a.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},a.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var i=this._resolveWidth(e,"style");return null!=i?i:this._resolveWidth(e,"element")}if("element"==t){var a=e.outerWidth(!1);return 0>=a?"auto":a+"px"}if("style"==t){var r=e.attr("style");if("string"!=typeof r)return null;for(var o=r.split(";"),s=0,l=o.length;l>s;s+=1){var c=o[s].replace(/\s/g,"").match(n);if(null!==c&&c.length>=1)return c[1]}return null}return t},a.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},a.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this._sync=n.bind(this._syncAttributes,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._sync);var i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=i?(this._observer=new i(function(n){e.each(n,t._sync)}),this._observer.observe(this.$element[0],{attributes:!0,subtree:!1})):this.$element[0].addEventListener&&this.$element[0].addEventListener("DOMAttrModified",t._sync,!1)},a.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",function(t,n){e.trigger(t,n)})},a.prototype._registerSelectionEvents=function(){var t=this,n=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()}),this.selection.on("focus",function(e){t.focus(e)}),this.selection.on("*",function(i,a){-1===e.inArray(i,n)&&t.trigger(i,a)})},a.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",function(t,n){e.trigger(t,n)})},a.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",function(t,n){e.trigger(t,n)})},a.prototype._registerEvents=function(){var e=this;this.on("open",function(){e.$container.addClass("select2-container--open")}),this.on("close",function(){e.$container.removeClass("select2-container--open")}),this.on("enable",function(){e.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){e.$container.addClass("select2-container--disabled")}),this.on("blur",function(){e.$container.removeClass("select2-container--focus")}),this.on("query",function(t){e.isOpen()||e.trigger("open",{}),this.dataAdapter.query(t,function(n){e.trigger("results:all",{data:n,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(n){e.trigger("results:append",{data:n,query:t})})}),this.on("keypress",function(t){var n=t.which;e.isOpen()?n===i.ESC||n===i.TAB||n===i.UP&&t.altKey?(e.close(),t.preventDefault()):n===i.ENTER?(e.trigger("results:select",{}),t.preventDefault()):n===i.SPACE&&t.ctrlKey?(e.trigger("results:toggle",{}),t.preventDefault()):n===i.UP?(e.trigger("results:previous",{}),t.preventDefault()):n===i.DOWN&&(e.trigger("results:next",{}),t.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&t.altKey)&&(e.open(),t.preventDefault())})},a.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},a.prototype.trigger=function(e,t){var n=a.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===t&&(t={}),e in i){var r=i[e],o={prevented:!1,name:e,args:t};if(n.call(this,r,o),o.prevented)return void(t.prevented=!0)}n.call(this,e,t)},a.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},a.prototype.open=function(){this.isOpen()||this.trigger("query",{})},a.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},a.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},a.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},a.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},a.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn,(null==e||0===e.length)&&(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},a.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn;var e=[];return this.dataAdapter.current(function(t){e=t}),e},a.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn,null==t||0===t.length)return this.$element.val();var n=t[0];e.isArray(n)&&(n=e.map(n,function(e){return e.toString()})),this.$element.val(n).trigger("change")},a.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._sync),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&this.$element[0].removeEventListener("DOMAttrModified",this._sync,!1),this._sync=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},a.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),t.data("element",this.$element),t},a}),t.define("jquery-mousewheel",["jquery"],function(e){return e}),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(e,t,n,i){if(null==e.fn.select2){var a=["open","close","destroy"];e.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each(function(){var i=e.extend(!0,{},t);new n(e(this),i)}),this;var i;if("string"==typeof t)return this.each(function(){var n=e(this).data("select2");null==n&&window.console&&console.error;var a=Array.prototype.slice.call(arguments,1);i=n[t].apply(n,a)}),e.inArray(t,a)>-1?this:i;throw new Error("Invalid arguments for Select2: "+t)}}return null==e.fn.select2.defaults&&(e.fn.select2.defaults=i),n}),{define:t.define,require:t.require}}(),n=t.require("jquery.select2");return e.fn.select2.amd=t,n}),function(e){function t(e,t,a){var r=e[0],o=/er/.test(a)?m:/bl/.test(a)?h:p,s=a==g?{checked:r[p],disabled:r[h],indeterminate:"true"==e.attr(m)||"false"==e.attr(f)}:r[o];if(/^(ch|di|in)/.test(a)&&!s)n(e,o);else if(/^(un|en|de)/.test(a)&&s)i(e,o);else if(a==g)for(var l in s)s[l]?n(e,l,!0):i(e,l,!0);else t&&"toggle"!=a||(t||e[k]("ifClicked"),s?r[v]!==u&&i(e,o):n(e,o))}function n(t,n,a){var d=t[0],g=t.parent(),y=n==p,b=n==m,k=n==h,$=b?f:y?_:"enabled",T=r(t,$+o(d[v])),D=r(t,n+o(d[v]));if(!0!==d[n]){if(!a&&n==p&&d[v]==u&&d.name){var S=t.closest("form"),M='input[name="'+d.name+'"]';(M=S.length?S.find(M):e(M)).each(function(){this!==d&&e(this).data(l)&&i(e(this),n)})}b?(d[n]=!0,d[p]&&i(t,p,"force")):(a||(d[n]=!0),y&&d[m]&&i(t,m,!1)),s(t,y,n,a)}d[h]&&r(t,C,!0)&&g.find("."+c).css(C,"default"),g[w](D||r(t,n)||""),g.attr("role")&&!b&&g.attr("aria-"+(k?h:p),"true"),g[x](T||r(t,$)||"")}function i(e,t,n){var i=e[0],a=e.parent(),l=t==p,d=t==m,u=t==h,g=d?f:l?_:"enabled",y=r(e,g+o(i[v])),b=r(e,t+o(i[v]));!1!==i[t]&&(!d&&n&&"force"!=n||(i[t]=!1),s(e,l,g,n)),!i[h]&&r(e,C,!0)&&a.find("."+c).css(C,"pointer"),a[x](b||r(e,t)||""),a.attr("role")&&!d&&a.attr("aria-"+(u?h:p),"false"),a[w](y||r(e,g)||"")}function a(t,n){t.data(l)&&(t.parent().html(t.attr("style",t.data(l).s||"")),n&&t[k](n),t.off(".i").unwrap(),e($+'[for="'+t[0].id+'"]').add(t.closest($)).off(".i"))}function r(e,t,n){if(e.data(l))return e.data(l).o[t+(n?"":"Class")]}function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}function s(e,t,n,i){i||(t&&e[k]("ifToggled"),e[k]("ifChanged")[k]("if"+o(n)))}var l="iCheck",c=l+"-helper",d="checkbox",u="radio",p="checked",_="un"+p,h="disabled",f="determinate",m="in"+f,g="update",v="type",y="click",b="touchbegin.i touchend.i",w="addClass",x="removeClass",k="trigger",$="label",C="cursor",T=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);e.fn[l]=function(r,o){var s='input[type="'+d+'"], input[type="'+u+'"]',_=e(),f=function(t){t.each(function(){var t=e(this);_=t.is(s)?_.add(t):_.add(t.find(s))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(r))return r=r.toLowerCase(),f(this),_.each(function(){var n=e(this);"destroy"==r?a(n,"ifDestroyed"):t(n,!0,r),e.isFunction(o)&&o()});if("object"!=typeof r&&r)return this;var C=e.extend({checkedClass:p,disabledClass:h,indeterminateClass:m,labelHover:!0},r),D=C.handle,S=C.hoverClass||"hover",M=C.focusClass||"focus",E=C.activeClass||"active",A=!!C.labelHover,O=C.labelHoverClass||"hover",P=0|(""+C.increaseArea).replace("%","");return D!=d&&D!=u||(s='input[type="'+D+'"]'),P<-50&&(P=-50),f(this),_.each(function(){var r=e(this);a(r);var o,s=this,_=s.id,f=-P+"%",m=100+2*P+"%",D={position:"absolute",top:f,left:f,display:"block",width:m,height:m,margin:0,padding:0,background:"#fff",border:0,opacity:0},q=T?{position:"absolute",visibility:"hidden"}:P?D:{position:"absolute",opacity:0},j=s[v]==d?C.checkboxClass||"i"+d:C.radioClass||"i"+u,N=e($+'[for="'+_+'"]').add(r.closest($)),F=!!C.aria,L=l+"-"+Math.random().toString(36).substr(2,6),I='<div class="'+j+'" '+(F?'role="'+s[v]+'" ':"");F&&N.each(function(){I+='aria-labelledby="',this.id?I+=this.id:(this.id=L,I+=L),I+='"'}),I=r.wrap(I+"/>")[k]("ifCreated").parent().append(C.insert),o=e('<ins class="'+c+'"/>').css(D).appendTo(I),r.data(l,{o:C,s:r.attr("style")}).css(q),!!C.inheritClass&&I[w](s.className||""),!!C.inheritID&&_&&I.attr("id",l+"-"+_),"static"==I.css("position")&&I.css("position","relative"),t(r,!0,g),N.length&&N.on(y+".i mouseover.i mouseout.i "+b,function(n){var i=n[v],a=e(this);if(!s[h]){if(i==y){if(e(n.target).is("a"))return;t(r,!1,!0)}else A&&(/ut|nd/.test(i)?(I[x](S),a[x](O)):(I[w](S),a[w](O)));n.stopPropagation()}}),r.on(y+".i focus.i blur.i keyup.i keydown.i keypress.i",function(e){var t=e[v],a=e.keyCode;return t!=y&&("keydown"==t&&32==a?(s[v]==u&&s[p]||(s[p]?i(r,p):n(r,p)),!1):void("keyup"==t&&s[v]==u?!s[p]&&n(r,p):/us|ur/.test(t)&&I["blur"==t?x:w](M)))}),o.on(y+" mousedown mouseup mouseover mouseout "+b,function(e){var n=e[v],i=/wn|up/.test(n)?E:S;s[h]||(n==y?t(r,!1,!0):(/wn|er|in/.test(n)?I[w](i):I[x](i+" "+E),N.length&&A&&i==S&&N[/ut|nd/.test(n)?x:w](O)),e.stopPropagation())})})}}(window.jQuery||window.Zepto),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){e.ui=e.ui||{};var t=(e.ui.version="1.12.1",0),n=Array.prototype.slice;e.cleanData=function(t){return function(n){var i,a,r;for(r=0;null!=(a=n[r]);r++)try{(i=e._data(a,"events"))&&i.remove&&e(a).triggerHandler("remove")}catch(e){}t(n)}}(e.cleanData),e.widget=function(t,n,i){var a,r,o,s={},l=t.split(".")[0],c=l+"-"+(t=t.split(".")[1]);return i||(i=n,n=e.Widget),e.isArray(i)&&(i=e.extend.apply(null,[{}].concat(i))),e.expr[":"][c.toLowerCase()]=function(t){return!!e.data(t,c)},e[l]=e[l]||{},a=e[l][t],r=e[l][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new r(e,t)},e.extend(r,a,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),(o=new n).options=e.widget.extend({},o.options),e.each(i,function(t,i){return e.isFunction(i)?void(s[t]=function(){function e(){return n.prototype[t].apply(this,arguments)}function a(e){return n.prototype[t].apply(this,e)}return function(){var t,n=this._super,r=this._superApply;return this._super=e,this._superApply=a,t=i.apply(this,arguments),this._super=n,this._superApply=r,t}}()):void(s[t]=i)}),r.prototype=e.widget.extend(o,{widgetEventPrefix:a&&o.widgetEventPrefix||t},s,{constructor:r,namespace:l,widgetName:t,widgetFullName:c}),a?(e.each(a._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,r,n._proto)}),delete a._childConstructors):n._childConstructors.push(r),e.widget.bridge(t,r),r},e.widget.extend=function(t){for(var i,a,r=n.call(arguments,1),o=0,s=r.length;o<s;o++)for(i in r[o])a=r[o][i],r[o].hasOwnProperty(i)&&void 0!==a&&(e.isPlainObject(a)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],a):e.widget.extend({},a):t[i]=a);return t},e.widget.bridge=function(t,i){var a=i.prototype.widgetFullName||t;e.fn[t]=function(r){var o="string"==typeof r,s=n.call(arguments,1),l=this;return o?this.length||"instance"!==r?this.each(function(){var n,i=e.data(this,a);return"instance"===r?(l=i,!1):i?e.isFunction(i[r])&&"_"!==r.charAt(0)?(n=i[r].apply(i,s))!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:e.error("no such method '"+r+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+r+"'")}):l=void 0:(s.length&&(r=e.widget.extend.apply(null,[r].concat(s))),this.each(function(){var t=e.data(this,a);t?(t.option(r||{}),t._init&&t._init()):e.data(this,a,new i(r,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(n,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,n){t._removeClass(n,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,a,r,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},t=(i=t.split(".")).shift(),i.length){for(a=o[t]=e.widget.extend({},this.options[t]),r=0;r<i.length-1;r++)a[i[r]]=a[i[r]]||{},a=a[i[r]];if(t=i.pop(),1===arguments.length)return void 0===a[t]?null:a[t];a[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=n}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var n,i,a;for(n in t)a=this.classesElementLookup[n],t[n]!==this.options.classes[n]&&a&&a.length&&(i=e(a.get()),this._removeClass(a,n),i.addClass(this._classes({element:i,keys:n,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function n(n,r){var o,s;for(s=0;s<n.length;s++)o=a.classesElementLookup[n[s]]||e(),o=e(t.add?e.unique(o.get().concat(t.element.get())):o.not(t.element).get()),a.classesElementLookup[n[s]]=o,i.push(n[s]),r&&t.classes[n[s]]&&i.push(t.classes[n[s]])}var i=[],a=this;return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&n(t.keys.match(/\S+/g)||[],!0),t.extra&&n(t.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(t){var n=this;e.each(n.classesElementLookup,function(i,a){-1!==e.inArray(t.target,a)&&(n.classesElementLookup[i]=e(a.not(t.target).get()))})},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,i){i="boolean"==typeof i?i:n;var a="string"==typeof e||null===e,r={extra:a?t:n,keys:a?e:t,element:a?this.element:e,add:i};return r.element.toggleClass(this._classes(r),i),this},_on:function(t,n,i){var a,r=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=a=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,a=this.widget()),e.each(i,function(i,o){function s(){if(t||!0!==r.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof o?r[o]:o).apply(r,arguments)}"string"!=typeof o&&(s.guid=o.guid=o.guid||s.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+r.eventNamespace,d=l[2];d?a.on(c,d,s):n.on(c,s)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(n).off(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var n=this;return setTimeout(function(){return("string"==typeof e?n[e]:e).apply(n,arguments)},t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,n,i){var a,r,o=this.options[t];if(i=i||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(a in r)a in n||(n[a]=r[a]);return this.element.trigger(n,i),!(e.isFunction(o)&&!1===o.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,a,r){"string"==typeof a&&(a={effect:a});var o,s=a?!0===a||"number"==typeof a?n:a.effect||n:t;"number"==typeof(a=a||{})&&(a={duration:a}),o=!e.isEmptyObject(a),a.complete=r,a.delay&&i.delay(a.delay),o&&e.effects&&e.effects.effect[s]?i[t](a):s!==t&&i[s]?i[s](a.duration,a.easing,r):i.queue(function(n){e(this)[t](),r&&r.call(i[0]),n()})}}),e.widget,function(){function t(e,t,n){return[parseFloat(e[0])*(d.test(e[0])?t/100:1),parseFloat(e[1])*(d.test(e[1])?n/100:1)]}function n(t,n){return parseInt(e.css(t,n),10)||0}var i,a=Math.max,r=Math.abs,o=/left|center|right/,s=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,d=/%$/,u=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==i)return i;var t,n,a=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=a.children()[0];return e("body").append(a),t=r.offsetWidth,a.css("overflow","scroll"),t===(n=r.offsetWidth)&&(n=a[0].clientWidth),a.remove(),i=t-n},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),a="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:a?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]),a=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:a,offset:!i&&!a?e(t).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},e.fn.position=function(i){if(!i||!i.of)return u.apply(this,arguments);i=e.extend({},i);var d,p,_,h,f,m,g=e(i.of),v=e.position.getWithinInfo(i.within),y=e.position.getScrollInfo(v),b=(i.collision||"flip").split(" "),w={};return m=function(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}(g),g[0].preventDefault&&(i.at="left top"),p=m.width,_=m.height,h=m.offset,f=e.extend({},h),e.each(["my","at"],function(){var e,t,n=(i[this]||"").split(" ");1===n.length&&(n=o.test(n[0])?n.concat(["center"]):s.test(n[0])?["center"].concat(n):["center","center"]),n[0]=o.test(n[0])?n[0]:"center",n[1]=s.test(n[1])?n[1]:"center",e=l.exec(n[0]),t=l.exec(n[1]),w[this]=[e?e[0]:0,t?t[0]:0],i[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]}),1===b.length&&(b[1]=b[0]),"right"===i.at[0]?f.left+=p:"center"===i.at[0]&&(f.left+=p/2),"bottom"===i.at[1]?f.top+=_:"center"===i.at[1]&&(f.top+=_/2),d=t(w.at,p,_),f.left+=d[0],f.top+=d[1],this.each(function(){var o,s,l=e(this),c=l.outerWidth(),u=l.outerHeight(),m=n(this,"marginLeft"),x=n(this,"marginTop"),k=c+m+n(this,"marginRight")+y.width,$=u+x+n(this,"marginBottom")+y.height,C=e.extend({},f),T=t(w.my,l.outerWidth(),l.outerHeight());"right"===i.my[0]?C.left-=c:"center"===i.my[0]&&(C.left-=c/2),"bottom"===i.my[1]?C.top-=u:"center"===i.my[1]&&(C.top-=u/2),C.left+=T[0],C.top+=T[1],o={marginLeft:m,marginTop:x},e.each(["left","top"],function(t,n){e.ui.position[b[t]]&&e.ui.position[b[t]][n](C,{targetWidth:p,targetHeight:_,elemWidth:c,elemHeight:u,collisionPosition:o,collisionWidth:k,collisionHeight:$,offset:[d[0]+T[0],d[1]+T[1]],my:i.my,at:i.at,within:v,elem:l})}),i.using&&(s=function(e){var t=h.left-C.left,n=t+p-c,o=h.top-C.top,s=o+_-u,d={target:{element:g,left:h.left,top:h.top,width:p,height:_},element:{element:l,left:C.left,top:C.top,width:c,height:u},horizontal:n<0?"left":t>0?"right":"center",vertical:s<0?"top":o>0?"bottom":"middle"};p<c&&r(t+n)<p&&(d.horizontal="center"),_<u&&r(o+s)<_&&(d.vertical="middle"),a(r(t),r(n))>a(r(o),r(s))?d.important="horizontal":d.important="vertical",i.using.call(this,e,d)}),l.offset(e.extend(C,{using:s}))})},e.ui.position={fit:{left:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,s=e.left-t.collisionPosition.marginLeft,l=r-s,c=s+t.collisionWidth-o-r;t.collisionWidth>o?l>0&&c<=0?(n=e.left+l+t.collisionWidth-o-r,e.left+=l-n):e.left=c>0&&l<=0?r:l>c?r+o-t.collisionWidth:r:l>0?e.left+=l:c>0?e.left-=c:e.left=a(e.left-s,e.left)},top:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,o=t.within.height,s=e.top-t.collisionPosition.marginTop,l=r-s,c=s+t.collisionHeight-o-r;t.collisionHeight>o?l>0&&c<=0?(n=e.top+l+t.collisionHeight-o-r,e.top+=l-n):e.top=c>0&&l<=0?r:l>c?r+o-t.collisionHeight:r:l>0?e.top+=l:c>0?e.top-=c:e.top=a(e.top-s,e.top)}},flip:{left:function(e,t){var n,i,a=t.within,o=a.offset.left+a.scrollLeft,s=a.width,l=a.isWindow?a.scrollLeft:a.offset.left,c=e.left-t.collisionPosition.marginLeft,d=c-l,u=c+t.collisionWidth-s-l,p="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,_="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,h=-2*t.offset[0];d<0?((n=e.left+p+_+h+t.collisionWidth-s-o)<0||n<r(d))&&(e.left+=p+_+h):u>0&&(((i=e.left-t.collisionPosition.marginLeft+p+_+h-l)>0||r(i)<u)&&(e.left+=p+_+h))},top:function(e,t){var n,i,a=t.within,o=a.offset.top+a.scrollTop,s=a.height,l=a.isWindow?a.scrollTop:a.offset.top,c=e.top-t.collisionPosition.marginTop,d=c-l,u=c+t.collisionHeight-s-l,p="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,_="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,h=-2*t.offset[1];d<0?((i=e.top+p+_+h+t.collisionHeight-s-o)<0||i<r(d))&&(e.top+=p+_+h):u>0&&(((n=e.top-t.collisionPosition.marginTop+p+_+h-l)>0||r(n)<u)&&(e.top+=p+_+h))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}(),e.ui.position,e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},e.fn.extend({uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(n){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t},e.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var n=e(t.target),i=e(e.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var n=e(t.target).closest(".ui-menu-item"),i=e(t.currentTarget);n[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){!e.contains(this.element[0],e.ui.safeActiveElement(this.document[0]))&&this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),t.children().each(function(){var t=e(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var n,i,a,r,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,i=this.previousFilter||"",r=!1,a=t.keyCode>=96&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),a===i?r=!0:a=i+a,n=this._filterMenuItems(a),(n=r&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(a=String.fromCharCode(t.keyCode),n=this._filterMenuItems(a)),n.length?(this.focus(t,n),this.previousFilter=a,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,n,i,a,r=this,o=this.options.icons.submenu,s=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),n=s.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),n=t.prev(),i=e("<span>").data("ui-menu-submenu-caret",!0);r._addClass(i,"ui-menu-icon","ui-icon "+o),n.attr("aria-haspopup","true").prepend(i),t.attr("aria-labelledby",n.attr("id"))}),this._addClass(n,"ui-menu","ui-widget ui-widget-content ui-front"),(t=s.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var t=e(this);r._isDivider(t)&&r._addClass(t,"ui-menu-divider","ui-widget-content")}),a=(i=t.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(i,"ui-menu-item")._addClass(a,"ui-menu-item-wrapper"),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){if("icons"===e){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var n,i,a;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),a=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(a,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,i,a,r,o,s;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,a=t.offset().top-this.activeMenu.offset().top-n-i,r=this.activeMenu.scrollTop(),o=this.activeMenu.height(),s=t.outerHeight(),a<0?this.activeMenu.scrollTop(r+a):a+s>o&&this.activeMenu.scrollTop(r+a-o+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(t),this._removeClass(i.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=i},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[t]()),this.focus(n,i)},nextPage:function(t){var n,i,a;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,a=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(n=e(this)).offset().top-i-a<0}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var n,i,a;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,a=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(n=e(this)).offset().top-i+a>0}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)},_filterMenuItems:function(t){var n=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(e.trim(e(this).children(".ui-menu-item-wrapper").text()))})}}),e.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,n,i,a=this.element[0].nodeName.toLowerCase(),r="textarea"===a,o="input"===a;this.isMultiLine=r||!o&&this._isContentEditable(this.element),this.valueMethod=this.element[r||o?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(a){if(this.element.prop("readOnly"))return t=!0,i=!0,void(n=!0);t=!1,i=!1,n=!1;var r=e.ui.keyCode;switch(a.keyCode){case r.PAGE_UP:t=!0,this._move("previousPage",a);break;case r.PAGE_DOWN:t=!0,this._move("nextPage",a);break;case r.UP:t=!0,this._keyEvent("previous",a);break;case r.DOWN:t=!0,this._keyEvent("next",a);break;case r.ENTER:this.menu.active&&(t=!0,a.preventDefault(),this.menu.select(a));break;case r.TAB:this.menu.active&&this.menu.select(a);break;case r.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(a),a.preventDefault());break;default:n=!0,this._searchTimeout(a)}},keypress:function(i){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||i.preventDefault());if(!n){var a=e.ui.keyCode;switch(i.keyCode){case a.PAGE_UP:this._move("previousPage",i);break;case a.PAGE_DOWN:this._move("nextPage",i);break;case a.UP:this._keyEvent("previous",i);break;case a.DOWN:this._keyEvent("next",i)}}},input:function(e){return i?(i=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==e.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(t,n){var i,a;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)})):(a=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:a})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(a.value),void((i=n.item.attr("aria-label")||a.value)&&e.trim(i).length&&(this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))))},menuselect:function(t,n){var i=n.item.data("ui-autocomplete-item"),a=this.previous;this.element[0]!==e.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=a,this._delay(function(){this.previous=a,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=e("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var n=this.menu.element[0];return t.target===this.element[0]||t.target===n||e.contains(n,t.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,i){i(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,a){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){a(e)},error:function(){a([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),n=this.menu.element.is(":visible"),i=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||n||i)||(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var i=this;e.each(n,function(e,n){i._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").append(e("<div>").text(n.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop("contentEditable");return"inherit"===t?this._isContentEditable(e.parent()):"true"===t}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var i=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return i.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))}});var i=(e.ui.autocomplete,e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),!1);e(document).on("mouseup",function(){i=!1}),e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!i){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,a=1===t.which,r=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(a&&!r&&this._mouseCapture(t)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),i=!0,0)))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,i=!1,t.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),e.widget("ui.slider",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,i=this.options,a=this.element.find(".ui-slider-handle"),r=[];for(n=i.values&&i.values.length||1,a.length>n&&(a.slice(n).remove(),a=a.slice(0,n)),t=a.length;t<n;t++)r.push("<span tabindex='0'></span>");this.handles=a.add(e(r.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t).attr("tabIndex",0)})},_createRange:function(){var t=this.options;t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=e("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==t.range&&"max"!==t.range||this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var n,i,a,r,o,s,l,c=this,d=this.options;return!d.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(n),a=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(i-c.values(t));(a>n||a===n&&(t===c._lastChangedValue||c.values(t)===d.min))&&(a=n,r=e(this),o=t)}),!1!==this._start(t,o)&&(this._mouseSliding=!0,this._handleIndex=o,this._addClass(r,null,"ui-state-active"),r.trigger("focus"),s=r.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-s.left-r.width()/2,top:t.pageY-s.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,a,r;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(i=n/t)>1&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),a=this._valueMax()-this._valueMin(),r=this._valueMin()+i*a,this._trimAlignValue(r)},_uiHash:function(e,t,n){var i={handle:this.handles[e],handleIndex:e,value:void 0!==t?t:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==t?t:this.values(e),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger("start",e,this._uiHash(t))},_slide:function(e,t,n){var i,a=this.value(),r=this.values();this._hasMultipleValues()&&(i=this.values(t?0:1),a=this.values(t),2===this.options.values.length&&!0===this.options.range&&(n=0===t?Math.min(i,n):Math.max(i,n)),r[t]=n),n!==a&&(!1!==this._trigger("slide",e,this._uiHash(t,n,r))&&(this._hasMultipleValues()?this.values(t,n):this.value(n)))},_stop:function(e,t){this._trigger("stop",e,this._uiHash(t))},_change:function(e,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger("change",e,this._uiHash(t)))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,n){var i,a,r;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this._hasMultipleValues()?this._values(t):this.value();for(i=this.options.values,a=arguments[0],r=0;r<i.length;r+=1)i[r]=this._trimAlignValue(a[r]),this._change(null,r);this._refreshValue()},_setOption:function(t,n){var i,a=0;switch("range"===t&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(a=this.options.values.length),this._super(t,n),t){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=a-1;i>=0;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return this._trimAlignValue(e)},_values:function(e){var t,n,i;if(arguments.length)return t=this.options.values[e],this._trimAlignValue(t);if(this._hasMultipleValues()){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;return 2*Math.abs(n)>=t&&(i+=n>0?t:-t),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step;(e=Math.round((e-t)/n)*n+t)>this.options.max&&(e-=n),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){"vertical"===e&&this.range.css({width:"",left:""}),"horizontal"===e&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var t,n,i,a,r,o=this.options.range,s=this.options,l=this,c=!this._animateOff&&s.animate,d={};this._hasMultipleValues()?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,d["horizontal"===l.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[c?"animate":"css"](d,s.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},s.animate),1===i&&l.range[c?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:s.animate})):(0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},s.animate),1===i&&l.range[c?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:s.animate}))),t=n}):(i=this.value(),a=this._valueMin(),r=this._valueMax(),n=r!==a?(i-a)/(r-a)*100:0,d["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](d,s.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},s.animate),"max"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:100-n+"%"},s.animate),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},s.animate),"max"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:100-n+"%"},s.animate))},_handleEvents:{keydown:function(t){var n,i,a,r=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(e(t.target),null,"ui-state-active"),!1===this._start(t,r)))return}switch(a=this.options.step,n=i=this._hasMultipleValues()?this.values(r):this.value(),t.keyCode){case e.ui.keyCode.HOME:i=this._valueMin();break;case e.ui.keyCode.END:i=this._valueMax();break;case e.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;i=this._trimAlignValue(n+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;i=this._trimAlignValue(n-a)}this._slide(t,r,i)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),this._removeClass(e(t.target),null,"ui-state-active"))}}})}),function(e){e.fn.autoKana=function(t,n,i){function a(){var e,t;if(""==(e=d.val()))s(),o();else{if(e=function(e){if(-1!==e.indexOf(h))return e.replace(h,"");var t,n,i;for(n=h.split(""),i=e.split(""),t=0;t<n.length;t++)n[t]==i[t]&&(i[t]="");return i.join("")}(e),p==e)return;p=e,w||(function(e){if(!w)if(Math.abs(_.length-e.length)>1){var t=e.join("").replace(v,"").split("");Math.abs(_.length-t.length)>1&&c()}else _.length==p.length&&_.join("")!=p&&p.match(g)&&c()}(t=e.replace(g,"").split("")),""!=e&&""!=t&&o(t))}}function r(e){return e>=12353&&e<=12435||12445==e||12446==e}function o(e){if(!w&&(e&&(_=e),y)){var t=function(e){if(m.katakana){var t,n,i;for(i=new String,n=0;n<e.length;n++)t=e.charCodeAt(n),i+=r(t)?String.fromCharCode(t+96):e.charAt(n);return i}return e}(f+_.join(""));u.hasClass("is_not_space")&&(t=t.replace(/ /g,"").replace(/　/g,"")),u.val(t)}}function s(){f="",w=!1,h="",p="",_=[]}function l(){f=u.val(),w=!1,h=d.val()}function c(){f+=_.join(""),w=!0,_=[]}var d,u,p,_,h,f,m=e.extend({katakana:!1},i),g=new RegExp("[^ 　ぁあ-んー]","g"),v=new RegExp("[ぁぃぅぇぉっゃゅょ]","g"),y=!1,b=null,w=!0;d=e(t),u=e(n),y=!0,s(),d.blur(function(e){clearInterval(b)}),d.focus(function(e){l(),b=setInterval(a,30)}),d.keydown(function(e){w&&l()})}}(jQuery);var CryptoJS=(CryptoJS=CryptoJS||function(e,t){var n={},i=n.lib={},a=i.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),r=i.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,a=e.sigBytes;if(this.clamp(),i%4)for(var r=0;r<a;r++){var o=n[r>>>2]>>>24-r%4*8&255;t[i+r>>>2]|=o<<24-(i+r)%4*8}else if(n.length>65535)for(r=0;r<a;r+=4)t[i+r>>>2]=n[r>>>2];else t.push.apply(t,n);return this.sigBytes+=a,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],i=0;i<t;i+=4)n.push(4294967296*e.random()|0);return new r.init(n,t)}}),o=n.enc={},s=o.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],a=0;a<n;a++){var r=t[a>>>2]>>>24-a%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new r.init(n,t/2)}},l=o.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],a=0;a<n;a++){var r=t[a>>>2]>>>24-a%4*8&255;i.push(String.fromCharCode(r))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new r.init(n,t)}},c=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new r.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,a=n.sigBytes,o=this.blockSize,s=a/(4*o),l=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,c=e.min(4*l,a);if(l){for(var d=0;d<l;d+=o)this._doProcessBlock(i,d);var u=i.splice(0,l);n.sigBytes-=c}return new r.init(u,c)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),u=(i.Hasher=d.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new u.HMAC.init(e,n).finalize(t)}}}),n.algo={});return n}(Math))||function(e,t){var n={},i=n.lib={},a=function(){},r=i.Base={extend:function(e){a.prototype=this;var t=new a;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=i.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes;if(e=e.sigBytes,this.clamp(),i%4)for(var a=0;a<e;a++)t[i+a>>>2]|=(n[a>>>2]>>>24-a%4*8&255)<<24-(i+a)%4*8;else if(65535<n.length)for(a=0;a<e;a+=4)t[i+a>>>2]=n[a>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],i=0;i<t;i+=4)n.push(4294967296*e.random()|0);return new o.init(n,t)}}),s=n.enc={},l=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++){var a=t[i>>>2]>>>24-i%4*8&255;n.push((a>>>4).toString(16)),n.push((15&a).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new o.init(n,t/2)}},c=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++)n.push(String.fromCharCode(t[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new o.init(n,t)}},d=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},u=i.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,a=n.sigBytes,r=this.blockSize,s=a/(4*r);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*r,a=e.min(4*t,a),t){for(var l=0;l<t;l+=r)this._doProcessBlock(i,l);l=i.splice(0,t),n.sigBytes-=a}return new o.init(l,a)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=u.extend({cfg:r.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}});var p=n.algo={};return n}(Math);!function(){var e=CryptoJS,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp(),e=[];for(var a=0;a<n;a+=3)for(var r=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,o=0;4>o&&a+.75*o<n;o++)e.push(i.charAt(r>>>6*(3-o)&63));if(t=i.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var n=e.length,i=this._map;(a=i.charAt(64))&&(-1!=(a=e.indexOf(a))&&(n=a));for(var a=[],r=0,o=0;o<n;o++)if(o%4){var s=i.indexOf(e.charAt(o-1))<<o%4*2,l=i.indexOf(e.charAt(o))>>>6-o%4*2;a[r>>>2]|=(s|l)<<24-r%4*8,r++}return t.create(a,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,n,i,a,r,o){return((e=e+(t&n|~t&i)+a+o)<<r|e>>>32-r)+t}function n(e,t,n,i,a,r,o){return((e=e+(t&i|n&~i)+a+o)<<r|e>>>32-r)+t}function i(e,t,n,i,a,r,o){return((e=e+(t^n^i)+a+o)<<r|e>>>32-r)+t}function a(e,t,n,i,a,r,o){return((e=e+(n^(t|~i))+a+o)<<r|e>>>32-r)+t}for(var r=CryptoJS,o=(l=r.lib).WordArray,s=l.Hasher,l=r.algo,c=[],d=0;64>d;d++)c[d]=4294967296*e.abs(e.sin(d+1))|0;l=l.MD5=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,r){for(var o=0;16>o;o++){var s=e[u=r+o];e[u]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}o=this._hash.words;var l,d,u=e[r+0],p=(s=e[r+1],e[r+2]),_=e[r+3],h=e[r+4],f=e[r+5],m=e[r+6],g=e[r+7],v=e[r+8],y=e[r+9],b=e[r+10],w=e[r+11],x=e[r+12],k=e[r+13],$=e[r+14],C=e[r+15],T=o[0],D=a(D=a(D=a(D=a(D=i(D=i(D=i(D=i(D=n(D=n(D=n(D=n(D=t(D=t(D=t(D=t(D=o[1],d=t(d=o[2],l=t(l=o[3],T=t(T,D,d,l,u,7,c[0]),D,d,s,12,c[1]),T,D,p,17,c[2]),l,T,_,22,c[3]),d=t(d,l=t(l,T=t(T,D,d,l,h,7,c[4]),D,d,f,12,c[5]),T,D,m,17,c[6]),l,T,g,22,c[7]),d=t(d,l=t(l,T=t(T,D,d,l,v,7,c[8]),D,d,y,12,c[9]),T,D,b,17,c[10]),l,T,w,22,c[11]),d=t(d,l=t(l,T=t(T,D,d,l,x,7,c[12]),D,d,k,12,c[13]),T,D,$,17,c[14]),l,T,C,22,c[15]),d=n(d,l=n(l,T=n(T,D,d,l,s,5,c[16]),D,d,m,9,c[17]),T,D,w,14,c[18]),l,T,u,20,c[19]),d=n(d,l=n(l,T=n(T,D,d,l,f,5,c[20]),D,d,b,9,c[21]),T,D,C,14,c[22]),l,T,h,20,c[23]),d=n(d,l=n(l,T=n(T,D,d,l,y,5,c[24]),D,d,$,9,c[25]),T,D,_,14,c[26]),l,T,v,20,c[27]),d=n(d,l=n(l,T=n(T,D,d,l,k,5,c[28]),D,d,p,9,c[29]),T,D,g,14,c[30]),l,T,x,20,c[31]),d=i(d,l=i(l,T=i(T,D,d,l,f,4,c[32]),D,d,v,11,c[33]),T,D,w,16,c[34]),l,T,$,23,c[35]),d=i(d,l=i(l,T=i(T,D,d,l,s,4,c[36]),D,d,h,11,c[37]),T,D,g,16,c[38]),l,T,b,23,c[39]),d=i(d,l=i(l,T=i(T,D,d,l,k,4,c[40]),D,d,u,11,c[41]),T,D,_,16,c[42]),l,T,m,23,c[43]),d=i(d,l=i(l,T=i(T,D,d,l,y,4,c[44]),D,d,x,11,c[45]),T,D,C,16,c[46]),l,T,p,23,c[47]),d=a(d,l=a(l,T=a(T,D,d,l,u,6,c[48]),D,d,g,10,c[49]),T,D,$,15,c[50]),l,T,f,21,c[51]),d=a(d,l=a(l,T=a(T,D,d,l,x,6,c[52]),D,d,_,10,c[53]),T,D,b,15,c[54]),l,T,s,21,c[55]),d=a(d,l=a(l,T=a(T,D,d,l,v,6,c[56]),D,d,C,10,c[57]),T,D,m,15,c[58]),l,T,k,21,c[59]),d=a(d,l=a(l,T=a(T,D,d,l,h,6,c[60]),D,d,w,10,c[61]),T,D,p,15,c[62]),l,T,y,21,c[63]);o[0]=o[0]+T|0,o[1]=o[1]+D|0,o[2]=o[2]+d|0,o[3]=o[3]+l|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,a=8*t.sigBytes;n[a>>>5]|=128<<24-a%32;var r=e.floor(i/4294967296);for(n[15+(a+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),n[14+(a+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(n.length+1),this._process(),n=(t=this._hash).words,i=0;4>i;i++)a=n[i],n[i]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8);return t},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),r.MD5=s._createHelper(l),r.HmacMD5=s._createHmacHelper(l)}(Math),function(){var e,t=CryptoJS,n=(e=t.lib).Base,i=e.WordArray,a=(e=t.algo).EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:e.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=(s=this.cfg).hasher.create(),a=i.create(),r=a.words,o=s.keySize,s=s.iterations;r.length<o;){l&&n.update(l);var l=n.update(e).finalize(t);n.reset();for(var c=1;c<s;c++)l=n.finalize(l),n.reset();a.concat(l)}return a.sigBytes=4*o,a}});t.EvpKDF=function(e,t,n){return a.create(n).compute(e,t)}}(),CryptoJS.lib.Cipher||function(e){var t=(_=CryptoJS).lib,n=t.Base,i=t.WordArray,a=t.BufferedBlockAlgorithm,r=_.enc.Base64,o=_.algo.EvpKDF,s=t.Cipher=a.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,n,i){return("string"==typeof n?h:p).encrypt(e,t,n,i)},decrypt:function(t,n,i){return("string"==typeof n?h:p).decrypt(e,t,n,i)}}}});t.StreamCipher=s.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var l=_.mode={},c=function(e,t,n){var i=this._iv;i?this._iv=void 0:i=this._prevBlock;for(var a=0;a<n;a++)e[t+a]^=i[a]},d=(t.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();d.Encryptor=d.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize;c.call(this,e,t,i),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),d.Decryptor=d.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,a=e.slice(t,t+i);n.decryptBlock(e,t),c.call(this,e,t,i),this._prevBlock=a}}),l=l.CBC=d,d=(_.pad={}).Pkcs7={pad:function(e,t){for(var n,a=(n=(n=4*t)-e.sigBytes%n)<<24|n<<16|n<<8|n,r=[],o=0;o<n;o+=4)r.push(a);n=i.create(r,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},t.BlockCipher=s.extend({cfg:s.cfg.extend({mode:l,padding:d}),reset:function(){s.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=t.createEncryptor;else n=t.createDecryptor,this._minBufferSize=1;this._mode=n.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var u=t.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),p=(l=(_.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?i.create([1398893684,1701076831]).concat(e).concat(t):t).toString(r)},parse:function(e){var t=(e=r.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var n=i.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return u.create({ciphertext:e,salt:n})}},t.SerializableCipher=n.extend({cfg:n.extend({format:l}),encrypt:function(e,t,n,i){i=this.cfg.extend(i);var a=e.createEncryptor(n,i);return t=a.finalize(t),a=a.cfg,u.create({ciphertext:t,key:n,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),e.createDecryptor(n,i).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),_=(_.kdf={}).OpenSSL={execute:function(e,t,n,a){return a||(a=i.random(8)),e=o.create({keySize:t+n}).compute(e,a),n=i.create(e.words.slice(t),4*n),e.sigBytes=4*t,u.create({key:e,iv:n,salt:a})}},h=t.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:_}),encrypt:function(e,t,n,i){return n=(i=this.cfg.extend(i)).kdf.execute(n,e.keySize,e.ivSize),i.iv=n.iv,(e=p.encrypt.call(this,e,t,n.key,i)).mixIn(n),e},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),n=i.kdf.execute(n,e.keySize,e.ivSize,t.salt),i.iv=n.iv,p.decrypt.call(this,e,t,n.key,i)}})}(),function(){for(var e=CryptoJS,t=e.lib.BlockCipher,n=e.algo,i=[],a=[],r=[],o=[],s=[],l=[],c=[],d=[],u=[],p=[],_=[],h=0;256>h;h++)_[h]=128>h?h<<1:h<<1^283;var f=0,m=0;for(h=0;256>h;h++){var g=(g=m^m<<1^m<<2^m<<3^m<<4)>>>8^255&g^99;i[f]=g,a[g]=f;var v=_[f],y=_[v],b=_[y],w=257*_[g]^16843008*g;r[f]=w<<24|w>>>8,o[f]=w<<16|w>>>16,s[f]=w<<8|w>>>24,l[f]=w,w=16843009*b^65537*y^257*v^16843008*f,c[g]=w<<24|w>>>8,d[g]=w<<16|w>>>16,u[g]=w<<8|w>>>24,p[g]=w,f?(f=v^_[_[_[b^v]]],m^=_[_[m]]):f=m=1}var x=[0,1,2,4,8,16,32,64,128,27,54];n=n.AES=t.extend({_doReset:function(){for(var e=(n=this._key).words,t=n.sigBytes/4,n=4*((this._nRounds=t+6)+1),a=this._keySchedule=[],r=0;r<n;r++)if(r<t)a[r]=e[r];else{var o=a[r-1];r%t?6<t&&4==r%t&&(o=i[o>>>24]<<24|i[o>>>16&255]<<16|i[o>>>8&255]<<8|i[255&o]):(o=i[(o=o<<8|o>>>24)>>>24]<<24|i[o>>>16&255]<<16|i[o>>>8&255]<<8|i[255&o],o^=x[r/t|0]<<24),a[r]=a[r-t]^o}for(e=this._invKeySchedule=[],t=0;t<n;t++)r=n-t,o=t%4?a[r]:a[r-4],e[t]=4>t||4>=r?o:c[i[o>>>24]]^d[i[o>>>16&255]]^u[i[o>>>8&255]]^p[i[255&o]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,r,o,s,l,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,c,d,u,p,a),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,i,a,r,o,s){for(var l=this._nRounds,c=e[t]^n[0],d=e[t+1]^n[1],u=e[t+2]^n[2],p=e[t+3]^n[3],_=4,h=1;h<l;h++){var f=i[c>>>24]^a[d>>>16&255]^r[u>>>8&255]^o[255&p]^n[_++],m=i[d>>>24]^a[u>>>16&255]^r[p>>>8&255]^o[255&c]^n[_++],g=i[u>>>24]^a[p>>>16&255]^r[c>>>8&255]^o[255&d]^n[_++];p=i[p>>>24]^a[c>>>16&255]^r[d>>>8&255]^o[255&u]^n[_++],c=f,d=m,u=g}f=(s[c>>>24]<<24|s[d>>>16&255]<<16|s[u>>>8&255]<<8|s[255&p])^n[_++],m=(s[d>>>24]<<24|s[u>>>16&255]<<16|s[p>>>8&255]<<8|s[255&c])^n[_++],g=(s[u>>>24]<<24|s[p>>>16&255]<<16|s[c>>>8&255]<<8|s[255&d])^n[_++],p=(s[p>>>24]<<24|s[c>>>16&255]<<16|s[d>>>8&255]<<8|s[255&u])^n[_++],e[t]=f,e[t+1]=m,e[t+2]=g,e[t+3]=p},keySize:8});e.AES=t._createHelper(n)}();CryptoJS=CryptoJS||function(e,t){var n={},i=n.lib={},a=function(){},r=i.Base={extend:function(e){a.prototype=this;var t=new a;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=i.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes;if(e=e.sigBytes,this.clamp(),i%4)for(var a=0;a<e;a++)t[i+a>>>2]|=(n[a>>>2]>>>24-a%4*8&255)<<24-(i+a)%4*8;else if(65535<n.length)for(a=0;a<e;a+=4)t[i+a>>>2]=n[a>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],i=0;i<t;i+=4)n.push(4294967296*e.random()|0);return new o.init(n,t)}}),s=n.enc={},l=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++){var a=t[i>>>2]>>>24-i%4*8&255;n.push((a>>>4).toString(16)),n.push((15&a).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new o.init(n,t/2)}},c=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++)n.push(String.fromCharCode(t[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new o.init(n,t)}},d=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},u=i.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,a=n.sigBytes,r=this.blockSize,s=a/(4*r);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*r,a=e.min(4*t,a),t){for(var l=0;l<t;l+=r)this._doProcessBlock(i,l);l=i.splice(0,t),n.sigBytes-=a}return new o.init(l,a)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=u.extend({cfg:r.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}});var p=n.algo={};return n}(Math);!function(e){for(var t=CryptoJS,n=(a=t.lib).WordArray,i=a.Hasher,a=t.algo,r=[],o=[],s=function(e){return 4294967296*(e-(0|e))|0},l=2,c=0;64>c;){var d;e:{d=l;for(var u=e.sqrt(d),p=2;p<=u;p++)if(!(d%p)){d=!1;break e}d=!0}d&&(8>c&&(r[c]=s(e.pow(l,.5))),o[c]=s(e.pow(l,1/3)),c++),l++}var _=[];a=a.SHA256=i.extend({_doReset:function(){this._hash=new n.init(r.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],a=n[1],r=n[2],s=n[3],l=n[4],c=n[5],d=n[6],u=n[7],p=0;64>p;p++){if(16>p)_[p]=0|e[t+p];else{var h=_[p-15],f=_[p-2];_[p]=((h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3)+_[p-7]+((f<<15|f>>>17)^(f<<13|f>>>19)^f>>>10)+_[p-16]}h=u+((l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25))+(l&c^~l&d)+o[p]+_[p],f=((i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22))+(i&a^i&r^a&r),u=d,d=c,c=l,l=s+h|0,s=r,r=a,a=i,i=h+f|0}n[0]=n[0]+i|0,n[1]=n[1]+a|0,n[2]=n[2]+r|0,n[3]=n[3]+s|0,n[4]=n[4]+l|0,n[5]=n[5]+c|0,n[6]=n[6]+d|0,n[7]=n[7]+u|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,a=8*t.sigBytes;return n[a>>>5]|=128<<24-a%32,n[14+(a+64>>>9<<4)]=e.floor(i/4294967296),n[15+(a+64>>>9<<4)]=i,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(a),t.HmacSHA256=i._createHmacHelper(a)}(Math),function(e,t,n){var i,a=e.getElementsByTagName(t)[0];e.getElementById(n)||((i=e.createElement(t)).id=n,i.src="//connect.facebook.net/en_US/messenger.Extensions.js",a.parentNode.insertBefore(i,a))}(document,"script","Messenger"),function(e){"use strict";void 0===e.fn.fileinputLocales&&(e.fn.fileinputLocales={}),e.fn.fileinputLocales.en={startChat:"Start chat",fillFormToStart:"Please fill out the form below to start chatting with the next available agent.",your_name:"Your name",your_mail:"Your email",invalid_access_token:"Invalid Access Token. Please create a new embed code.",menu:"Menu",bot_says_title:" says...",next:"Next",next_wc:"Next",ok:"OK",postal_code:"Postal Code",prefectures:"Prefectures",municipality:"Municipality",street_number:"Street number",building_name:"Building name",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",please_select:"Please Select",email:"Email",password:"Password",select:"Select",required:"※Required",card_number:"Card number",card_holder_name:"Card holder's name",card_expiry_date:"Card expiry date",card_security_code:"CVC",card_security_code2:"CVC",select_file:"Select file",no_file_select:"No file selected",uploading:"Uploading",verification_incorrect:"Incorrect verification code!",update:"Update",cart_empty:"Your shopping cart is empty.",document_empty:"Document request list is empty.",price_total:"Total",unit_price:"Unit price:",amount:"Amount:",quantity:"Quantity:",quantity_max:"Quantity: Maximum up to :max",product_code:"Product code:",payment_gateway_error:"You haven't yet registered your payment gateway.",question_process_remain:":num left",error:"Error!",webhook_efo_error:"There was an error trying to send your data. Please try again later.",session_expire:'Your session has expired. Please click <a class="chatbox_reload">here</a> to refresh conversation.',search_for_places:"Search for places",clear_message_confirm:"Are you sure you want to delete this thread?",chatbox_hide_time_confirm:"Are you sure you want to hide this chat box for :hour hours?",chatbox_hide_time_tooltip:"Hide chatbox",chatbox_close_confirm:"Are you sure you want close this chat box?",message_updating_confirm_label:"The changed input contents have not been updated. Please check the updated contents before sending.",delete:"Delete",cancel:"Cancel",send:"Send",return_to_chat:"Return to chat",conversation_delete:"Delete conversation",send_location:"Send location",no_results_found:"No results found",searching:"Searching",enter_more_charecters:"Please enter 1 or more characters",select_prefecture:"Please select the prefecture",select_city:"Please select city county",select_stress:"Please select a town / village",select_line:"Please select a railway line",select_station:"Please select a station",close:"Close",view_detail:"View the details",postal_code_search_button:"Search here",postal_code_search_label:"Search postal code by address",postal_code_search_select_pref:"Please select a prefecture",postal_code_search_select_city:"Please select a city",postal_code_search_select_street:"Please select a town",postal_code_search_select_scope_tw:"Please search Street number",complete:"Complete",order_processing:"Processing",disconnect_notice:"[Apology] Due to the current concentration of access, it is difficult to connect.<br/>You can access it after a while, or you can purchase it from the following.<br/>If you can not purchase by chat <a data-href=':URL'>Click here</a>",disconnect_notice_keeper:"[Apology] Could not process normally. Please try again after a while, or if you are unable to complete the procedure via chat, please try from <a data-href=':URL'>here</a>",error_navigation_timeout:"The page is not responding.",error_data_empty:"Data is empty.",error_session_expired:"Session expired.",error_payment:"Payment not success.",stripe_unexpected_error:"Unexpected error while getting token. Please try again later!",stripe_incorrect_number:"Your card number is incorrect.",stripe_invalid_expiry_month:"Your card's expiration month is invalid.",stripe_invalid_expiry_year:"Your card's expiration year is invalid.",stripe_invalid_cvc:"Your card's security code is invalid.",stripe_invalid_request_error:"Invalid API Key provided.",validate_require:"Validation is required.",validate_url:"The attribute must be a valid URL.",validate_url_secure:"Please enter the URL of HTTPS.",validate_max:"Only up to :max characters.",validate_min:"Must be at least :min characters.",validate_digit_length_max:"Only up to :max digits.",validate_digit_length_min:"Must be at least :min digits.",validate_option_max:"The attribute may not have more than :max items.",validate_option_min:"The attribute must have at least :min items.",validate_phone:"Invalid phone number.",validate_number:"Enter number only.",validate_email:"The attribute must be a valid email address.",validate_length:"Length must be :num characters",validate_postalcode_length:"Please specify a 7-digit postal code",validate_alpha:"The attribute may only contain letters.",validate_alpha_dash:"The attribute may only contain letters, numbers, and dashes.",validate_alpha_num:"The attribute may only contain letters and numbers.",validate_katakana:"The attribute may only contain full-width katakana.",validate_hiragana:"The attribute may only contain full-width hiragana.",validate_zenkaku:"The attribute may only contain full-width character.",validate_confirm:"The :attribute confirmation does not match.",validate_postalcode_invalid:"Invalid zip code.",validate_postalcode_out_of_area:"Out of target area.",validate_credit_card:"Card number is invalid for the selected card type.",validate_file_upload:"The file must be a file of type: :type. </br>Max size: :size Mb.",validate_file_upload_type:"The file must be a file of type: :type.",validate_file_upload_size:"Max size: :size Mb.",validate_require_one_field:"Please input at least 1 field.",validate_require_document_item:"Please select at least one document.",validate_require_product_item:"Please select at least one product.",validate_credit_date:"Expiration date is incorrect",validate_box_file_upload:"The file must be a file of type: :type. </br>Max size: :size Mb.",box_unexpected_error:"Unexpected error while uploading file. Please try again later!",veritrans_3g_unexpected_error:"Unexpected error while getting token. Please try again later!"}}(window.jQuery),function(e){"use strict";void 0===e.fn.fileinputLocales&&(e.fn.fileinputLocales={}),e.fn.fileinputLocales.ja={startChat:"トーク開始",fillFormToStart:"以下の情報を入力してからトークを開始してください。",your_name:"名前",your_mail:"Eメール",invalid_access_token:"アクセストークンが無効です。新しい埋め込みコードを作成してください。",menu:"メニュー",bot_says_title:"より...",next:"次へ",next_wc:"次へ進む",ok:"OK",postal_code:"郵便番号",prefectures:"都道府県",municipality:"市区町村",street_number:"番地",building_name:"建物名",year:"年",month:"月",day:"日",hour:"時",minute:"分",please_select:"選択してください",email:"メールアドレス",password:"パスワード",select:"選択",required:"※必須",card_number:"カード番号",card_holder_name:"カード名義",card_expiry_date:"有効期限",card_security_code:"CVC",card_security_code2:"セキュリティーコード",select_file:"ファイルを選択",no_file_select:"選択されていません",uploading:"処理中",verification_incorrect:"認証コードが間違っています。",update:"更新",cart_empty:"買い物かごには商品が入っていません。",document_empty:"資料請求リストには資料が入っていません。",price_total:"ご請求額",unit_price:"単価：",amount:"金額：",quantity:"数量：",quantity_max:"数量：最大:max個まで",product_code:"商品番号：",payment_gateway_error:"決済ゲートウェイが登録されていません。",question_process_remain:"あと:num問",error:"エラー",webhook_efo_error:"データを送信できませんでした。再度確認して入力して下さい。",session_expire:'セッションがタイムアウトしました。<a class="chatbox_reload">こちら</a> をクリックして、再読み込みをお願いいたします',search_for_places:"スポットを検索",clear_message_confirm:"メッセージのスレッドを削除しますか？",chatbox_hide_time_confirm:"チャット枠を:hour時間内非表示しますか？",chatbox_hide_time_tooltip:"チャット枠を非表示",chatbox_close_confirm:"本当に閉じますか？",message_updating_confirm_label:"変更された入力内容が更新されていません。更新内容をご確認の上、送信してください。",delete:"削除",cancel:"キャンセル",send:"送信する",return_to_chat:"チャットに戻る",conversation_delete:"スレッドを削除",send_location:"位置情報を送信する",no_results_found:"見つかりません。",searching:"検索中",enter_more_charecters:"１文字以上入力してください",select_prefecture:"都道府県を選択してください",select_city:"市区郡を選択してください",select_stress:"町村を選択してください",select_line:"沿線を選択してください",select_station:"駅を選択してください",close:"閉じる",view_detail:"詳細を見る",postal_code_search_button:"〒検索はこちら",postal_code_search_label:"住所で郵便番号を検索する",postal_code_search_select_pref:"都道府県を選択してください",postal_code_search_select_city:"市区を選択してください",postal_code_search_select_street:"町村を選択してください",postal_code_search_select_scope_tw:"番地を選択してください",complete:"完了",order_processing:"ご注文処理中",disconnect_notice:'【お詫び】現在アクセス集中のため、つながりにくくなっております。<br/>しばらく時間を置いてからアクセスいただくか、下記からでもご購入いただけます。<br/>チャットで購入出来ない場合は<a data-href=":URL">コチラ</a>',disconnect_notice_keeper:'【お詫び】正常に処理ができませんでした。しばらくしてから再度アクセスいただくか、チャットでお手続きできない場合は<a data-href=":URL">コチラ</a>からお試しください。',error_navigation_timeout:"ページが応答しません。",error_data_empty:"データーがありません。",error_session_expired:"セッションの期限が切れました。",error_payment:"クレジットカード決済に失敗しました。",stripe_unexpected_error:"エラーが発生しました。再度お試しください。",stripe_incorrect_number:"カード番号が間違っています。",stripe_invalid_expiry_month:"有効期限の月が無効です。",stripe_invalid_expiry_year:"有効期限の年が無効です。",stripe_invalid_cvc:"セキュリティーコードが無効です。",stripe_invalid_request_error:"APIキーが無効です。",validate_require:"これらは必須項目です。",validate_url:"有効なURL形式で指定してください。",validate_url_secure:"HTTPSのURLを入力してください",validate_max:":max文字以下にしてください。",validate_min:":min文字以上にしてください。",validate_digit_length_max:":max桁以下にしてください。",validate_digit_length_min:":min桁以上にしてください。",validate_option_max:"この項目は、:max個以下選択してください。",validate_option_min:"この項目は、:min個以上選択してください。",validate_phone:"形式​が正しくありません。",validate_number:"数字を入力してください",validate_email:"有効なメールアドレス形式で指定してください。",validate_length:"Length must be :num characters",validate_postalcode_length:"郵便番号7桁の数字を指定してください。",validate_alpha:"アルファベッドのみ使用できます。",validate_alpha_dash:"英数字('A-Z','a-z','0-9')とハイフンと下線('-','_')が使用できます。",validate_alpha_num:"英数字('A-Z','a-z','0-9')が使用できます。",validate_katakana:"全角カタカナで入力してください。",validate_hiragana:"全角ひらがなで入力してください。",validate_zenkaku:"全角文字で入力してください。",validate_confirm:":attributeと:attribute確認が一致しません。",validate_postalcode_invalid:"無効な郵便番号です。",validate_postalcode_out_of_area:"対象エリア外です。",validate_credit_card:"クレジットカード番号は無効です。",validate_file_upload:"ファイルには:typeタイプのファイルを指定してください。</br>最大サイズは:size Mbです。",validate_file_upload_type:"ファイルには:typeタイプのファイルを指定してください。",validate_file_upload_size:"最大サイズは:size Mbです。",validate_require_one_field:"いずれか一つ以上の入力が必須です。",validate_require_document_item:"資料を一つ以上選択してください。",validate_require_product_item:"商品を一つ以上選択してください。",validate_credit_date:"有効期限に誤りがあるために、決済を完了できませんでした。",validate_box_file_upload:"ファイルには:typeタイプのファイルを指定してください。</br>最大サイズは:size Mbです。",box_unexpected_error:"ファイルのアップロード中に予期しないエラーが発生しました。 後でもう一度試してください。",veritrans_3g_unexpected_error:"Unexpected error while getting token. Please try again later!"}}(window.jQuery),function(e){"use strict";void 0===e.fn.fileinputLocales&&(e.fn.fileinputLocales={}),e.fn.fileinputLocales.vn={startChat:"Bắt đầu cuộc trò chuyện",fillFormToStart:"Vui lòng điền thông tin dưới đây để bắt đầu cuộc trò chuyện.",your_name:"Tên của bạn",your_mail:"Email của bạn",invalid_access_token:"Access Token không hợp lệ. Vui lòng tạo embed code mới.",menu:"Menu",bot_says_title:" nói...",next:"Tiếp tục",next_wc:"Tiếp tục",ok:"OK",postal_code:"Mã bưu điện",prefectures:"Tiểu bang/Tỉnh",municipality:"Thành Phố",street_number:"Số nhà",building_name:"Tên tòa nhà",year:"Năm",month:"Tháng",day:"Ngày",hour:"Giờ",minute:"Phút",please_select:"Vui lòng chọn",email:"Email",password:"Mật khẩu",select:"Chọn",required:"※Bắt buộc",card_number:"Số thẻ",card_holder_name:"Tên chủ thẻ",card_expiry_date:"Ngày hết hạn",card_security_code:"CVC",card_security_code2:"CVC",select_file:"Chọn file",no_file_select:"Chưa chọn file nào",uploading:"Uploading",verification_incorrect:"Mã kiểm tra không chính xác!",update:"Cập nhật",cart_empty:"Không có sản phẩm nào trong giỏ hàng.",document_empty:"Không có tài liệu nào trong danh sách.",price_total:"Tổng",unit_price:"Đơn giá:",amount:"Thành tiền:",quantity:"Số lượng:",quantity_max:"Số lượng: Tối đa :max",product_code:"Mã sản phẩm:",payment_gateway_error:"Bạn chưa đăng ký cổng thanh toán.",question_process_remain:"Còn :num câu",error:"Lỗi!",webhook_efo_error:"Đã có lỗi trong quá trình gửi dữ liệu.",session_expire:'Phiên làm việc đã hết, vui lòng click <a class="chatbox_reload">vào đây</a> để bắt đầu lại cuộc hội thoại.',search_for_places:"Tìm kiếm địa điểm",clear_message_confirm:"Bạn có thực sự muốn xóa nội dung hội thoại này?",chatbox_hide_time_confirm:"Bạn có thực sự muốn ẩn ô chat trong :hour giờ?",chatbox_hide_time_tooltip:"Ẩn khung chat",chatbox_close_confirm:"Bạn có thực sự muốn đóng hội thoại này?",message_updating_confirm_label:"Một số nội dung đã thay đổi. Vui lòng kiểm tra nội dung cập nhật trước khi gửi.",delete:"Xóa",cancel:"Hủy",send:"Gửi",return_to_chat:"Quay lại trò chuyện",conversation_delete:"Xóa nội dung hội thoại",send_location:"Send location",no_results_found:"Không có kết quả nào được tìm thấy",searching:"Đang tìm",enter_more_charecters:"Hãy nhập 1 hoặc nhiều ký tự",select_prefecture:"Vui lòng chọn một quận",select_city:"Vui lòng chọn thành phố",select_stress:"Vui lòng chọn thị trấn / làng",select_line:"Vui lòng chọn tuyến đường sắt",select_station:"Vui lòng chọn đài",close:"Đóng",view_detail:"Xem chi tiết",postal_code_search_button:"Tìm kiếm ở đây",postal_code_search_label:"Tìm mã bưu chính theo địa chỉ",postal_code_search_select_pref:"Vui lòng chọn một quận",postal_code_search_select_city:"Vui lòng chọn một thành phố",postal_code_search_select_street:"Vui lòng chọn một thị trấn",postal_code_search_select_scope_tw:"Vui lòng chọn một khu vực",complete:"Hoàn thành",order_processing:"Đang xử lý đơn hàng",disconnect_notice:'[Lời xin lỗi] Do sự tập trung truy cập hiện tại, rất khó để kết nối.<br/>Bạn có thể truy cập nó sau một thời gian, hoặc bạn có thể mua nó từ sau.<a data-href=":URL"> Nhấp vào đây </a>',disconnect_notice_keeper:'[Lời xin lỗi] Quá trình xử lý bị gián đoạn. Vui lòng thử lại sau hoặc <a data-href=":URL">Nhấp vào đây</a> nếu không thể kết thúc hội thoại.',error_navigation_timeout:"Trang không phản hồi.",error_data_empty:"Dữ liệu đầu vào trống.",error_session_expired:"Session hết hạn.",error_payment:"Thanh toán không thành công.",stripe_unexpected_error:"Có lỗi xảy ra, vui lòng thử lại sau.",stripe_incorrect_number:"Your card number is incorrect.",stripe_invalid_expiry_month:"Your card's expiration month is invalid.",stripe_invalid_expiry_year:"Your card's expiration year is invalid.",stripe_invalid_cvc:"Your card's security code is invalid.",stripe_invalid_request_error:"Invalid API Key provided.",validate_require:"Trường này không được bỏ trống.",validate_url:"Định dạng URL không hợp lệ.",validate_url_secure:"Phương thức URL phải là HTTPS.",validate_max:"Trường này không được lớn hơn :max ký tự.",validate_min:"Trường này phải có tối thiểu :min ký tự.",validate_digit_length_max:"Must be at least :max characters.",validate_digit_length_min:"Must be at least :min characters.",validate_option_max:"Trường này không được chọn lớn hơn :max phần tử.",validate_option_min:"Trường này phải chọn thiểu :min phần tử.",validate_phone:"Số điện thoại không hợp lệ.",validate_number:"Trường này phải là kiểu số.",validate_email:"Địa chỉ email không hợp lệ",validate_length:"Độ dài phải là :num ký tự",validate_postalcode_length:"Vui lòng nhập mã bưu điện 7 chữ số",validate_alpha:"Trường này chỉ có thể nhập các chữ cái.",validate_alpha_dash:"Trường này chỉ có thể nhập chữ cái, số và dấu gạch ngang.",validate_alpha_num:"Trường này chỉ có thể nhập chữ cái và số.",validate_katakana:"Trường này chỉ có thể nhập katakana.",validate_hiragana:"Trường này chỉ có thể nhập hiragana.",validate_zenkaku:"Trường này chỉ có thể nhập full-width character.",validate_confirm:"Giá trị xác nhận trong trường :attribute không khớp.",validate_postalcode_invalid:"Mã zip code không hợp lệ.",validate_postalcode_out_of_area:"Tỉnh thành nằm ngoài đối tượng.",validate_credit_card:"Số thẻ không hợp lệ với loại thẻ đã chọn.",validate_file_upload:"File phải thuộc định dạng: :type. </br>Không lớn hơn: :size Mb.",validate_file_upload_type:"File phải thuộc định dạng sau: :type.",validate_file_upload_size:"Dung lượng tối đa :size Mb.",validate_require_one_field:"Phải nhập ít nhất 1 mục",validate_require_document_item:"Hãy chọn ít nhất một tài liệu để tiếp tục.",validate_require_product_item:"Hãy chọn ít nhất một sản phẩm để tiếp tục.",validate_credit_date:"Ngày hết hạn không chính xác",validate_box_file_upload:"File phải thuộc định dạng: :type. </br>Không lớn hơn: :size Mb.",box_unexpected_error:"Có lỗi xảy ra, vui lòng thử lại sau.",veritrans_3g_unexpected_error:"Có lỗi xảy ra, vui lòng thử lại sau."}}(window.jQuery),function(e){"use strict";void 0===e.fn.fileinputLocales&&(e.fn.fileinputLocales={}),e.fn.fileinputLocales.th={startChat:"เริ่มต้นการสนทนา",fillFormToStart:"โปรดกรอกข้อมูลด้านล่างเพื่อเริ่มการสนทนา",your_name:"ชื่อของคุณ",your_mail:"อีเมลของคุณ",invalid_access_token:"Token การเข้าถึงไม่ถูกต้อง.โปรดสร้างโค้ดสำหรับฝังใหม่",menu:"เมนู",bot_says_title:"กล่าวว่า...",next:"Next",next_wc:"Next",ok:"OK",postal_code:"Postal Code",prefectures:"Prefectures",municipality:"Municipality",street_number:"Street number",building_name:"Building name",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",please_select:"Please Select",email:"Email",password:"Password",select:"Select",required:"※Required",card_number:"Card number",card_holder_name:"Card holder's name",card_expiry_date:"Card expiry date",card_security_code:"CVC",card_security_code2:"CVC",select_file:"Select file",no_file_select:"No file selected",uploading:"Uploading",verification_incorrect:"Incorrect verification code!",update:"Update",cart_empty:"Your shopping cart is empty.",document_empty:"Document request list is empty.",price_total:"Total",unit_price:"Unit price:",amount:"Amount:",quantity:"Quantity:",quantity_max:"Quantity: Maximum up to :max",product_code:"Product code:",payment_gateway_error:"You haven't yet registered your payment gateway.",question_process_remain:":num left",error:"Error!",webhook_efo_error:"There was an error trying to send your data. Please try again later.",session_expire:'Your session has expired. Please click <a class="chatbox_reload">here</a> to refresh conversation.',search_for_places:"Search for places",clear_message_confirm:"Are you sure you want to delete this thread?",chatbox_hide_time_confirm:"Are you sure you want to hide this chat box for :hour hours?",chatbox_hide_time_tooltip:"Hide chatbox",chatbox_close_confirm:"Are you sure you want close this chat box?",message_updating_confirm_label:"The changed input contents have not been updated. Please check the updated contents before sending.",delete:"Delete",cancel:"Cancel",send:"Send",return_to_chat:"Return to chat",conversation_delete:"Delete conversation",send_location:"Send location",no_results_found:"No results found",searching:"Searching",enter_more_charecters:"Please enter 1 or more characters",select_prefecture:"Please select the prefecture",select_city:"Please select city county",select_stress:"Please select a town / village",select_line:"Please select a railway line",select_station:"Please select a station",close:"Close",view_detail:"View the details",postal_code_search_button:"Search here",postal_code_search_label:"Search postal code by address",postal_code_search_select_pref:"Please select a prefecture",postal_code_search_select_city:"Please select a city",postal_code_search_select_street:"Please select a town",complete:"Complete",order_processing:"Processing",disconnect_notice:"[Apology] Due to the current concentration of access, it is difficult to connect.<br/>You can access it after a while, or you can purchase it from the following.<br/>If you can not purchase by chat <a data-href=':URL'>Click here</a>",error_navigation_timeout:"The page is not responding.",error_data_empty:"Data is empty.",error_session_expired:"Session expired.",error_payment:"Payment not success.",stripe_unexpected_error:"Unexpected error while getting token. Please try again later!",stripe_incorrect_number:"Your card number is incorrect.",stripe_invalid_expiry_month:"Your card's expiration month is invalid.",stripe_invalid_expiry_year:"Your card's expiration year is invalid.",stripe_invalid_cvc:"Your card's security code is invalid.",stripe_invalid_request_error:"Invalid API Key provided.",validate_require:"Validation is required.",validate_url:"The attribute must be a valid URL.",validate_url_secure:"Please enter the URL of HTTPS.",validate_max:"Only up to :max characters.",validate_min:"Must be at least :min characters.",validate_digit_length_max:"Only up to :max digits.",validate_digit_length_min:"Must be at least :min digits.",validate_option_max:"The attribute may not have more than :max items.",validate_option_min:"The attribute must have at least :min items.",validate_phone:"Invalid phone number.",validate_number:"Enter number only.",validate_email:"The attribute must be a valid email address.",validate_length:"Length must be :num characters",validate_postalcode_length:"Please specify a 7-digit postal code",validate_alpha:"The attribute may only contain letters.",validate_alpha_dash:"The attribute may only contain letters, numbers, and dashes.",validate_alpha_num:"The attribute may only contain letters and numbers.",validate_katakana:"The attribute may only contain full-width katakana.",validate_hiragana:"The attribute may only contain full-width hiragana.",validate_zenkaku:"The attribute may only contain full-width character.",validate_confirm:"The :attribute confirmation does not match.",validate_postalcode_invalid:"Invalid zip code.",validate_postalcode_out_of_area:"Out of target area.",validate_credit_card:"Card number is invalid for the selected card type.",validate_file_upload:"The file must be a file of type: :type. </br>Max size: :size Mb.",validate_file_upload_type:"The file must be a file of type: :type.",validate_file_upload_size:"Max size: :size Mb.",validate_require_one_field:"Please input at least 1 field.",validate_require_document_item:"Please select at least one document.",validate_require_product_item:"Please select at least one product.",validate_credit_date:"Expiration date is incorrect",validate_box_file_upload:"The file must be a file of type: :type. </br>Max size: :size Mb.",box_unexpected_error:"Unexpected error while uploading file. Please try again later!",veritrans_3g_unexpected_error:"Unexpected error while getting token. Please try again later!"}}(window.jQuery),function(e){"use strict";void 0===e.fn.fileinputLocales&&(e.fn.fileinputLocales={}),e.fn.fileinputLocales["zh-tw"]={startChat:"Start chat",fillFormToStart:"Please fill out the form below to start chatting with the next available agent.",your_name:"Your name",your_mail:"Your email",invalid_access_token:"Invalid Access Token. Please create a new embed code.",menu:"Menu",bot_says_title:" says...",next:"Next",next_wc:"Next",ok:"OK",postal_code:"Postal Code",prefectures:"Prefectures",municipality:"Municipality",street_number:"Street number",building_name:"Building name",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",please_select:"Please Select",email:"Email",password:"Password",select:"Select",required:"※Required",card_number:"Card number",card_holder_name:"Card holder's name",card_expiry_date:"Card expiry date",card_security_code:"CVC",card_security_code2:"CVC",select_file:"Select file",no_file_select:"No file selected",uploading:"Uploading",verification_incorrect:"Incorrect verification code!",update:"Update",cart_empty:"Your shopping cart is empty.",document_empty:"Document request list is empty.",price_total:"Total",unit_price:"Unit price:",amount:"Amount:",quantity:"Quantity:",quantity_max:"Quantity: Maximum up to :max",product_code:"Product code:",payment_gateway_error:"You haven't yet registered your payment gateway.",question_process_remain:":num left",error:"Error!",webhook_efo_error:"There was an error trying to send your data. Please try again later.",session_expire:'Your session has expired. Please click <a class="chatbox_reload">here</a> to refresh conversation.',search_for_places:"Search for places",clear_message_confirm:"Are you sure you want to delete this thread?",chatbox_hide_time_confirm:"Are you sure you want to hide this chat box for :hour hours?",chatbox_hide_time_tooltip:"Hide chatbox",chatbox_close_confirm:"Are you sure you want close this chat box?",message_updating_confirm_label:"The changed input contents have not been updated. Please check the updated contents before sending.",delete:"Delete",cancel:"Cancel",send:"Send",return_to_chat:"Return to chat",conversation_delete:"Delete conversation",send_location:"Send location",no_results_found:"No results found",searching:"Searching",enter_more_charecters:"Please enter 1 or more characters",select_prefecture:"Please select the prefecture",select_city:"Please select city county",select_stress:"Please select a town / village",select_line:"Please select a railway line",select_station:"Please select a station",close:"Close",view_detail:"View the details",postal_code_search_button:"Search here",postal_code_search_label:"Search postal code by address",postal_code_search_select_pref:"Please select a prefecture",postal_code_search_select_city:"Please select a city",postal_code_search_select_street:"Please select a town",postal_code_search_select_scope_tw:"Please search Street number",complete:"Complete",order_processing:"Processing",disconnect_notice:"[Apology] Due to the current concentration of access, it is difficult to connect.<br/>You can access it after a while, or you can purchase it from the following.<br/>If you can not purchase by chat <a data-href=':URL'>Click here</a>",error_navigation_timeout:"The page is not responding.",error_data_empty:"Data is empty.",error_session_expired:"Session expired.",error_payment:"Payment not success.",stripe_unexpected_error:"Unexpected error while getting token. Please try again later!",stripe_incorrect_number:"Your card number is incorrect.",stripe_invalid_expiry_month:"Your card's expiration month is invalid.",stripe_invalid_expiry_year:"Your card's expiration year is invalid.",stripe_invalid_cvc:"Your card's security code is invalid.",stripe_invalid_request_error:"Invalid API Key provided.",validate_require:"Validation is required.",validate_url:"The attribute must be a valid URL.",validate_url_secure:"Please enter the URL of HTTPS.",validate_max:"Only up to :max characters.",validate_min:"Must be at least :min characters.",validate_digit_length_max:"Only up to :max digits.",validate_digit_length_min:"Must be at least :min digits.",validate_option_max:"The attribute may not have more than :max items.",validate_option_min:"The attribute must have at least :min items.",validate_phone:"Invalid phone number.",validate_number:"Enter number only.",validate_email:"The attribute must be a valid email address.",validate_length:"Length must be :num characters",validate_postalcode_length:"Please specify a 7-digit postal code",validate_alpha:"The attribute may only contain letters.",validate_alpha_dash:"The attribute may only contain letters, numbers, and dashes.",validate_alpha_num:"The attribute may only contain letters and numbers.",validate_katakana:"The attribute may only contain full-width katakana.",validate_hiragana:"The attribute may only contain full-width hiragana.",validate_zenkaku:"The attribute may only contain full-width character.",validate_confirm:"The :attribute confirmation does not match.",validate_postalcode_invalid:"Invalid zip code.",validate_postalcode_out_of_area:"Out of target area.",validate_credit_card:"Card number is invalid for the selected card type.",validate_file_upload:"The file must be a file of type: :type. </br>Max size: :size Mb.",validate_file_upload_type:"The file must be a file of type: :type.",validate_file_upload_size:"Max size: :size Mb.",validate_require_one_field:"Please input at least 1 field.",validate_require_document_item:"Please select at least one document.",validate_require_product_item:"Please select at least one product.",validate_credit_date:"Expiration date is incorrect",validate_box_file_upload:"The file must be a file of type: :type. </br>Max size: :size Mb.",box_unexpected_error:"Unexpected error while uploading file. Please try again later!",veritrans_3g_unexpected_error:"Unexpected error while getting token. Please try again later!"}}(window.jQuery),$(function(){function e(e,t){return e&&Array.isArray(t)&&t[0]&&(t[0].type===bn.set_variable||t[0].type===wn.set_cv_flg_variable)}function t(e,t){return e&&Array.isArray(t)&&t[0]&&t[0].type===bn.deactivate_previous_blocks}function n(e){e&&e.bid&&e.bid.length&&function(e){window!=window.parent&&e&&(e.connect_page_id=Vt,e.user_id=Gt,parent.postMessage(e,"*"))}({bid:e.bid,focus_block_message_flg:!0})}function a(){void 0==_a.id&&_a.open()}function r(e){if(Vt=T(Vt)?S("connect_page_id"):Vt){if(!Gt||void 0!=e&&e){if(!Gt){var t=new Date;Gt=t.getTime()+function(e){var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";void 0==e&&(e=15);for(var i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}(),!0,lt&&(st=function(){var e=CryptoJS.lib.WordArray.random(32);return CryptoJS.enc.Hex.stringify(e)}());var n={};n[nn]=Gt,h(n)}ze();var i={user_id:Gt,connect_page_id:Vt,efo_ab_test_id:Jt,efo_ab_type:Xt,efo_ab_scenario:Kt,preview_scenario_id:vt};Yi.isShowPopup(Hn.new_user)&&setTimeout(function(){Bi.init(Bi.list_type.startup_popup)},500),function(e){var t=new UAParser;t.setUA(nt);var n=t.getResult(),i=navigator.language||navigator.userLanguage,a=Ni;lt&&!T(st)&&(a=w(Ni));var r={data:e,userAgent:n,userLang:i,client_title:Ki,current_url:Ji.href,current_url_param:Ji.param,user_referer_firstopen:dn.user_referer_current,user_referer_current:dn.user_referer_current,client_geo:Xi,user_id:Gt,encrypt_key:st,encrypt_flg:lt,line_profile:Di.profile,facebook_profile:Mi,client_send_variable:a,webchat_user_id:ft,webchat_connect_page_id:mt};Gi.status&&(r.bc_session_id=ln||Gt),T(Qt)||(r.preview_flg=Qt),je("efo_user_conversation",r)}(i)}else{var a={user_id:Gt,connect_page_id:Vt,current_url:Ji.href,restart_change_ref_flg:Ci,remessage_change_ref_flg:Ti,efo_ab_test_id:Jt,efo_ab_type:Xt,efo_ab_scenario:Kt};lt&&(a.encrypt_flg=lt),Yi.isShowPopup(Hn.return_user)&&setTimeout(function(){Bi.init(Bi.list_type.startup_popup)},500),je("efo_user_start",a),_()}k({wc_user_init:1})}}function o(e){f(e=void 0!=e&&e.length?e:[]),si=[],Pe(),Ae(),Pt.clearDisableForeverList(),Ii.clearStopScrollMessageId(),Ii.clearScrollPositionMessageId(),r(!0)}function s(n,i,a,r,o){if(void 0!=r&&r&&!T(a)&&Gt!=a)return!1;if(void 0!=n){var s=!1,d=!1,u=n._id;if(T(n.message)||!lt||T(st)||(n.message=b(n.message)||[]),isChurnPreventionMessage(n,n.message))return;if(e(n,n.message))return;if(t(n,n.message))return;if(T(n.disable_block_flg)||1!=n.disable_block_flg||Pt.addDisableForeverList(u),!T(n.message)&&!T(n.type)&&!$('#wc-message-group-content .chat-body[data-message_id="'+u+'"]').length){var p=0,_=0,h=0,f=0,m=0,g=0,v=0,y=0,w=!1,x=!1,C=!1;!T(n.input_requiment_flg)&&n.input_requiment_flg&&mn.push(u);var D,S=$(".template_message"),M=!1;if(n.type==yn.bot){D=S.find(".chat-left").clone();var E=!0;T(n.message[0])||!T(n.message[0].type)==bn.script||(E=!1),E&&D.find(".chat-avatar").css("opacity",F(yn.bot)?2:0),$(n.message).each(function(e,t){$(t).each(function(e,t){var n,i=t.type;switch(i){case bn.text:if(T(t.content))return void(s=!0);(n=S.find(".message_type p.text_group").clone()).html(t.content);break;case bn.file:T(t.file_type)||T(t.url)||("image"==t.file_type?(n=S.find(".message_type .image_group").clone()).find("img").attr("src",t.url):"video"==t.file_type?(n=S.find(".message_type .video_group").clone()).find("video").attr("src",t.url):"file"==t.file_type&&(n=S.find(".message_type .document_group").clone()).find("a").attr("href",t.url));break;case bn.script:if((void 0==r||0==r)&&!T(t.content))k({script_run:{content:t.content}});return void(s=!0);case bn.form_assist:if(void 0==r||0==r){var a=generateFormAssistScript(t);a&&k({script_run:{content:a}})}return void(s=!0);case bn.button_link:if(n=S.find(".message_type .button_link_group").clone(),!T(t.list)&&t.list.length)$(t.list).each(function(e,t){if(!T(t.type))if("label"==t.type){if(!T(t.title)){var i=S.find(".message_type .button_link_template .button_link_label").clone();i.html(t.title),n.find(".button_link_container").append(i)}}else if("link"==t.type&&!T(t.url)){var a=S.find(".message_type .button_link_template .button_link_button_box").clone();a.find("button").attr("data-url",t.url),T(t.title)||a.find("button").html(t.title),n.find(".button_link_container").append(a)}});else{var o=zi.getByCode("no_results_found","No results found");T(t.error_message)||(o=t.error_message),je("save_conversation_error_log",{log_message_id:u,error_message:o}),Te(o,n,"not_remove",!1,!1),n.find(".button_link_container").remove()}break;case bn.button:n=S.find(".message_type .button_template .button_group").clone(),!T(t.list)&&t.list.length&&$(t.list).each(function(e,t){if(!T(t.type)&&"uri"==t.type&&!T(t.label)){var i=S.find(".message_type .button_template .button_item").clone();T(t.uri)||i.find("button").attr("data-url",t.uri),T(t.label)||i.find("button").html(t.label),n.find(".button_container").append(i)}})}D.attr("data-message_type",i),n&&(n.attr("data-message_type",i),D.find(".chat-body").append(n)),void 0!=r&&r||T(t.not_scroll_flg)||1!=t.not_scroll_flg||Ii.initStopScrollMessageId(u),Ii.setScrollPositionMessage(u,t.message_scroll_position,r)})})}else d=!0,(D=S.find(".chat-right").clone()).find(".chat-avatar").css("opacity",F(yn.user)?1:0),$(n.message).each(function(e,t){$(t).each(function(t,i){var a,r=i.type;switch(r){case wn.text:(a=S.find(".message_type div.text_group").clone()).find(".option_label").html(i.content);break;case wn.input:if(T(i.template_type))return void(s=!0);(a=S.find(".message_type .input_group").clone()).attr("data-input_type",i.template_type);var o=a.find(".title");if(!T(i.title)||!T(i.required_flg)&&i.required_flg){var b=Lt;T(i.required_text)||(b=b.replace(/(>.*<)/,">"+i.required_text+"<"));var k=(i.title?i.title:"")+(i.required_flg?" "+b:"");o.html(k)}else o.remove();if(!T(i.list)&&i.list.length){var E;i.list.length<=1?E=S.find(".message_type .input_template .input_one").clone():i.template_type==kn.tel&&i.tel_input_type==$n.hyphen?E=S.find(".message_type .input_template .three_input_one_row").clone():i.template_type!=kn.password_confirm&&i.template_type!=kn.email_confirm?Ke("cocone")?(E=S.find(".message_type .input_template .two_input_label_one_row").clone(),!T(i.title)||!T(i.required_flg)&&i.required_flg?(o.remove(),k=k.split("|"),E.find(".title").eq(0).length&&!T(k[0])&&E.find(".title").eq(0).html(k[0]),E.find(".title").eq(1).length&&!T(k[1])&&E.find(".title").eq(1).html(k[1])):(E.find(".title_box").remove(),E.find(".content_box").removeClass("col-xs-4").addClass("col-xs-6"))):E=S.find(".message_type .input_template .two_input_one_row").clone():E=S.find(".message_type .input_template .input_two_row").clone(),a.find(".input_container").append(E),!T(i.required_flg)&&i.required_flg&&(w=!0,i.template_type!=kn.tel&&a.find("input").addClass(hi.validate_require));var A=a.find("input.content");switch(i.template_type){case kn.text:if(A.attr("type","text"),!T(i.validation_type))switch(i.validation_type){case Cn.only_alpha:A.addClass(hi.validate_alpha);break;case Cn.alpha_dash:A.addClass(hi.validate_alpha_dash);break;case Cn.alpha_num:A.addClass(hi.validate_alpha_num);break;case Cn.higarana_full_width:A.addClass(hi.validate_hiragana);break;case Cn.katakana_full_width:A.addClass(hi.validate_katakana),Tn.clear_space_flg&&A.addClass("is_not_space");break;case Cn.zenkaku_full_width:A.addClass(hi.validate_zenkaku);break;case Cn.only_num:A.attr("type","tel"),A.addClass(hi.validate_number)}break;case kn.url:A.attr("type","url"),A.addClass(hi.validate_url);break;case kn.email:A.attr("type","email"),A.addClass("email"),A.addClass(hi.validate_email);break;case kn.tel:i.tel_input_type==$n.hyphen?(E.addClass("tel_hyphen_box"),E.addClass(hi.validate_phone),E.addClass(hi.validate_digit_length_min+" minimum-digit-length-10"),E.addClass(hi.validate_digit_length_max+" maximum-digit-length-11"),!T(i.required_flg)&&i.required_flg&&(a.find(".input_container").addClass(hi.validate_require),E.addClass(hi.validate_require))):(A.attr("type","tel"),A.addClass(hi.validate_phone),A.addClass(hi.validate_digit_length_min+" minimum-digit-length-10"),A.addClass(hi.validate_digit_length_max+" maximum-digit-length-11"),!T(i.required_flg)&&i.required_flg&&a.find("input").addClass(hi.validate_require));break;case kn.password:A.attr("type","password"),A.addClass(hi.validate_alpha_num);break;case kn.password_confirm:a.find(".input_container").addClass("confirm_box"),A.attr("type","password"),A.addClass(hi.validate_alpha_num),A.first().addClass("password"),A.last().addClass(hi.validate_confirm);break;case kn.email_confirm:a.find(".input_container").addClass("confirm_box"),A.attr("type","email"),A.addClass(hi.validate_email),A.first().addClass("email"),A.last().addClass(hi.validate_confirm+" email")}if(!T(i.max_length)||!T(i.min_length)){var O=A;i.template_type==kn.password_confirm&&(O=A.first()),T(i.max_length)||O.addClass(hi.validate_max+" maximum-length-"+i.max_length),T(i.min_length)||O.addClass(hi.validate_min+" minimum-length-"+i.min_length)}$(i.list).each(function(e,t){T(t.placeholder)||T(A.eq(e))||A.eq(e).attr("placeholder",t.placeholder)})}if(!T(i.comment)){a.find(".input_box").hasClass("input_one")&&a.find(".input_box.input_one .input_content").addClass("col-xs-9");var F=S.find(".message_type .input_template .input_label").clone();F.html(i.comment),a.find(".input_box").last().append(F)}break;case wn.textarea:var L=(a=S.find(".message_type .textarea_group").clone()).find(".title"),I=a.find("textarea.content");if(!T(i.required_flg)&&i.required_flg&&(w=!0,I.addClass(hi.validate_require)),!T(i.title)||!T(i.required_flg)&&i.required_flg){b=Lt;T(i.required_text)||(b=b.replace(/(>.*<)/,">"+i.required_text+"<"));k=(i.title?i.title:"")+(i.required_flg?" "+b:"");L.html(k)}else L.remove();T(i.template_type)||i.template_type==xn.readonly?(a.addClass("readonly"),a.find(".textarea_content").addClass("readonly"),I.addClass("readonly"),I.attr("readonly","readonly"),T(i.placeholder)||I.val(i.placeholder)):(T(i.placeholder)||I.attr("placeholder",i.placeholder),T(i.max_length)&&T(i.min_length)||(T(i.max_length)||I.addClass(hi.validate_max+" maximum-length-"+i.max_length),T(i.min_length)||I.addClass(hi.validate_min+" minimum-length-"+i.min_length)));break;case wn.radio:var B=!1,H=!0,R=(a=S.find(".message_type .radio_group").clone()).find(".title");if(!T(i.title)||!T(i.required_flg)&&i.required_flg){b=Lt;T(i.required_text)||(b=b.replace(/(>.*<)/,">"+i.required_text+"<"));k=(i.title?i.title:"")+(i.required_flg?" "+b:"");R.html(k)}else R.remove();var z=!1,W=u+"_radio_"+p;if(!T(i.variable_id)&&!T(En.variable_id)&&En.variable_id.variable_id==i.variable_id)if(fe(i.variable_id).length<=0){z=!0;var V=En.variable_id;i.list=V.list,i.template_type=V.template_type,je("efo_user_send_radio_data",{connect_page_id:Vt,log_message_id:u,message_index:e,data:{list:V.list,template_type:V.template_type}})}if(!T(i.list)&&i.list.length)$(i.list).each(function(e,t){var n=S.find(".message_type .radio_template .radio_option").clone();if(i.template_type==Mn.image_radio){var r=t.length;r<=1&&z&&(r=2),$(t).each(function(t,o){if(!T(o.image_url)){var s=S.find(".message_type .radio_template .radio_img_item").clone(),l=s.find("input.option_input"),c=W+"_"+e+t,d=T(o.text)?T(o.comment)?"":o.comment:o.text;l.attr("id",c),l.val(e+","+t),l.attr("data-label",d),l.attr("data-value",o.value),d&&s.find(".option_label").html(o.text),void 0===i.answer&&!T(o.default_select_flg)&&o.default_select_flg&&(B=!0,l.addClass("default_select")),s.find("img").attr("src",o.image_url),s.find(".option_label, .image_box").attr("for",c),r>=3?s.addClass("col-xs-4"):r>=2?s.addClass("col-xs-6"):s.addClass("col-xs-12"),n.append(s),a.find(".radio_container").addClass("radio_image_container")}})}else{var o=S.find(".message_type .radio_template .radio_item").clone(),s=W+"_"+e,l="string"==typeof t?t:T(t.text)?"":t.text;o.find("input.option_input").attr("id",s),o.find("input.option_input").attr("data-label",l),o.find("input.option_input").attr("data-value",t.value),o.find("input.option_input").val(e),o.find(".option_label").html(l),o.find(".option_label").attr("for",s),void 0===i.answer&&!T(t.default_select_flg)&&t.default_select_flg&&(B=!0,o.find("input.option_input").addClass("default_select")),n.append(o),i.template_type==Mn.custom_type&&a.find(".radio_container").addClass("radio_custom_type")}a.find(".radio_container").append(n)});else{H=!1;var G=zi.getByCode("no_results_found","No results found");T(i.error_message)||(G=i.error_message),je("save_conversation_error_log",{log_message_id:u,error_message:G}),Te(G,a,"not_remove",!1,!1)}T(i.variable_id)||c(i.variable_id,a),!T(i.name)&&i.name?(a.find(".radio_img_item input.option_input, .radio_item input.option_input").attr("name",i.name),Je(i.name)):a.find(".radio_img_item input.option_input, .radio_item input.option_input").attr("name",W),B&&a.attr("data-next_message_remove_first_onload",1),H&&be(n.message)?(a.addClass("is_next_message"),!B&&T(i.answer)&&(d=!1)):!T(i.required_flg)&&i.required_flg&&(w=!0,a.find(".radio_container").addClass(hi.validate_require)),p++;break;case wn.checkbox:var J=(a=S.find(".message_type .checkbox_group").clone()).find(".checkbox_container"),X=a.find(".title");if(!T(i.title)||!T(i.required_flg)&&i.required_flg){b=Lt;T(i.required_text)||(b=b.replace(/(>.*<)/,">"+i.required_text+"<"));k=(i.title?i.title:"")+(i.required_flg?" "+b:"");X.html(k)}else X.remove();if(!T(i.required_flg)&&i.required_flg&&(w=!0,J.addClass(hi.validate_require)),i&&i.check_all_flg&&1==i.check_all_flg&&void 0===i.answer&&J.attr("data-select_all",1),!T(i.list)&&i.list.length){var Z=0;$(i.list).each(function(e,t){var n=S.find(".message_type .checkbox_template .checkbox_option").clone();if(i.template_type==An.image_checkbox){var a=t.length;Z+=a,$(t).each(function(t,i){if(!T(i.image_url)){var r=S.find(".message_type .checkbox_template .checkbox_img_item").clone(),o=u+"_checkbox_"+_,s=o+"_"+e+t,l=T(i.text)?T(i.comment)?"":i.comment:i.text;r.find("input.option_input").attr("name",o),r.find("input.option_input").attr("id",s),r.find("input.option_input").val(e+","+t),l&&r.find(".option_label").html(i.text),r.find("img").attr("src",i.image_url),r.find(".option_label, .image_box").attr("for",s),a>=3?r.addClass("col-xs-4"):a>=2?r.addClass("col-xs-6"):r.addClass("col-xs-12"),n.append(r),J.addClass("checkbox_image_container")}})}else{Z=i.list.length;var r=S.find(".message_type .checkbox_template .checkbox_item").clone(),o=u+"_checkbox_"+_,s=o+"_"+e,l="string"==typeof t?t:T(t.text)?"":t.text;r.find("input.option_input").attr("name",o),r.find("input.option_input").attr("id",s),r.find("input.option_input").val(e),r.find(".option_label").html(l),r.find(".option_label").attr("for",s),n.append(r)}J.append(n)});var ie=function(e,t,n){var i=0,a=0;return!T(e)&&!isNaN(e)&&parseInt(e)>0&&(i=parseInt(e)),!T(t)&&!isNaN(t)&&parseInt(t)>0&&(a=parseInt(t)),n=!T(n)&&!isNaN(n)&&parseInt(n)>0?parseInt(n):0,a&&n&&a>n&&(a=n),i&&n&&i>n&&(i=n),i&&a&&i>=a&&(a=0),{min:i,max:a}}(i.option_select_min,i.option_select_max,Z);ie.min>0&&(J.addClass(hi.validate_option_min+" minimum-option-"+ie.min),J.hasClass(hi.validate_require)||J.addClass(hi.validate_require)),ie.max>0&&(J.addClass(hi.validate_option_max+" maximum-option-"+ie.max),J.attr("data-select_max",ie.max))}else{G=zi.getByCode("no_results_found","No results found");T(i.error_message)||(G=i.error_message),je("save_conversation_error_log",{log_message_id:u,error_message:G}),Te(G,a,"not_remove",!1,!1)}_++;break;case wn.postal_code:a=S.find(".message_type .postalcode_group").clone();var ae=i.country?i.country:tt;if(a.attr("data-country",ae),!T(i.list)){var re=[];!T(i.required_all_flg)&&i.required_all_flg?(w=!0,re=["postal_code_split","postal_code","prefectures","dropdown_prefectures","municipality","street_number"]):!T(i.required_flg)&&i.required_flg&&(w=!0,re=["postal_code_split","postal_code"]);var oe=!(void 0==i.split_post_code_flg||!i.split_post_code_flg);$(i.list).each(function(e,t){if(!T(t.type)){var n=t.type;T(i.pref_use_pulldown)||1!=i.pref_use_pulldown||"prefectures"!==t.type||(n="dropdown_prefectures"),oe&&"postal_code"===t.type&&(n="postal_code_split");var r=S.find(".message_type .postalcode_template ."+n).clone();if(!T(r)){if("dropdown_prefectures"!==n||T(i.list_prefectures)||!T(i.list_prefectures)&&i.list_prefectures.length&&$(i.list_prefectures).each(function(e,t){var n=T(t.text)?"":t.text;if(!T(n)){var i='<option value="'+(T(t.value)?e:t.value)+'">'+n+"</option>";r.find("select")&&r.find("select").append(i)}}),["prefectures","dropdown_prefectures","municipality"].indexOf(t.type)>-1&&r.find("select.content, input.content").addClass(hi.validate_zenkaku),"-1"!=re.indexOf(n)){var o=r.find(".title").html(),s=Lt;T(i.required_text)||(s=s.replace(/(>.*<)/,">"+i.required_text+"<")),o=o+" "+s,r.find(".title").html(o),r.find("select.content, input.content").addClass(hi.validate_require)}oe&&"postal_code"===t.type?(r.find('input[name="postal_code_1"]').attr("placeholder",t.placeholder[0]),r.find('input[name="postal_code_2"]').attr("placeholder",t.placeholder[1])):r.find("input.content").attr("placeholder",t.placeholder),a.append(r)}"postal_code"==t.type&&(Xn.server_response_nearest=null)}}),a.find(".postal_code input").addClass(hi.validate_number),ae==tt?(a.find(".postal_code input").addClass(hi.validate_postalcode_length+" validate-postalcode-length-7"),a.find(".postal_code input").attr("maxlength",7),a.find('.postal_code_split input[name="postal_code_2"]').addClass(hi.validate_postalcode_length+" validate-postalcode-length-4"),a.find('.postal_code_split input[name="postal_code_2"]').attr("maxlength",4)):(a.find(".postal_code input").addClass(hi.validate_postalcode_length+" validate-postalcode-length-6"),a.find(".postal_code input").attr("maxlength",6),a.find('.postal_code_split input[name="postal_code_2"]').addClass(hi.validate_postalcode_length+" validate-postalcode-length-3"),a.find('.postal_code_split input[name="postal_code_2"]').attr("maxlength",3)),a.find(".postal_code_split input").addClass(hi.validate_number),a.find('.postal_code_split input[name="postal_code_1"]').addClass(hi.validate_postalcode_length+" validate-postalcode-length-3"),a.find('.postal_code_split input[name="postal_code_1"]').attr("maxlength",3),Xn.server_response_nearest&&(i.answer=Xn.server_response_nearest),T(i.pref_avaiable_list)||(Xn.available_list[u]={available_list:i.pref_avaiable_list,error_message:T(i.error_message)?"":i.error_message})}break;case wn.terms_of_use:if(a=S.find(".message_type .terms_use_group").clone(),!T(i.title)||!T(i.required_flg)&&i.required_flg){var se=S.find(".message_type .terms_use_template .terms_use_label").clone();b=Lt;T(i.required_text)||(b=b.replace(/(>.*<)/,">"+i.required_text+"<"));k=i.title+(i.required_flg?" "+b:"");se.html(k),a.append(se)}var le;switch(i.template_type){case Dn.only_link:T(i.list)||$(i.list).each(function(e,t){le=S.find(".message_type .terms_use_template .link_box").clone(),T(t.link)||(T(t.link_text)?le.find(".content").html(t.link):le.find(".content").html(t.link_text),le.find(".content").attr("href",t.link)),T(t.link_first_title)||le.find(".first_title").html(t.link_first_title),T(t.link_last_title)||le.find(".last_title").html(t.link_last_title),a.append(le)});break;default:T(i.content)||((le=S.find(".message_type .terms_use_template .content_box").clone()).find(".content").html(i.content),a.append(le))}var ce=!0;if(Ke("jelly_bean")&&(ce=!1),ce){!T(i.required_flg)&&i.required_flg&&(w=!0);var de=S.find(".message_type .terms_use_template .input_box").clone(),ue=u+"_terms_use_"+h,pe=u+"_terms_use_"+h;T(i.text_confirm)||(de.find(".option_label").html(i.text_confirm),de.find(".option_label").attr("for",pe)),de.find("input.option_input").addClass(hi.validate_require),de.find("input.option_input").attr("name",ue),de.find("input.option_input").attr("id",pe),a.append(de)}h++;break;case wn.pulldown:if((a=S.find(".message_type .pulldown_group").clone()).attr("data-template_type",i.template_type),T(i.variable_id)||c(i.variable_id,a),!T(i.template_type))switch(i.template_type){case Sn.birthday_ynj:var _e=S.find(".message_type .pulldown_template .birthday_y_n_j_box").clone();l(a,i,_e);break;case Sn.birthday_ynj_2:_e=S.find(".message_type .pulldown_template .birthday_y_n_j_2_box").clone();l(a,i,_e);break;case Sn.brithday:var he=S.find(".message_type .pulldown_template .birthday_box").clone();T(i.years_start)&&T(i.years_end)||q(he,i.years_start,i.years_end,!0),T(i.sort_type)||P(he.find(".select_year_box select"),i.sort_type),a.find(".pulldown_container").append(he);break;case Sn.date:var me=S.find(".message_type .pulldown_template .date_box").clone();T(i.years_start)&&T(i.years_end)||q(me,i.years_start,i.years_end,!0),T(i.sort_type)||P(me.find(".select_year_box select"),i.sort_type),a.find(".pulldown_container").append(me);break;case Sn.time:var ge=S.find(".message_type .pulldown_template .time_box").clone();T(i.sort_type)||P(ge.find(".select_hour_box select"),i.sort_type),a.find(".pulldown_container").append(ge);break;case Sn.date_time:me=S.find(".message_type .pulldown_template .date_box").clone(),ge=S.find(".message_type .pulldown_template .time_box").clone();me.addClass("padding_bottom"),T(i.sort_type)||P(me.find(".select_year_box select"),i.sort_type),a.find(".pulldown_container").append(me),a.find(".pulldown_container").append(ge);break;case Sn.period_of_time:var ve=S.find(".message_type .pulldown_template .period_time_box").clone();if(!T(i.start_spacing_minute)){var ye=ve.find(".select_minute_box select").first();i.start_spacing_minute>0?N(ye,i.start_spacing_minute):"0"==i.start_spacing_minute&&(ei.setMinuteOption(ye,{spacing_minute:0}),i.required_flg=1)}if(!T(i.end_spacing_minute)){var we=ve.find(".select_minute_box select").last();i.end_spacing_minute>0?N(we,i.end_spacing_minute):"0"==i.end_spacing_minute&&(ei.setMinuteOption(we,{spacing_minute:0}),i.required_flg=1)}T(i.sort_type)||(P(ve.find(".select_hour_box select").first(),i.sort_type),P(ve.find(".select_hour_box select").last(),i.sort_type)),a.find(".pulldown_container").append(ve);break;case Sn.period_of_day:var xe=S.find(".message_type .pulldown_template .date_box").clone(),ke=S.find(".message_type .pulldown_template .date_box").clone();T(i.sort_type)||(P(xe.find(".select_year_box select"),i.sort_type),P(ke.find(".select_year_box select"),i.sort_type)),a.find(".pulldown_container").append(xe),a.find(".pulldown_container").append('<p class="period_day_spacing col-xs-12">~</p>'),a.find(".pulldown_container").append(ke);break;case Sn.customize:case Sn.api:var $e=S.find(".message_type .pulldown_template .customize_box.one_select").clone();if(T(i.default_option_text)||$e.find("option.first").html(i.default_option_text),T(i.list)||T(i.list[0])){if(T(i.auto_complete_name)){G=zi.getByCode("no_results_found","No results found");T(i.error_message)||(G=i.error_message),je("save_conversation_error_log",{log_message_id:u,error_message:G}),Te(G,a,"not_remove",!1,!1)}}else i.list.length>1&&($e=S.find(".message_type .pulldown_template .customize_box.two_select").clone()),$(i.list).each(function(e,t){$(t).each(function(t,n){var a="string"==typeof n?n:T(n.text)?"":n.text;if(a){var r=$("<option>");if(r.val(t).html(a),r.attr("data-label",a),T(n.parent_option)||"object"!=typeof n.parent_option||$(n.parent_option).each(function(e,t){r.attr("data-"+t.name,t.value)}),!T(n.value)&&(r.attr("data-value",n.value),!T(i.default_value))){var o=i.default_value;if("object"==typeof o&&o.length){var s=[];$(o).each(function(e,i){i==n.value?s.push(t):s.push(i)}),i.default_value=s}}$e.find("select").eq(e).length&&$e.find("select").eq(e).append(r)}})});if(T(i.auto_complete_name)||a.attr("data-auto_complete",i.auto_complete_name),T(i.first_title)?$e.find(".first_title").parent(".title_box").remove():$e.find(".first_title").html(i.first_title),T(i.last_title)?$e.find(".last_title").parent(".title_box").remove():$e.find(".last_title").html(i.last_title),$e.hasClass("one_select")&&(!$e.find(".first_title").length||!$e.find(".last_title").length)){var Ce="col-xs-12";!$e.find(".first_title").length&&$e.find(".last_title").length?Ce="col-xs-10":!$e.find(".last_title").length&&$e.find(".first_title").length&&(Ce="col-xs-6"),$e.find(".input_content").removeClass("col-xs-4"),$e.find(".input_content").addClass(Ce)}if(yt&&$e.hasClass("one_select")&&$e.find(".first_title").length&&$e.find(".last_title").length){var De=zi.getByCode("select","");De&&$e.find("option.first").html(De)}a.find(".pulldown_container").append($e);break;case Sn.month_date:var Se=S.find(".message_type .pulldown_template .month_date_box").clone();T(i.sort_type)||P(Se.find(".select_month_box select"),i.sort_type),a.find(".pulldown_container").append(Se);break;case Sn.the_provinces_of_japan:var Me=S.find(".message_type .pulldown_template .prefecture_box").clone();T(i.list)||T(i.list[0])||$(i.list[0]).each(function(e,t){var n="string"==typeof t?t:T(t.text)?"":t.text;if(!T(n)){var i='<option value="'+e+'" data-value="'+e+'" data-label="'+n+'">'+n+"</option>";Me.find("select")&&Me.find("select").append(i)}}),a.find(".pulldown_container").append(Me);break;case Sn.towns_and_villages:var Ee=S.find(".message_type .pulldown_template .prefecture_city_box").clone(),Ae=u+"_prefecture_city_"+f;Ee.attr("id",Ae),T(i.first_title)?Ee.find(".first_title").parent(".title_box").remove():Ee.find(".first_title").html(i.first_title),T(i.last_title)?Ee.find(".last_title").parent(".title_box").remove():Ee.find(".last_title").html(i.last_title),a.find(".pulldown_container").append(Ee),f++;break;case Sn.birthday_y_m:var Oe=S.find(".message_type .pulldown_template .birthday_y_m_box").clone();T(i.years_start)&&T(i.years_end)||q(Oe,i.years_start,i.years_end,!0),T(i.sort_type)||P(Oe.find(".select_year_box select"),i.sort_type),a.find(".pulldown_container").append(Oe);break;case Sn.year_month:var Pe=S.find(".message_type .pulldown_template .year_month_box").clone();T(i.years_start)&&T(i.years_end)||q(Pe,i.years_start,i.years_end,!0),T(i.sort_type)||P(Oe.find(".select_year_box select"),i.sort_type),a.find(".pulldown_container").append(Pe)}T(i.hours_start)||ei.setHoursOption(a.find(".select_hour_box select"),{hours_start:i.hours_start}),T(i.hours_end)||ei.setHoursOption(a.find(".select_hour_box select"),{hours_end:i.hours_end}),T(i.spacing_minute)||(i.spacing_minute>0?N(a.find(".time_box .select_minute_box select"),i.spacing_minute):"0"==i.spacing_minute&&(ei.setMinuteOption(a.find(".time_box .select_minute_box select"),{spacing_minute:0}),i.required_flg=1)),!T(i.required_flg)&&i.required_flg&&(w=!0,a.find(".pulldown_container").addClass(hi.validate_require),a.find("select").addClass(hi.validate_require));var Ne=a.find(".title:not(.first_title):not(.last_title)");if(!T(i.title)||!T(i.required_flg)&&i.required_flg){b=Lt;T(i.required_text)||(b=b.replace(/(>.*<)/,">"+i.required_text+"<"));k=(i.title?i.title:"")+(i.required_flg?" "+b:"");Ne.html(k)}else Ne.remove();if(!T(i.comment)){var Fe=S.find(".message_type .pulldown_template .pulldown_label").clone();Fe.html(i.comment),a.find(".select_box").last().append(Fe)}if(!T(i.name)&&i.name&&(a.find("select").attr("name",i.name),Je(i.name)),!T(i.parent_name)&&i.parent_name){var Le=i.parent_name.join("|");a.find("select").attr("data-parent_name",Le),Xe(a.find("select"))}if(!T(i.default_value)){var Ie=i.default_value;if("object"==typeof Ie&&Ie.length){var Be=Ie[0];if(YNJDatePulldown.isBirthdayYNJType(i.template_type))YNJDatePulldown.setDefaultValueAndRequiredValidation(a,i.template_type,Be);else{var He=a.find("select").first();!T(Be)&&He.length&&He.find('option[value="'+Be+'"]').length&&(He.find('option[value="'+Be+'"]:not(:disabled)').attr("selected","selected"),a.find('.select_month_box option[value="01"]').first().attr("selected","selected"),j(He),a.find('.select_day_box option[value="01"]').first().attr("selected","selected")),a.find("select").addClass(hi.validate_require)}}}T(i.first_option_remove_flg)||1!=i.first_option_remove_flg||a.find("select option").length>1&&a.find("select option.first").length&&a.find("select option.first").remove();break;case wn.carousel:var Re=!1,Ye=!1,ze=!0,We=!0;if((Ke("gmo_point")||Ke("pointtown"))&&(ze=!1,We=!1,D.find(".chat-body").addClass("is_transparent")),a=S.find(".message_type .carousel_group").clone(),!T(i.title)||ze&&!T(i.required_flg)&&i.required_flg){b=Lt;T(i.required_text)||(b=b.replace(/(>.*<)/,">"+i.required_text+"<"));k=(i.title?i.title:"")+(ze&&i.required_flg?" "+b:"");a.find(".title").html(k)}if(!T(i.list)&&i.list.length)$(i.list).each(function(e,t){var n=S.find(".message_type .carousel_template .carousel_item").clone();if(!T(t.title)){var i=t.title;n.find(".item_title").html(i)}if(!T(t.subtitle)){var r=t.subtitle;n.find(".item_subtitle").html(r)}if(T(t.item_url)||n.find("a.item_url_box").attr("data-url",t.item_url),T(t.image_url)||n.find(".image_box img").attr("src",t.image_url),!T(t.button)&&!T(t.button.type)){var o=S.find(".carousel_template .carousel_button .carousel_select").clone();"link"==t.button.type?(Re=!0,o=S.find(".carousel_template .carousel_button .carousel_link").clone(),T(t.button.link)||o.attr("data-url",t.button.link)):"postback"==t.button.type&&(Ye=!0,n.find(".image_box").length&&n.find(".image_box").addClass("click_to_select")),T(t.button.title)||o.html(t.button.title),n.find(".select_box").append(o)}a.find(".carousel_container").append(n)});else{G=zi.getByCode("no_results_found","No results found");T(i.error_message)||(G=i.error_message),je("save_conversation_error_log",{log_message_id:u,error_message:G}),Te(G,a,"not_remove",!1,!1),a.find(".carousel_container").remove()}!Re&&be(n.message)&&(Ye||!T(i.required_flg)&&i.required_flg)&&(a.addClass("is_next_message"),We&&!T(i.answer)||(d=!1)),!T(i.required_flg)&&i.required_flg&&(w=!0,a.find(".carousel_container").addClass(hi.validate_require));break;case wn.card_payment:if(a=S.find(".message_type .card_payment_group").clone(),T(i.title)||a.find(".title").first().html(i.title),i.stripe_client_secret){a.attr("data-stripe_client_secret",i.stripe_client_secret),a.find(".card_payment_container").empty();break}1==i.four_input_flg?a.find(".card_number_box .one_input_on_row").remove():a.find(".card_number_box .four_input_one_row").remove();var Ue=a.find(".card_date_box"),Ve=S.find(".message_type .card_payment_template .template_component .select_year_box").clone(),Ge=S.find(".message_type .card_payment_template .template_component .select_month_box").clone();T(i.expired_date_type)||"my"!=i.expired_date_type?(Ue.append(Ve),Ue.append(Ge)):(Ue.attr("data-input_order","my"),Ue.append(Ge),Ue.append(Ve));!T(i.check_validity_flg)&&i.check_validity_flg&&a.attr("data-check_validity_flg",i.check_validity_flg),T(i.card_type)||$(i.card_type).each(function(e,t){var n=S.find(".message_type .card_payment_template .template_component .card_type_item").clone();n.attr("data-card_type",Ln[t]),n.find("img").attr("src","images/card_type/"+Ln[t]+".png"),n.find("img").attr("alt",Ln[t]),a.find(".card_type_box").append(n)}),a.find(".card_number_box input.content").attr("data-card_type",""),!T(i.list)&&i.list.length&&$(i.list).each(function(e,t){if(!T(t.type)&&!T(t.placeholder)){var n="";"card_name"==t.type?n=a.find(".card_holder_box input.content"):"card_number"==t.type?n=a.find(".card_number_box input.content"):-1!=t.type.indexOf("card_number")?n=a.find('.card_number_box input.sub_content[name="'+t.type+'"]'):"card_security"==t.type&&(n=a.find(".card_code_box input.content")),T(n)||n.attr("placeholder",t.placeholder)}}),1==i.cvc_hidden_flg&&a.find(".card_code_box").remove(),1==i.card_name_hidden_flg&&a.find(".card_holder_box").remove(),w=!0,a.find("input:not(#zeus_token_action_type_quick, #tkn), select").addClass(hi.validate_require),T(i.four_input_flg)||a.find(".four_input_one_row input:not(.input_hidden)").removeClass(hi.validate_require),a.find(".card_payment_container").addClass(hi.validate_credit_date);break;case wn.file:a=S.find(".message_type .upload_group").clone();var Ze=S.find(".message_type .upload_template .upload_component .no_file_select").clone();a.find(".label_box").append(Ze);var Qe=u+"_file_"+m;a.find("input.file_input").attr("name",Qe);var et;et=!T(i.file_type)&&i.file_type?i.file_type:Yn,Rn[Qe]=et,!T(i.required_flg)&&i.required_flg&&(w=!0,a.find("input.file_input").addClass(hi.validate_require)),!T(i.upload_multiple_flg)&&i.upload_multiple_flg&&a.find("input.file_input").attr("multiple","multiple"),m++;break;case wn.calendar:if(T(i.template_type))return void(s=!0);a=S.find(".message_type .calendar_group").clone(),Calendar.init(zi);var nt,it=a.find(".title");if(!T(i.title)||!T(i.required_flg)&&i.required_flg){b=Lt;T(i.required_text)||(b=b.replace(/(>.*<)/,">"+i.required_text+"<"));k=(i.title?i.title:"")+(i.required_flg?" "+b:"");it.html(k)}else it.remove();if(i.is_api_error){Calendar.handleAPIError(i,a,u,je),i.required_flg&&(w=!0),a.find(".calendar_container").append(nt);break}nt=i.template_type==qn.embed?S.find(".message_type .calendar_template .calendar_embed").clone():i.template_type==qn.period_of_time?S.find(".message_type .calendar_template .calendar_period").clone():S.find(".message_type .calendar_template .calendar_select").clone(),T(i.start_date)||nt.find("input.content").first().attr("data-start_date",i.start_date),T(i.end_date)||nt.find("input.content").first().attr("data-end_date",i.end_date),T(i.weekend_off_flg)||1!=parseInt(i.weekend_off_flg)||nt.find("input.content").addClass("weekend_off"),!T(i.list_date_disable)&&"object"==typeof i.list_date_disable&&i.list_date_disable.length&&nt.find("input.content").attr("data-date_disable_code",i.list_date_disable.join(",")),T(i.enable_start)||nt.find("input.content").attr("data-enable_today_start",i.enable_start),T(i.enable_end)||nt.find("input.content").attr("data-enable_today_end",i.enable_end),T(i.period_enable_start)||nt.find("input.content").attr("data-period_enable_start",i.period_enable_start),T(i.period_enable_end)||nt.find("input.content").attr("data-period_enable_end",i.period_enable_end),!T(i.disable_dates)&&"object"==typeof i.disable_dates&&i.disable_dates.length&&nt.find("input.content").attr("data-date_disable_cms",i.disable_dates.join(",")),T(i.nearest_select_flg)||"1"!=i.nearest_select_flg||nt.find("input.content").attr("data-nearest_select","1");var at=[],rt=[];if(!T(i.option_date)&&"object"==typeof i.option_date&&i.option_date.length&&(nt.find("input.content").attr("data-option_date",JSON.stringify(i.option_date)),$(i.option_date).each(function(e,t){T(t)||T(t.mode)||T(t.date)||"object"!=typeof t.date||!t.date.length||$(t.date).each(function(e,n){T(n)||(n=n.replace(/-/g,"/"),"unavailable"==t.mode?-1==at.indexOf(n)&&at.push(n):"available"==t.mode&&-1==rt.indexOf(n)&&rt.push(n))})}),at.length&&nt.find("input.content").attr("data-date_disable_api",at.join(",")),rt.length&&nt.find("input.content").attr("data-date_enable_api",rt.join(","))),!T(i.required_flg)&&i.required_flg&&(w=!0,i.template_type==qn.period_of_time&&a.find(".calendar_container").addClass(hi.validate_require),nt.find("input.content").addClass(hi.validate_require)),nt.find("input.content").attr("placeholder",Fn),!T(i.parent_name)&&i.parent_name){Le=i.parent_name.join("|");nt.find("input.content").attr("data-parent_name",Le)}!T(i.input_follow_month)&&i.input_follow_month&&nt.find("input.content").attr("data-input_follow_month",i.input_follow_month),a.find(".calendar_container").append(nt);break;case wn.captcha:var ot=(a=S.find(".message_type .captcha_group").clone()).find(".title"),st=a.find("input.content"),lt=a.find(".captcha_box img"),dt=u+"_radio_"+g;st.attr("name",dt),w=!0,st.addClass(hi.validate_require);b=Lt;T(i.required_text)||(b=b.replace(/(>.*<)/,">"+i.required_text+"<"));k=(T(i.title)?"":i.title)+" "+b;ot.html(k);var ut={cid:Vt,uid:Gt,size:T(i.size)?6:i.size,charPreset:"ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890"};st.addClass(hi.validate_min+" minimum-length-"+ut.size),T(i.color)||1!=parseInt(i.color)||(ut.color="true"),T(i.captcha_type)||(i.captcha_type==Vn.only_letters?ut.charPreset="ABCDEFGHIJKLMNOPQRSTUVWXYZ":i.captcha_type==Vn.only_numbers&&(ut.charPreset="1234567890"));var pt=Un,_t=0;$.each(ut,function(e,t){pt+=_t<=0?"?":"&",pt+=e+"="+t,_t++}),Gn[dt]=ut,pt+="&time="+Date.now(),lt.attr("src",pt),g++;break;case wn.add_to_cart:if(ri==ai.add_to_cart){!T(i.required_flg)&&i.required_flg&&(w=!0),D.addClass("cart_type");var ht=(a=S.find(".message_type .shopping_cart_group").clone()).find(".title");if(!T(i.title)||!T(i.required_flg)&&i.required_flg){b=Lt;T(i.required_text)||(b=b.replace(/(>.*<)/,">"+i.required_text+"<"));k=(i.title?i.title:"")+(i.required_flg?" "+b:"");ht.html(k)}else ht.remove()}break;case wn.request_document:if(ri==ai.request_document){!T(i.required_flg)&&i.required_flg&&(w=!0),D.addClass("cart_type");ht=(a=S.find(".message_type .document_cart_group").clone()).find(".title");if(!T(i.title)||!T(i.required_flg)&&i.required_flg){b=Lt;T(i.required_text)||(b=b.replace(/(>.*<)/,">"+i.required_text+"<"));k=(i.title?i.title:"")+(i.required_flg?" "+b:"");ht.html(k)}else ht.remove();T(i.template_type)||(a.find(".cart_container").attr("data-cart_document_type",i.template_type),ci||(ci=i.template_type))}break;case wn.product_purchase:(a=S.find(".message_type .product_purchase_group").clone()).attr("data-variable_name","product_code");var ft=i.view_type;ft==di.image_text&&a.addClass("image_text");var mt=a.find(".title");if(!T(i.title)||!T(i.required_flg)&&i.required_flg){b=Lt;T(i.required_text)||(b=b.replace(/(>.*<)/,">"+i.required_text+"<"));k=(i.title?i.title:"")+(i.required_flg?" "+b:"");mt.html(k)}else mt.remove();if(!T(i.required_flg)&&i.required_flg&&(w=!0,a.find(".product_purchase_container").addClass(hi.validate_require)),!T(i.list)&&i.list.length){var gt=u+"_product_purchase_"+v;a.find(".product_purchase_container li.empty_label").remove();for(var vt=0,bt=!(T(i.quantity_flg)||!i.quantity_flg),wt=!!(T(i.display_price_flg)||!T(i.display_price_flg)&&i.display_price_flg),xt=!(T(i.display_product_code_flg)||!i.display_product_code_flg),kt=!!(T(i.display_product_name_flg)||!T(i.display_product_name_flg)&&i.display_product_name_flg),$t=!(T(i.select_multi_product_flg)||!i.select_multi_product_flg),Ct=0;Ct<i.list.length;Ct++)for(var Tt=0;Tt<i.list[Ct].length;Tt++){var Dt=gt+"_"+vt,St=i.list[Ct][Tt],Mt=S.find(".message_type .product_purchase_template .product_item").clone(),Et=Mt.find(".product_item_container"),At=Mt.find(".product_detail_box"),Ot=Mt.find(".product_name"),Pt=Mt.find("input.option_input"),qt=St.text,jt=St.sub_name,Nt=St.url,Ft=St.image_url,It=St.unit_price,Bt=St.product_code,Ht=1,Rt=T(St.quantity_max)||isNaN(St.quantity_max)?null:parseInt(St.quantity_max),Yt=St.default_select_flg,zt=!T(St.currency)&&St.currency?St.currency:vn.getSymbol(),Wt=!(T(St.set_quantity_flg)||!St.set_quantity_flg),Ut=T(St.custom_price_text)?"":St.custom_price_text;if(!0===$t&&Pt.attr("type","checkbox"),T(pi[Bt])||"object"!=typeof pi[Bt]||T(pi[Bt].quantity)||(Ht=pi[Bt].quantity,null!=Rt&&Rt<=Ht&&(Ht=Rt),pi[Bt].quantity=1),ui[Dt]={name:qt,code:Bt,unit_price:It,currency:zt,amount:Ht},Pt.attr("name",gt),Pt.attr("id",Dt),Pt.attr("data-label",qt),Pt.attr("data-value",Bt),Pt.val(vt),T(Nt)||(Ot.attr("href",Nt),Ot.attr("target","_blank")),T(Ft))Mt.addClass("no_image");else{var Jt=S.find(".message_type .product_purchase_template .product_image_box").clone();Jt.find("img").attr("src",Ft),ft==di.image_text?Jt.removeClass("col-xs-4").addClass("col-xs-12"):At.removeClass("col-xs-12").addClass("col-xs-8"),Et.prepend(Jt)}if(!T(jt)){var Xt=S.find(".message_type .product_purchase_template .product_desc_box").clone();Xt.find(".product_desc").html(jt),At.append(Xt)}if(kt||(qt=""),xt)if(ft==di.image_text)qt+=" "+Bt;else{var Kt=S.find(".message_type .product_purchase_template .product_code_box").clone();Kt.find("label.product_code").html(Bt),Kt.insertAfter(At.find(".product_name_box"))}if((!T(It)||!T(Ut))&&wt){var Zt=qe(It,zt);if(T(Ut)||(Zt=Ut),ft==di.image_text)qt+=" "+Zt;else if(!T(Ft)||bt||Wt){var Qt=S.find(".message_type .product_purchase_template .product_price_box").clone();T(Ut)||Qt.find(".product_price_label").remove(),Qt.find(".product_price").html(Zt),At.append(Qt)}else qt+=" "+Zt}if(bt||Wt){var en=S.find(".message_type .product_purchase_template .product_quantity_box").clone();en.find("input.content").val(Ht),Rt&&(en.find("input.content").attr("max",Rt),en.find("input.content").addClass(hi.validate_option_max+" maximum-option-"+Rt)),At.append(en)}if(!T(Yt)&&Yt&&Pt.addClass("default_select"),qt?Ot.html(qt):At.find(".product_name_box").remove(),Rt){var tn=zi.getByCode("quantity_max","");tn&&(tn=tn.replace(":max",Rt),Mt.find(".product_quantity_label").html(tn))}Mt.find("label.product_name, label.product_image_box, label.product_price_label, label.product_price").attr("for",Dt),a.find(".product_purchase_container").append(Mt),vt++}}else{G=zi.getByCode("no_results_found","No results found");T(i.error_message)||(G=i.error_message),je("save_conversation_error_log",{log_message_id:u,error_message:G}),Te(G,a,"not_remove",!1,!1),a.find(".product_purchase_container").remove()}v++;break;case wn.pulldown_checkbox_stress:(a=S.find(".message_type .pulldown_checkbox_group").clone()).addClass("pulldown_c_stress");var nn=a.find(".title");if(!T(i.title)||!T(i.required_flg)&&i.required_flg){b=Lt;T(i.required_text)||(b=b.replace(/(>.*<)/,">"+i.required_text+"<"));k=(i.title?i.title:"")+(i.required_flg?" "+b:"");nn.html(k)}else nn.remove();if(!T(i.template_type))switch(i.template_type){case Kn.area:an=S.find(".message_type .pulldown_checkbox_template .area_box").clone(),T(i.list)||T(i.list[0])||($(i.list).each(function(e,t){var n=T(t.text)?"":t.text,i=T(t.value)?e:t.value;if(n){var a='<option value="'+i+'">'+n+"</option>";an.find("select.content").append(a)}}),a.find(".pulldown_container").append($e));break;case Kn.city:an=S.find(".message_type .pulldown_checkbox_template .city_box").clone();break;case Kn.stress:an=S.find(".message_type .pulldown_checkbox_template .stress_box").clone()}if(!an)return void(s=!0);a.find(".pulldown_checkbox_container").append(an),!T(i.required_flg)&&i.required_flg&&(w=!0,a.find("select").addClass(hi.validate_require)),an.find("select.content").addClass(hi.validate_option_max+" maximum-option-20");break;case wn.pulldown_checkbox_station:(a=S.find(".message_type .pulldown_checkbox_group").clone()).addClass("pulldown_c_station");var an,rn=a.find(".title");if(!T(i.title)||!T(i.required_flg)&&i.required_flg){b=Lt;T(i.required_text)||(b=b.replace(/(>.*<)/,">"+i.required_text+"<"));k=(i.title?i.title:"")+(i.required_flg?" "+b:"");rn.html(k)}else rn.remove();if(!T(i.template_type))switch(i.template_type){case Zn.area:an=S.find(".message_type .pulldown_checkbox_template .area_box").clone(),T(i.list)||T(i.list[0])||($(i.list).each(function(e,t){var n=T(t.text)?"":t.text,i=T(t.value)?e:t.value;if(n){var a='<option value="'+i+'">'+n+"</option>";an.find("select.content").append(a)}}),a.find(".pulldown_container").append($e));break;case Zn.line:an=S.find(".message_type .pulldown_checkbox_template .line_box").clone();break;case Zn.station:an=S.find(".message_type .pulldown_checkbox_template .station_box").clone()}if(!an)return void(s=!0);a.find(".pulldown_checkbox_container").append(an),!T(i.required_flg)&&i.required_flg&&(w=!0,a.find("select").addClass(hi.validate_require)),an.find("select.content").addClass(hi.validate_option_max+" maximum-option-20");break;case wn.button_confirm:a=S.find(".message_type .button_confirm_template .button_confirm_group").clone(),T(i.content)||a.find(".option_label").html(i.content),T(i.service_type)||a.attr("data-service_type",i.service_type);break;case wn.pin_code_auth_flg:o=(a=S.find(".message_type .pin_code_auth_template .pin_code_auth_group").clone()).find(".title");if(!T(i.title)||!T(i.required_flg)&&i.required_flg){b=Lt;T(i.required_text)||(b=b.replace(/(>.*<)/,">"+i.required_text+"<"));k=(i.title?i.title:"")+(i.required_flg?" "+b:"");o.html(k)}else o.remove();A=a.find("input.content");T(i.placeholder)||A.attr("placeholder",i.placeholder);break;case wn.slider:o=(a=S.find(".message_type .slider_group").clone()).find(".title");if(!T(i.title)||!T(i.required_flg)&&i.required_flg){b=Lt;T(i.required_text)||(b=b.replace(/(>.*<)/,">"+i.required_text+"<"));k=(i.title?i.title:"")+(i.required_flg?" "+b:"");o.html(k)}else o.remove();var on=a.find("#slider-input-div");!T(i.required_flg)&&i.required_flg&&on.addClass(hi.validate_require),T(i.slider_type)||on.attr("data-slider_type",i.slider_type),T(i.color)||on.attr("data-slider_color",i.color),T(i.min_value)||on.attr("data-min_value",i.min_value),T(i.max_value)||on.attr("data-max_value",i.max_value),T(i.min_label)||on.attr("data-min_label",i.min_label),T(i.max_label)||on.attr("data-max_label",i.max_label),T(i.answer)||on.attr("data-answer",i.answer);break;case wn.product_purchase_radio_button:var sn=!T(i.list)&&0!=i.list.length;a=S.find(".message_type .product_purchase_radio_button_group").clone(),!T(i.required_flg)&&i.required_flg&&(w=!0,a.find(".product_purchase_radio_button_container").addClass(hi.validate_require)),initProductPurchase(Lt,hi,vn,zi,_n,T,je,Te,Y,qe,K),createProductPurchaseRadioButtonMessage(a,S,i,u,y),sn&&be(n.message)?(a.addClass("is_next_message"),d=!T(i.answer)):!T(i.required_flg)&&i.required_flg&&(w=!0,a.find(".product_purchase_radio_button_container").addClass(hi.validate_require)),y++;break;case wn.card_payment_with_radio:B=!1,H=!0;var ln=!1;a=S.find(".message_type .card_payment_with_radio_group").clone(),initCardPaymentWithRadio(Ln,hi,Lt,zi,En,ct,Zi,ai,T,Je,fe,je,Te,Y,c,Q,ee,te),createCardPaymentRadioMessage(S,a,i,u,p),!T(i.list_option)&&i.list_option.length?$(i.list_option).each(function(e,t){void 0===i.answer&&!T(t.default_select_flg)&&t.default_select_flg?B=!0:void 0===i.answer&&Array.isArray(t)&&t.length&&$(t).each(function(e,t){!T(t.default_select_flg)&&t.default_select_flg&&(B=!0)}),!T(t.show_payment_flg)&&t.show_payment_flg?ln=!0:Array.isArray(t)&&t.length&&$(t).each(function(e,t){!T(t.show_payment_flg)&&t.show_payment_flg&&(ln=!0)})}):H=!1,H&&be(n.message)?(a.addClass("is_next_message"),B||!T(i.answer)||ln?!B&&ln&&(M=!0):d=!1,B||T(i.answer)||(M=!1)):!T(i.required_flg)&&i.required_flg&&(w=!0,a.find(".radio_container").addClass(hi.validate_require)),p++;break;case wn.label_no_transition_record:(a=S.find(".message_type div.label_no_transition_record_group").clone()).find(".option_label").html(i.content);break;case wn.booking_calendar:BookingCalendar.setGlobalValues(Lt),a=S.find(".message_type .booking_calendar_group").clone(),BookingCalendar.createMessage(a,S,i),i.required_flg&&(w=!0);break;case wn.box_file_upload:BoxUploadFile.setGlobalValue({g_user_id:Gt}),a=S.find(".message_type .box_upload_group").clone(),BoxUploadFile.createChatMessage(a,u,i,e)}if(a){a.attr("data-message_type",r),T(i.variable_id)||(a.attr("data-variable_id",i.variable_id),1==i.no_persist_flg&&(a.attr("data-no_persist_flg",i.no_persist_flg),setToNoPersistList(i.variable_id,i.list))),T(i.api_valid_id)||a.attr("data-api_valid_id",i.api_valid_id);var cn="";if(T(n.b_position)||(cn=n.b_position),D.find(".chat-body").attr("data-b_position",cn),D.find(".chat-body").append(a),!T(i.answer_disable_flg)||1!=i.answer_disable_flg){var dn=ne(a,i.answer);!C&&dn&&(C=dn)}if($(a).hasClass("card_payment_with_radio_group")&&$(a).children().hasClass("card_payment_group")){var un=$(a).children(".card_payment_group");if(un.attr("data-message_type",wn.card_payment),$(a).find(".radio_img_item.active").length)$(a).find(".radio_img_item.active").find(".show_card_payment").length&&(un.removeClass("group_hidden"),M=!1);else if($(a).find(".radio_option.active").length){$(a).find(".radio_option.active").find(".show_card_payment").length&&(un.removeClass("group_hidden"),M=!1)}}var pn=a;$(a).children().hasClass("card_payment_group")&&(pn=$(a).find(".card_payment_group")),$(pn).data("stripe_client_secret")&&(ra.createCardElements(a,u,0),U(u)),(hn||D.find(".terms_use_group").length)&&w&&!C&&(x=!0)}})}),void 0!=r&&r||T(n.not_scroll_input_flg)||1!=n.not_scroll_input_flg||Ii.initStopScrollMessageId(u),Ii.setScrollPositionMessage(u,n.message_scroll_position,r);if(s)return;D.find(".chat-body").attr("data-message_id",u),n.type==yn.user&&i?D.addClass("chat-right-active"):n.type==yn.bot&&i&&D.addClass("chat-left-active"),T(n.block_name)||D.attr("data-block_name",n.block_name),d&&(W(D,n.btn_next,x),M&&D.find(".next_message").hide()),B(D,!0,r,function(){return"function"!=typeof o||o()})}}}function l(e,t,n){T(t.years_start)&&T(t.years_end)||q(n,t.years_start,t.years_end,!0),T(t.sort_type)||P(n.find(".select_year_box select"),t.sort_type),[Sn.birthday_ynj,Sn.birthday_ynj_2].includes(t.template_type)&&function(e){if(e&&($(e).hasClass("birthday_y_n_j_box")||$(e).hasClass("birthday_y_n_j_2_box")),e){var t=$(e).find(".select_month_box select").first();if(t){var n=$(t).find("option");n.length&&n.each(function(e,t){var n=$(t).val();n&&"0"===n[0]&&(n=n[1],$(t).val(n))})}var i=$(e).find(".select_year_box select").first();if($(e).hasClass("birthday_y_n_j_2_box")&&i){var n=$(i).find("option");n.length&&n.each(function(e,t){var n=$(t).val();n&&4===n.length&&(n=n.slice(2),$(t).val(n))})}}}(n),e.find(".pulldown_container").append(n)}function c(e,t){if(e&&t&&ct&&Array.isArray(ct.user_variable)){var n=ct.user_variable.find(function(t){return t._id===e});n&&n.variable_name&&t.attr("data-variable_name",n.variable_name)}}function d(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return T(e)||"-1"==e.indexOf("<script>")||(e=String(e).replace(/[&<>"'`=\/]/g,function(e){return t[e]})),e}function u(e,t,n){var i=new Date;i.setTime(i.getTime()+60*n*1e3);var a="expires="+i.toGMTString(),r=bt.is_secure()?"SameSite=None;":"",o=bt.is_secure()?"Secure;":"";document.cookie=e+"="+t+";"+a+";path=/;"+r+o}function p(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var a=n[i];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t)){const e=a.substring(t.length,a.length);try{return decodeURIComponent(e)}catch(t){return e}}}return""}function _(){if(!qt){var e=Math.round(new Date/1e3);if(void 0==Wt||e-Wt>zt||!It){var t={};t[nn]=Gt,h(t)}}}function h(e){var t=void 0!=e&&void 0!=e[nn]?e[nn]:"",n=void 0!=e&&void 0!=e[an]?e[an]:"",i=void 0!=e&&void 0!=e[rn]?e[rn]:"",a=void 0!=e&&void 0!=e[on]?e[on]:"",r=void 0!=e&&void 0!=e[sn]?e[sn]:"";if(Yt)t&&u(nn+"_"+Vt,t,Ht),n&&u(an+"_"+Vt,n,wi),i&&u(rn+"_"+Vt,i,Hi.getTime()),a&&u(on+"_"+Vt,a,Rt),r&&u(sn+"_"+Vt,r,Bt);else{var o={};t&&(o[nn+"_"+Vt]=t),a&&(o[on+"_"+Vt]=a),r&&(o[sn+"_"+Vt]=r),n&&(o[an+"_"+Vt]=n),i&&(o[rn+"_"+Vt]={value:i,time:Hi.getTime()}),k({cookie_time:Ht,cookie:o})}Wt=Math.round(new Date/1e3)}function f(e,t){Yt&&u(nn+"_"+Vt,Gt,0);var n={clear_cookie:e=void 0!=e&&e.length?e:[2],reload_page_flg:t};Yt&&1!=e[0]&&3!=e[0]||k(n),Gt=void 0}function m(e){var t={};if(e==on?t=cn:e==sn&&(t=dn),!T(e)&&"object"==typeof t&&Object.keys(t).length){var n={};n[e]=v(t,!1),h(n)}}function g(e,t){return"object"==typeof(t=y(t,!1))&&"object"==typeof e&&$.each(t,function(t,n){void 0==e[t]&&(e[t]=n)}),e}function v(e,t){var n="";if(!T(e))try{var i="";void 0!=t&&t&&(i=Gt),e=JSON.stringify(e);var a=CryptoJS.AES.encrypt(e,i);n=CryptoJS.enc.Utf8.parse(a.toString()),n=CryptoJS.enc.Base64.stringify(n)}catch(e){}return n}function y(e,t){var n="";if(!T(e))try{var i="";void 0!=t&&t&&(i=Gt);var a=CryptoJS.enc.Base64.parse(e),r=CryptoJS.enc.Utf8.stringify(a);n=CryptoJS.AES.decrypt(r,i).toString(CryptoJS.enc.Utf8),n=JSON.parse(n)}catch(e){}return n}function b(e,t){try{if(T(e))return e;var n=st.substr(0,32),i=CryptoJS.enc.Hex.parse(st);n=CryptoJS.enc.Hex.parse(n);var a=CryptoJS.AES.decrypt(e,i,{iv:n}).toString(CryptoJS.enc.Utf8);return JSON.parse(a)}catch(e){return""}}function w(e){try{var t=JSON.stringify(e),n=st.substr(0,32),i=CryptoJS.enc.Hex.parse(st);n=CryptoJS.enc.Hex.parse(n);var a=CryptoJS.AES.encrypt(t,i,{iv:n});return CryptoJS.enc.Base64.stringify(a.ciphertext)}catch(e){return""}}function x(e){var t=$(".chat-header img.header-image");2!==Ft||$t?void 0!=e.picture&&""!=e.picture?t.attr("src",e.picture):t.hide():e.setting.start_button_icon&&t.attr("src",e.setting.start_button_icon),void 0==e.setting&&(e.setting={});var n=screen.availHeight,i=e.zoom_percentage,r=e.setting;try{var o="efo_ab_setting_"+Vt;if(p(o)){var s=p(o).split("_");Jt=s[0],Xt=s[1],Kt=s[2]}else if(e[o]){(s=e[o].split("_")).length>=3&&(Jt=s[0],Xt=s[1],Kt=s[2],u(o,e[o]))}}catch(e){}var l=$("#botchan-chat"),c=yt&&!T(r.sp_title)?r.sp_title:void 0!=r.title?r.title:"",_=void 0!=r.sub_title?r.sub_title:"",h=void 0!=r.color_code?r.color_code:"",f=T(r.lang)?"ja":r.lang,m=void 0!=r.show_chat_avatar?r.show_chat_avatar:"",g=T(r.width)?300:r.width,v=T(r.height)?400:r.height,y=void 0!=r.show_onload?r.show_onload:"",b=T(r.close_to_hide)?0:r.close_to_hide,w=void 0!=r.time_show_onload&&parseInt(r.time_show_onload)>=0?r.time_show_onload:0,x=void 0!=r.custom_css?r.custom_css:"",D=void 0!=r.custom_css_sp?r.custom_css_sp:"",S=T(e.scenario_type)?"":e.scenario_type,M=T(e.client_viewport)?"":e.client_viewport,A=T(r.sp_icon_type)?"001":r.sp_icon_type,P=void 0!=r.sp_sub_sub_title?r.sp_sub_sub_title:"",q=T(r.sp_icon_display_type)?"002":r.sp_icon_display_type,j=T(r.sp_icon_display_image)?"":r.sp_icon_display_image,N=T(r.sp_full_width)?0:r.sp_full_width,F=T(r.sp_icon_width)?"001"==q?180:100:r.sp_icon_width,I=T(r.sp_icon_height)?30:r.sp_icon_height,B=T(r.sp_display_position)?"001":r.sp_display_position,H=T(r.sp_icon_left_right)?T(r.sp_icon_right)?10:r.sp_icon_right:r.sp_icon_left_right,R=T(r.sp_icon_bottom)?10:r.sp_icon_bottom,Y=T(r.sp_icon_top)?10:r.sp_icon_top,z=T(r.pc_icon_type)?"001":r.pc_icon_type,W=void 0!=r.sub_sub_title?r.sub_sub_title:"",U=T(r.pc_icon_display_type)?"001":r.pc_icon_display_type,V=T(r.pc_icon_display_image)?"":r.pc_icon_display_image,G=T(r.pc_icon_width)?100:r.pc_icon_width,J=T(r.pc_icon_height)?30:r.pc_icon_height,X=T(r.pc_display_position)?"001":r.pc_display_position,K=T(r.pc_icon_left_right)?10:r.pc_icon_left_right,Z=T(r.pc_icon_bottom)?10:r.pc_icon_bottom,Q=T(r.pc_icon_top)?10:r.pc_icon_top,ee=T(r.baloon_text)?"":r.baloon_text,te=T(r.animation_start_time)?5:r.animation_start_time,ne=!T(r.animation_setting)&&!!r.animation_setting;if(Ei=T(r.conversation_end_close)||isNaN(r.conversation_end_close)?0:parseFloat(r.conversation_end_close),Ai=T(r.conversation_end_close_time)||isNaN(r.conversation_end_close_time)?0:parseFloat(r.conversation_end_close_time),void 0==h||T(xt[h])||(kt=h),T($("link.efo_style"))||(2===Ft?(efo_v2_design_type=T(r.design_type_v2)?"001":r.design_type_v2,chatbox_close_type="004",$("link.efo_style").attr("href",ot+"efo_v2_color/"+kt+"/style.css?v="+at),$("link.efo_v2_type").attr("href",ot+"efo_v2_design_type/"+efo_v2_design_type+"/efo.css?v="+at)):(chatbox_close_type=T(r.design_type)?"001":r.design_type,$("link.efo_style").attr("href",ot+"efo/"+xt[kt]+"/style.css?v="+at))),!T(e.iframe_import_file)&&"object"==typeof e.iframe_import_file){var ie=e.iframe_import_file;$.isArray(ie)&&$(ie).each(function(e,t){if("css"==t.type&&""!=t.url&&null!=t.url){var n='<link rel="stylesheet" href="'+t.url+'">';$("head").append(n)}else if("js"==t.type&&""!=t.url&&null!=t.url){var i='<script class="import_file_'+e+'" src="'+t.url+'">';$("head").append(i)}})}var ae="#"+wt[kt];if($("body").addClass("theme_"+xt[kt]),"while"==xt[kt]){var re=$(".message_clear_box img ").attr("src");$(".message_clear_box img ").attr("src",re.replace("message_clear.png","message_clear_black.png"))}f&&zi.setCurrent(f),T(e.multi_lang_flg)||"1"!=e.multi_lang_flg||("object"!=typeof e.multi_lang_setting||T(e.multi_lang_setting.variable_id)||(zi.multi_lang_change_flg=!0,zi.multi_lang_setting=e.multi_lang_setting),T(e.multi_lang_data)||(zi.multi_lang_data=e.multi_lang_data));var oe=U,se=V,le=G,ce=J,de=W||c,ue=X,pe=K,_e=Z,he=Q;E()&&$("body").addClass("is_safari"),yt?(oe=q,se=j,le=F,ce=I,de=P||c,ue=B,pe=H,_e=R,he=Y,A&&(Mt=A),1==N&&$("body").addClass("is_full_width"),$("body").addClass("is_mobile"),l.find(".cart_preview_box .cart_preview_container").css("max-height",n/10*7+"px")):(z&&(Mt=z),v&&l.find(".cart_preview_box .cart_preview_container").css("max-height",v/10*7+"px")),Mt==St.leftward?$("body").addClass("leftward"):$("body").addClass("upward"),Mt!=St.leftward&&window!=window.parent&&1!=en?$e($t):Mt==St.leftward&&$e(!0);var fe=function(e,t,n){var i="001";if(yt&&(i="002"),$(".chatview-container .chat-header").addClass("is_gradation"),$(".chatview-container .progress_question").addClass("is_gradation"),!T(e))switch(e){case Et.gradation_icon:1==n?i="015":T(t)||(i=t==At.icon_title?"001":t==At.image_upload?"007":"002");break;case Et.monochromatic_icon:1==n?i="016":T(t)||(i=t==At.icon_title?"005":t==At.image_upload?"008":"006"),$(".chatview-container .chat-header").removeClass("is_gradation"),$(".chatview-container .progress_question").removeClass("is_gradation");break;case Et.gradation:i=1==n?"017":t==At.icon_title?"013":t==At.image_upload?"009":"014";break;case Et.monochromatic:$(".chatview-container .chat-header").removeClass("is_gradation"),$(".chatview-container .progress_question").removeClass("is_gradation"),i=1==n?"018":t==At.icon_title?"011":t==At.image_upload?"010":"012"}return i}(chatbox_close_type,oe,b);$("body").addClass(Ot[fe]),Ut=jt+Ut;var me=e.picture;void 0!=m&&"1"==m&&void 0!=me?(function(e){var t=document.createElement("link"),n=document.getElementById("dynamic-favicon");t.id="dynamic-favicon",t.rel="shortcut icon",T(e)&&(e="../images/favicon.ico"),t.href=e,n&&document.head.removeChild(n),document.head.appendChild(t)}(me),$(".chat-header").addClass("is_avatar"),$(".chat-left .chat-avatar").show(),"gif"==me.split(".").pop()?function(e,t,n){var i=document.createElement("CANVAS"),a=i.getContext("2d"),r=new Image;r.crossOrigin="Anonymous",r.onload=function(){var e;i.height=r.height,i.width=r.width,a.drawImage(r,0,0),e=i.toDataURL(n||"image/png"),t.call(this,e),i=null},r.src=e}(me,function(e){$(".chat-left .chat-avatar img, .typing_box.typing_type_1 .chat-avatar img").attr("src",e)}):$(".chat-left .chat-avatar img, .typing_box.typing_type_1 .chat-avatar img").attr("src",me)):$(".chat-avatar").hide();if(c&&(document.title=c,document.title,l.find(".header-title-main").html(c)),_){var ge=document.title;document.title=ge+" :: "+_,document.title,l.find(".header-title-sub").html(_)}if(function(e,t){var n=0,i=0;if(T(e)||(i=e.length,Ce(e)&&(i*=2),n<i&&(n=i)),!T(t)){var a=t.length;Ce(t)&&(a*=2),n<a&&(n=a)}var r=$(".chat-header .header-title-box");n<21?r.addClass("title_big1"):n<31&&r.addClass("title_big2");var o=$(".chat-header .header-title-box .header-title-main");i<21&&o.addClass("title_big1")}(c,_),S&&(ri=S),ri!=ai.add_to_cart&&ri!=ai.request_document||$(".chat-header .header_cart_box").removeClass("hidden"),ri!=ai.add_to_cart&&ri!=ai.request_document||(He()||a(),ri==ai.add_to_cart?($("body").addClass("shopping_type"),$(".chat-header .header_cart_box .shopping-cart").removeClass("hidden")):ri==ai.request_document&&($("body").addClass("document_type"),$(".chat-header .header_cart_box .document-cart").removeClass("hidden"),$(".cart_preview_box .price_total_box").remove())),(-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0)&&$("body").addClass("is_ie"),x||D){var ve=x||"";if(D&&yt&&(ve+=D),ve)if($("head .customize_css").length)$("head .customize_css").html(ve);else{var ye='<style type="text/css" class="customize_css">'+ve+"</style>";$("head").append(ye)}}qi=qi>2?2:qi,$(".chat-header").addClass("header_icon_"+qi),zi.setFromCustom(),C(),O(),k({scenario_type:ri,iframe_setting:{width:g,height:v,show_onload:y,time_show_onload:w,close_to_hide:b,color:ae,color_name:xt[kt],chat_lang:f,sub_title:_||c,close_type_code:fe,conversation_end_close:Ei,conversation_end_close_time:Ai,cv_complete_hide_flg:yi,cv_complete_time:wi,sub_sub_title:d(de),zoom_percentage:i,chatbox_show_type:Mt,icon_display_image:se,icon_width:le,icon_height:ce,display_position:ue,icon_left_right:pe,icon_bottom:_e,icon_top:he,client_viewport:M,mobile_back_by_url_hash:Wi.mobile_back_by_url_hash,icon_display_type:oe,bc_session_connect_flg:Gi.status,sp_full_width:N,baloon_text:ee,animation_start_time:te,animation_setting:ne},new_msg_title:Ut,cookie_support:Yt}),L(),setTimeout(function(){$("#botchan-chat").show();var e="90%";void 0!=m&&"1"==m&&void 0!=me&&(e="calc( 90% - "+$(".chat-left .chat-avatar").outerWidth(!0)+"px)");$(".chat-left .chat-body").css("width",e)},1200)}function k(e){window!=window.parent&&(e.connect_page_id=Vt,e.user_id=Gt,parent.postMessage(e,"*"))}function C(){var e=$("#botchan-chat");if(!T($.fn.fileinputLocales[zi.current])){var t=$.fn.fileinputLocales[zi.current];T(t.required)||(Lt='<span class="required">'+t.required+"</span>"),T(t.invalid_access_token)||t.invalid_access_token,T(t.next)||e.find(".template_message .next_message button").html(t.next),T(t.bot_says_title)||(Ut=t.bot_says_title),T(t.postal_code)||e.find(".template_message .postalcode_template .postal_code .title").html(t.postal_code),T(t.postal_code)||e.find(".template_message .postalcode_template .postal_code_split .title").html(t.postal_code),T(t.prefectures)||e.find(".template_message .postalcode_template .prefectures .title").html(t.prefectures),T(t.prefectures)||e.find(".template_message .postalcode_template .dropdown_prefectures .title").html(t.prefectures),T(t.please_select)||e.find(".template_message .postalcode_template .dropdown_prefectures option.first").html(t.please_select),T(t.municipality)||e.find(".template_message .postalcode_template .municipality .title").html(t.municipality),T(t.street_number)||e.find(".template_message .postalcode_template .street_number .title").html(t.street_number),T(t.building_name)||e.find(".template_message .postalcode_template .building_name .title").html(t.building_name),T(t.postal_code_search_button)||e.find(".template_message .postalcode_template .postal_code .postal_code_search_button .search_label").html(t.postal_code_search_button),T(t.postal_code_search_button)||e.find(".template_message .postalcode_template .postal_code_split .postal_code_search_button .search_label").html(t.postal_code_search_button),T(t.please_select)||e.find("select option.first").not(".custom_label").html(t.please_select),T(t.select)||e.find(".customize_box.two_select option.first").html(t.select),T(t.select)||e.find(".prefecture_city_box.two_select option.first").html(t.select),T(t.select)||e.find(".template_message .carousel_template .select_box button.carousel_select").html(t.select),T(t.view_detail)||e.find(".template_message .carousel_template .carousel_button button.carousel_link").html(t.view_detail),T(t.card_number)||e.find(".template_message .card_payment_template .card_number_box .title").html(t.card_number),T(t.card_holder_name)||e.find(".template_message .card_payment_template .card_holder_box .title").html(t.card_holder_name),T(t.card_expiry_date)||e.find(".template_message .card_payment_template .card_date_box .title").html(t.card_expiry_date),T(t.card_security_code)||e.find(".template_message .card_payment_template .card_code_box .title").html(2==Nt?t.card_security_code2:t.card_security_code),T(t.select_file)||e.find(".template_message .upload_template button.file_select_btn").html(t.select_file),T(t.uploading)||e.find(".template_message .upload_template .loading span").html(t.uploading),T(t.no_file_select)||e.find(".template_message .upload_template .no_file_select .label_text").html(t.no_file_select),BoxUploadFile.fillLanguage(t),T(t.price_total)||(e.find(".cart_preview_box .price_total_label").html(t.price_total),e.find(".cart_group .price_total_label").html(t.price_total)),T(t.unit_price)||e.find(".product_price_box .product_price_label").html(t.unit_price),T(t.amount)||e.find(".product_price_total_box .product_price_label").html(t.amount),T(t.product_code)||e.find(".product_code_box .product_code_label").html(t.product_code),T(t.quantity)||e.find(".product_quantity_box .product_quantity_label").html(t.quantity),T(t.cart_empty)||e.find(".shopping_cart_group .empty_label").html(t.cart_empty),T(t.document_empty)||e.find(".document_cart_group .empty_label").html(t.document_empty),ri==ai.add_to_cart?e.find(".cart_preview_box .empty_label").html(t.cart_empty):ri==ai.request_document&&e.find(".cart_preview_box .empty_label").html(t.document_empty),T(t.please_select)||e.find(".pulldown_checkbox_template select.content").attr("data-placeholder",t.please_select),T(t.quantity)||e.find(".product_purchase_template .product_quantity_label").html(t.quantity),T(t.quantity)||e.find(".product_purchase_radio_button_template .product_quantity_label").html(t.quantity),T(t.view_detail)||e.find(".template_message .button_link_template button.button_link_button").html(t.view_detail),T(t.close)||e.find(".template_message .chatbox_remove_box button").html(t.close),T(t.clear_message_confirm)||e.find(".template_message .modal_template .clear_message_confirm_box .clear_message_confirm_label").html(t.clear_message_confirm),T(t.cancel)||e.find(".template_message .modal_template .clear_message_confirm_box .btn-cancel").html(t.cancel),T(t.delete)||e.find(".template_message .modal_template .clear_message_confirm_box .btn-execute").html(t.delete),T(t.conversation_delete)||e.find(".chat-header .message_clear_box img").attr("title",t.conversation_delete),T(t.chatbox_hide_time_confirm)||e.find(".template_message .modal_template .chatbox_hide_time_box .chatbox_hide_time_label").html(t.chatbox_hide_time_confirm),T(t.chatbox_hide_time_tooltip)||e.find(".chat-header .chatbox_hide_time_box").attr("title",t.chatbox_hide_time_tooltip),T(t.cancel)||e.find(".template_message .modal_template .chatbox_hide_time_box .btn-cancel").html(t.cancel),T(t.ok)||e.find(".template_message .modal_template .chatbox_hide_time_box .btn-execute").html(t.ok),T(t.chatbox_close_confirm)||e.find(".template_message .modal_template .chatbox_close_confirm_box .chatbox_close_label").html(t.chatbox_close_confirm),T(t.return_to_chat)||e.find(".template_message .modal_template .chatbox_close_confirm_box .btn-cancel").html(t.return_to_chat),T(t.close)||e.find(".template_message .modal_template .chatbox_close_confirm_box .btn-execute").html(t.close),T(t.postal_code_search_label)||e.find(".template_message .postal_code_search_box").attr("data-modal_title",t.postal_code_search_label),T(t.postal_code_search_select_scope_tw)||e.find(".template_message .scope_tw_search option.first").html(t.postal_code_search_select_scope_tw),T(t.postal_code_search_select_pref)||e.find(".template_message .pref_search option.first").html(t.postal_code_search_select_pref),T(t.postal_code_search_select_city)||e.find(".template_message .city_search option.first").html(t.postal_code_search_select_city),T(t.postal_code_search_select_street)||e.find(".template_message .street_search option.first").html(t.postal_code_search_select_street),T(t.cancel)||e.find(".template_message .postal_code_search_box .btn-cancel").html(t.cancel),T(t.select)||e.find(".template_message .postal_code_search_box .btn-execute").html(t.select),T(t.message_updating_confirm_label)||e.find(".template_message .modal_template .confirm_message_updating_box .message_updating_label").html(t.message_updating_confirm_label),T(t.cancel)||e.find(".template_message .modal_template .confirm_message_updating_box .btn-cancel").html(t.cancel),T(t.ok)||e.find(".template_message .modal_template .confirm_message_updating_box .btn-execute").html(t.ok);var n=t[ri==ai.churn_prevention?"disconnect_notice_keeper":"disconnect_notice"];gt&&gt.message&&1===gt.is_enabled&&(n=gt.message),T(n)||e.find(".template_message .modal_template .confirm_disconnect_box .modal_label").html(n),T(t.ok)||e.find(".template_message .modal_template .confirm_disconnect_box .btn-execute").html(t.ok),T(t.close)||e.find(".template_message .modal_template .startup_popup_box .btn-execute").html(t.close),T(t.order_processing)||e.find(".template_message .typing_template .typing_type_2 .content p").html(t.order_processing),O(!1)}}function T(e,t){return void 0===e||null===e||0===e.length||void 0!==t&&t&&""===$.trim(e)}function D(e){var t=!0;!ki||void 0!=Vt&&void 0!=Gt||(t=!1),k({chatbox_open_close:void 0!=e?e:2,cookie_update_flg:t})}function S(e,t){void 0==t&&(t=window.location.search);var n=RegExp("[?&]"+e+"=([^&]*)").exec(t);return n&&decodeURIComponent(n[1].replace(/\+/g," "))}function M(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}function E(){return navigator.userAgent.search("Safari")>=0&&navigator.userAgent.search("Chrome")<0}function A(){return/(MacIntel|Mac|iPhone|iPod|iPad)/i.test(navigator.platform)}function O(e){void 0==e&&(e=!0);var t=$("#botchan-chat"),n=$("#botchan-chat .pulldown_template"),i=$("#botchan-chat .pulldown_checkbox_template"),a=$("#botchan-chat .postalcode_template"),r=t.find(".month_date_box"),o=$(".template_message .card_payment_template"),s=$(".postal_code_search_box"),l=new Date,c=l.getFullYear();l.getMonth(),n.find("select").attr("style","width: 100%"),a.find("select").attr("style","width: 100%"),i.find("select").attr("style","width: 100%"),o.find("select").attr("style","width: 100%"),s.find("select").attr("style","width: 100%");var d="Year",u="Month",p="Day",_="Hour",h="Minute";if(!T($.fn.fileinputLocales[zi.current])){var f=$.fn.fileinputLocales[zi.current];T(f.year)||(d=f.year),T(f.month)||(u=f.month),T(f.day)||(p=f.day),T(f.hour)||(_=f.hour),T(f.minute)||(h=f.minute)}var m='<option class="first custom_label" value="">'+d+"</option>",g='<option class="first custom_label" value="">'+u+"</option>",v='<option class="first custom_label" value="">'+p+"</option>",y='<option class="first custom_label" value="">'+_+"</option>",b='<option class="first custom_label" value="">'+h+"</option>";if(t.find(".birthday_box .select_year_box select, .birthday_y_m_box .select_year_box select, .birthday_y_n_j_box .select_year_box select, .birthday_y_n_j_2_box .select_year_box select").length){var w=t.find(".birthday_box .select_year_box select, .birthday_y_m_box .select_year_box select, .birthday_y_n_j_box .select_year_box select, .birthday_y_n_j_2_box .select_year_box select");if(w.each(function(e,t){$(t).find("option.first").length?$(t).find("option.first").html(d):$(t).append(m)}),e)for(var x=1935;x<=c;x++)w.append('<option value="'+x+'">'+x+"</option>")}if(t.find(".date_box .select_year_box select, .year_month_box .select_year_box select").length){var k=t.find(".date_box .select_year_box select, .year_month_box .select_year_box select");if(k.each(function(e,t){$(t).find("option.first").length?$(t).find("option.first").html(d):$(t).append(m)}),e)for(x=c;x<=c+1;x++)k.append('<option value="'+x+'">'+x+"</option>")}if(o.find(".select_year_box select").length){var C=o.find(".select_year_box select");if(C.each(function(e,t){$(t).find("option.first").length?$(t).find("option.first").html(d):$(t).append(m)}),e)for(x=c;x<=c+10;x++){var D=x.toString().substring(2,4);C.append('<option value="'+D+'">'+D+"</option>")}}t.find(".select_month_box select").length&&t.find(".select_month_box select").each(function(t,n){if($(n).find("option.first").length?$(n).find("option.first").html(u):$(n).append(g),e)for(t=1;t<=12;t++){t<10&&(t="0"+t);var i='<option value="'+t+'">'+t+"</option>";$(n).append(i)}});if(t.find(".select_day_box select").length&&t.find(".select_day_box select").each(function(e,t){$(t).find("option.first").length?$(t).find("option.first").html(p):$(t).append(v)}),e&&r.find(".select_day_box select").length)for(x=1;x<=31;x++){x<10&&(x="0"+x);var S='<option value="'+x+'">'+x+"</option>";r.find(".select_day_box select").append(S)}if(t.find(".select_hour_box select").length){var M=t.find(".select_hour_box select");if(M.each(function(e,t){$(t).find("option.first").length?$(t).find("option.first").html(_):$(t).append(y)}),e)for(x=0;x<=23;x++)x<10&&(x="0"+x),M.append('<option value="'+x+'">'+x+"</option>")}if(t.find(".select_minute_box select").length){var E=t.find(".select_minute_box select");if(E.each(function(e,t){$(t).find("option.first").length?$(t).find("option.first").html(h):$(t).append(b)}),e)for(x=0;x<=59;x++)x<10&&(x="0"+x),E.append('<option value="'+x+'">'+x+"</option>")}H("refresh")}function P(e,t){try{if($(e).length&&$(e).find("option:not(.first)").length){var n=$(e).find("option:not(.first)"),i=[];$(n).each(function(e,t){i.push($(t).val())}),t==ii.desc&&(i.sort(function(e,t){return t-e}),$(i).each(function(t,n){if($(e).find('[value="'+n+'"]').length){var i=$(e).find('[value="'+n+'"]').clone();$(e).find('[value="'+n+'"]').remove(),$(e).append(i)}}))}}catch(e){}}function q(e,t,n,i){void 0!=e&&e.find(".select_year_box select").length&&(!T(t)&&!T(n)&&n<t&&(n=""),$(e).find(".select_year_box select option").each(function(e,i){$(i).hasClass("first")||(void 0!=t&&t&&$(i).val()<t&&$(i).remove(),void 0!=n&&n&&$(i).val()>n&&$(i).remove())}),void 0!=i&&i&&(T(t)||$(e).find(".select_year_box select").each(function(e,n){if($(n).find("option").not(".first").length){var i="";if(i=$(n).find("option.first").length?$(n).find("option").eq(1).val():$(n).find("option").eq(0).val(),(i=parseInt(i))>t)for(var a=i-1;a>=t;a--)$(n).find("option.first").length?$(n).find("option.first").after('<option value="'+a+'">'+a+"</option>"):$(n).prepend('<option value="'+a+'">'+a+"</option>")}else for(a=t=parseInt(t);a<=t+1;a++)$(n).append('<option value="'+a+'">'+a+"</option>")}),T(n)||$(e).find(".select_year_box select").each(function(e,t){if($(t).find("option").not(".first").length){var i=$(t).find("option").last().val();if((i=parseInt(i))<n)for(var a=i+1;a<=n;a++)$(t).append('<option value="'+a+'">'+a+"</option>")}else for(a=(n=parseInt(n))-1;a<=n;a++)$(t).append('<option value="'+a+'">'+a+"</option>")})))}function j(e){var t=function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]}return!1}(),n=t&&t[0]>=16,i=$(e).parents(".msg_group");if($(e).length&&i.length&&!$(e).parents(".select_box").hasClass("month_date_box")){var a=i.find("select.content").index(e);if("-1"!=a){var r=null,o=null,s=null;if($(e).parents(".select_year_box").length?(r=$(e).val(),o=i.find("select.content").eq(a+1).val(),s=i.find("select.content").eq(a+2)):$(e).parents(".select_month_box").length&&(r=i.find("select.content").eq(a-1).val(),o=$(e).val(),s=i.find("select.content").eq(a+1)),!T(s)){var l=s.val();if($(s).find("option").not(".first").remove(),n&&T(r)&&T(o)){var c=$(e).find("option:selected").text().match(/\d+/),d=i.find("select.content").eq(a+1).find("option:selected").text().match(/\d+/);r=T(c[0])?"":c[0],o=T(d[0])?"":d[0]}if(!(T(r)||T(o)||T(r)||T(o)))for(var u=new Date(r,o,0).getDate(),p=1;p<=u;p++){var _=p<10&&!$(s).parents(".birthday_y_n_j_box").length&&!$(s).parents(".birthday_y_n_j_2_box").length?"0"+p:p;p<10&&(p="0"+p);var h='<option value="'+_+'">'+p+"</option>";$(s).append(h)}!T(l)&&$(s).find('option[value="'+l+'"]').length?$(s).val(l):$(s).val($(s).find("option").eq(0).val()),$(s).trigger("change.select2")}}}}function N(e,t){if(!T(e)&&t>0){$(e).find("option").not(".first").remove();for(var n=0;n<=59;n++)n%parseInt(t)==0&&(n<10&&(n="0"+n),$(e).append('<option value="'+n+'">'+n+"</option>"))}}function F(e){return pn!=e&&(pn=e,!0)}function L(){$("#wc-message-group-content").hasClass("hidden")&&$("#wc-message-group-content").removeClass("hidden"),we()}function I(){$("#wc-message-group-content").empty()}function B(e,t,n,i){if(e){var a=$(e).find(".chat-body").attr("data-message_id"),r=$(e).hasClass("chat-left");void 0!=t&&t&&U();var o=$("#wc-message-group-content .typing_box");if(o.length?r?o.hasClass(Li.show_avatar_class)?(o.removeClass("typing_box typing_type_1 "+Li.show_avatar_class).addClass(e.attr("class")),o.attr("data-message_type",e.attr("data-message_type")),o.find(".typing_container").remove(),o.append(e.find(".chat-body"))):o.before(e):(o.before(e),o.hasClass(Li.show_avatar_class)&&0==Li.getStatus()&&Li.clear(!0)):$("#wc-message-group-content").append(e),void 0!=t&&t){var s=/(android)/i.test(navigator.userAgent),l=$("#wc-message-group-content .chat-right").last().find("textarea.readonly").length;if(!yt||s&&l||$("#wc-message-group-content .chat-right").last().find("textarea.readonly").focus().scrollTop(0),e.find(".pulldown_group .prefecture_city_box").length&&je("efo_user_send_pref"),e.find(".card_payment_group").length){var c=e.find(".card_payment_group .card_payment_container .card_code_box").length;e.find(".card_payment_group").attr("data-check_validity_flg")?function(e){Qe("production"==pt?"https://static.smbc-gp.co.jp/ext/js/token.js":"https://stg-static.smbc-gp.co.jp/ext/js/token.js",{onload:function(){dt=Multipayment,ke(e),Zi.initPayment(e)}}),Qe(ot+"js/locale/en/payment_token_gmo_error.js?v="+at),Qe(ot+"js/locale/ja/payment_token_gmo_error.js?v="+at),Qe(ot+"js/locale/th/payment_token_gmo_error.js?v="+at),Qe(ot+"js/locale/vn/payment_token_gmo_error.js?v="+at),Qe(ot+"js/locale/zh-tw/payment_token_gmo_error.js?v="+at)}(c):(ke(c),Zi.initPayment(c))}if(e.find(".cart_group").length)for(var d=0;d<si.length;d++)Ee(si[d]);e.find(".postalcode_group").length&&Xn.checkReGetDataByZipCode(a),void 0!=n&&n?zi.checkChangeCurrentLang(a):e.find(".pin_code_auth_group").length&&ni.getPinCode(a),function(){var e=xt[kt];e="-"+e,$("#wc-message-group-content input.icheck").each(function(t,n){$(this).parents(".icheck_input_box").length||$(this).iCheck({checkboxClass:"icheck_input_box icheckbox_minimal"+e,radioClass:"icheck_input_box iradio_minimal"+e})})}(),H(),function(e){var t=he(e);t.length&&2==t.find(".input_group").length&&t.find(".input_group").each(function(e,t){var n=$(t).data("input_type");T(n)||n!=kn.text||$(t).find("input.content").each(function(n,i){var a=$(t).next(".input_group");if(a.length){var r=a.find("input.content"),o=$(i).val();r.length&&r.hasClass(hi.validate_katakana)&&($(t).attr({"data-autokana_type":Tn.attribute_data.katakana,"data-autokana_index":e}),a.attr("data-autokana_index",e),$(i).attr({"data-autokana_input":n,"data-value_old":o}),r.eq(n).attr("data-autokana_output",n),r.length<=1?$.fn.autoKana($(i),r,{katakana:!0}):2==r.length&&$.fn.autoKana($(i),r.eq(n),{katakana:!0})),r.length&&r.hasClass(hi.validate_hiragana)&&($(t).attr({"data-autokana_type":Tn.attribute_data.hiragana,"data-autokana_index":e}),a.attr("data-autokana_index",e),$(i).attr({"data-autokana_input":n,"data-value_old":o}),r.eq(n).attr("data-autokana_output",n),r.length<=1?$.fn.autoKana($(i),r,{katakana:!1}):2==r.length&&$.fn.autoKana($(i),r.eq(n),{katakana:!1}))}})})}(a),function e(){if($("#wc-message-group-content .chat-body .carousel_container").not(".init_carousel").length){var t=$("#wc-message-group-content").innerWidth();if(T(t)||t<=0)clearTimeout(ba),ba=setTimeout(function(){e()},500);else{var n;yt?(n=screen.width-25,$("#wc-message-group-content").css("width",n)):n=$("#wc-message-group-content").innerWidth();var i=n>=200&&n<800?n/100*70:250;$("#wc-message-group-content .chat-body .carousel_container").not(".init_carousel").each(function(e,t){$(this).parents(".chat-body").css("width","calc(100% - 35px)"),$(this).find(".carousel_item").each(function(e,t){$(this).css("width",i+"px")}),$(this).addClass("init_carousel");var n=$(this).find(".carousel_item.active");if(n.length){var a=$(n).offset().left;T(a)||$(t).scrollLeft(a-80)}}),we()}}}(),$("#wc-message-group-content .calendar_group .calendar_select, #wc-message-group-content .calendar_group .calendar_period").find("input.content:not(.datetimepicker)").each(function(e,t){var n=$(t).parents(".calendar_container");if(!$(n).hasClass("api_error")){var i={horizontal:"auto",vertical:"auto"};$(t).parents(".calendar_period").length&&$(t).parents(".input_content").index()<=0&&(i={horizontal:"left",vertical:"auto"});var a=z(t),r={inline:!1,format:Fn,locale:"vn"==zi.current?"vi":zi.current,widgetPositioning:i,ignoreReadonly:!0,useCurrent:a.useCurrent,defaultDate:a.defaultDate,daysOfWeekDisabled:a.daysOfWeekDisabled,disabledDates:a.disabledDates,enabledDates:a.enabledDates,minDate:a.minDate,maxDate:a.maxDate};"ja"==zi.current&&(r.dayViewHeaderFormat="YYYY年MMMM"),$(t).datetimepicker(r).addClass("datetimepicker")}}),$("#wc-message-group-content .calendar_group .calendar_embed input.content:not(.datetimepicker)").each(function(e,t){var n=z(t),i={inline:!0,format:Fn,locale:"vn"==zi.current?"vi":zi.current,useCurrent:n.useCurrent,defaultDate:n.defaultDate,daysOfWeekDisabled:n.daysOfWeekDisabled,disabledDates:n.disabledDates,enabledDates:n.enabledDates,minDate:n.minDate,maxDate:n.maxDate};"ja"==zi.current&&(i.dayViewHeaderFormat="YYYY年MMMM"),$(t).datetimepicker(i).addClass("datetimepicker"),i.useCurrent&&!i.defaultDate&&Array.isArray(i.enabledDates)&&i.enabledDates.length>0||On.focusEnableDay(t)}),function(e){var t=["icloud.com","gmail.com","yahoo.co.jp","docomo.ne.jp","au.com","ezweb.ne.jp","softbank.ne.jp","i.softbank.jp"],n=["icloud.com","gmail.com","yahoo.co.jp","docomo.ne.jp","au.com","ezweb.ne.jp","softbank.ne.jp","i.softbank.jp"];if(pa&&pa.black_list.length>0){var i=pa.black_list,a=i.split(",");if(a&&a.length>0)for(var r in a)-1!=t.indexOf(a[r])&&t.splice(t.indexOf(a[r]),1),-1!=n.indexOf(a[r])&&n.splice(n.indexOf(a[r]),1)}$("#wc-message-group-content input.email").each(function(e,i){var a=this;if(!$(this).hasClass("ui-autocomplete-input")){$(this).autocomplete({maxResults:8,source:function(e,i){var a="";if(void 0!==e.term){var r=e.term.match(/([^\s@]+)@(.*)/);if(void 0!==r&&r&&r.length>2)if(""===r[2])a=t;else{var o=new RegExp("^"+$.ui.autocomplete.escapeRegex(r[2],""),"i");a=$.grep(n,function(e){return o.test(e.label||e.value||e)})}}i(a.slice(0,8))},focus:function(e,t){return!1},response:function(e,t){if(void 0!==t.content&&t.content.length){var n=$(window).height(),i=$(a).offset().top,r=$(a).outerHeight(),o=n-i-r;o<240&&$(a).autocomplete("instance")&&$(a).autocomplete("option",{position:{my:"left bottom",at:"left top",collision:"flip"}})}},open:function(e,t){$(a).addClass("autocomplete-open"),$(document).on("touchstart",function(e){var t=$(e.target);!$(a).autocomplete("instance")||!$(a).is(":focus")||t.hasClass("ui-autocomplete-input")||t.hasClass("ui-autocomplete")||t.parents(".ui-autocomplete").length||$(a).autocomplete("close")}),$("#wc-message-groups").on("touchmove",function(){$(a).autocomplete("instance")&&$(a).autocomplete("close")})},close:function(e,t){$(a).removeClass("autocomplete-open")},select:function(e,t){var n=this.value.match(/([^\s@]+)@(.*)/);return void 0!==n&&n&&n.length>2&&t.item.value&&(this.value=n[1]+"@"+t.item.value),!1}})}})}(),$("#wc-message-group-content div.tel_hyphen_box").each(function(e,t){$(t).find("input.content").each(function(e,t){$(t).attr("maxLength")||(0===e?$(t).attr("maxLength",3):$(t).attr("maxLength",4))})}),$("#wc-message-group-content .slider_group #slider-input-div").each(function(e,t){var n=function(e){return{type:$(e).attr("data-slider_type"),color:$(e).attr("data-slider_color"),min_value:$(e).attr("data-min_value")||0,max_value:$(e).attr("data-max_value")||100,min_label:$(e).attr("data-min_label"),max_label:$(e).attr("data-max_label"),value:$(e).attr("data-answer")}}(t),i=getElementData($(t),"slider_loaded");i||($(t).slider({range:"min",min:Number(n.min_value),max:Number(n.max_value),value:n.value?Number(n.value):Number(n.min_value),step:n.type===jn.continuous?.1:1,slide:function(e,n){!function(e,t){if(e){e.dataset.slider_value_changed=!0;var n=$($(e).children(".ui-slider-handle")).children(".slider-value-label");T(n)||n.html(t.value);var i=$(e).parents(".msg_group");if(!T(i)){var a=$(e).parents(".chat-body").attr("data-message_id");V(a)}}}(t,n)},create:function(e,i){!function(e,t){if($(t).append('            <div class="slider-divide-container"></div>            <div class="slider-label">                <div class="slider-min-label">'+e.min_label+'</div>                <div class="slider-max-label">'+e.max_label+"</div>            </div>"),e.type==jn.discrete){$(t).children(".ui-slider-handle").append('<div class="slider-value-label">'+Number(e.min_value)+"</div>");for(var n=0;n<Number(e.max_value)-Number(e.min_value)+1;n++)$(t).children(".slider-divide-container").append('<div class="slider-divide"></div>')}var i=e.type==jn.discrete?42:22;if(e.color){var a=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}(e.color),r=a.r+" "+a.g+" "+a.b,o="shadow_"+Math.floor(1e7*Math.random()),s=document.createElement("style");s.innerHTML="                #slider-input-div .ui-state-hover."+o+"{                    box-shadow: 0px 0px 0px 8px rgb("+r+" / 20%);                }                #slider-input-div .ui-state-focus."+o+"{                    box-shadow: 0px 0px 0px 8px rgb("+r+" / 50%);                }                #slider-input-div .ui-state-active."+o+"{                    box-shadow: 0px 0px 0px 8px rgb("+r+" / 70%);                }",document.head.append(s),$(t).children(".ui-slider-handle").addClass(o),$(t).attr("style","background-color: rgb("+r+" / 38%); border: 1px solid transparent !important; margin-top: "+i+"px"),$($(t).children(".slider-divide-container")).children().css("background-color",e.color),$(t).children(".ui-slider-handle").attr("style","background: "+e.color+" !important"),$(t).children(".ui-slider-range").attr("style","background-color: "+e.color+" !important")}else $(t).attr("style","border: 1px solid transparent !important; margin-top: "+i+"px")}(n,t)}}),$(t).attr("data-slider_loaded",!0))}),We(a),Ve(a),setTimeout(function(){$("#wc-message-group-content .chat-right").each(function(e,t){var n=$(t).find(".pulldown_group").innerWidth();if($(t).find(".pulldown_group .one_select").not(".resize_width").find(".first_title").length||$(t).find(".pulldown_group .one_select").not(".resize_width").find(".last_title").length){var i=$(t).find(".pulldown_group .one_select .first_title"),a=$(t).find(".pulldown_group .one_select .last_title"),r=0,o=0,s=0,l=0;$(i).each(function(e,t){!T($(t).innerWidth())&&$(t).innerWidth()>r&&(r=$(t).innerWidth())}),$(a).each(function(e,t){!T($(t).innerWidth())&&$(t).innerWidth()>s&&(s=$(t).innerWidth())}),r>0&&(o=Math.ceil(r/(n/100)),i.parent(".title_box").css("width",o+"%")),s>0&&(l=Math.ceil(s/Math.floor(n/100)),a.parent(".title_box").css("width",l+"%")),$(t).find(".pulldown_group .one_select").not(".customize_auto_size").each(function(e,t){var n=100;$(t).find(".first_title").length&&(n-=o),$(t).find(".last_title").length&&(n-=l),n>0&&n<100&&$(t).find(".input_content").css("width",n+"%")})}if($(t).find(".pulldown_group .two_select").not(".resize_width").length){var c=$(t).find(".pulldown_group .two_select .input-group-addon"),d=0;c.length&&!T(c.innerWidth())&&c.innerWidth()&&(d=c.innerWidth());var u=(n-d-2)/2;u>0&&$(t).find(".pulldown_group .two_select .input_content").css("width",u+"px")}if($(t).find(".pulldown_group .period_time_box").not(".resize_width").length){var c=$(t).find(".pulldown_group .period_time_box .input-group-addon"),d=0;c.length&&!T(c.innerWidth())&&c.innerWidth()&&(d=c.innerWidth());var u=(n-d-1)/2;u>0&&$(t).find(".pulldown_group .period_time_box .period_time_item").css("width",u+"px")}})},1600),ye(),ve(),Pt.disableMessage(a);var u=[bn.button,bn.button_link];r&&-1==u.indexOf(e.attr("data-message_type"))||_n.enableNextMessage()}Ye(!0)}return"function"!=typeof i||i()}function H(e,t){if(!Qn.isSelect2())return!1;var n={language:{noResults:function(){return zi.getByCode("no_results_found","No results found")}},minimumResultsForSearch:-1,templateResult:function(e,t){var n="";return $(e.element).hasClass("hidden")&&(n+=" hidden"),$(t).addClass(n),$(t).html(d(e.text)),t}},i="";void 0==e||T(e)?(void 0!=t?$(t).hasClass("select2-hidden-accessible")||(i=$(t)):T($("#wc-message-group-content select").not(".select2-hidden-accessible"))||(i=$("#wc-message-group-content select").not(".select2-hidden-accessible")),i.length&&$(i).each(function(e,t){var n=$(t).attr("data-columns"),i=$(t).attr("data-placeholder");n=T(n)||isNaN(n)?1:parseInt(n);var a={language:{noResults:function(){return zi.getByCode("no_results_found","No results found")}},minimumResultsForSearch:-1,templateResult:function(e,t){var i="";return!T(n)&&n>1&&(i="col-xs-"+Math.floor(12/n),$(t).hasClass("select2-results__group")&&(i="col-xs-12")),$(e.element).hasClass("hidden")&&(i+=" hidden"),$(t).addClass(i),$(t).html(d(e.text)),t}};T(i)||(a.placeholder=i),T($(t).attr("multiple"))||(a.closeOnSelect=!1),a=R(t,a),$(t).select2(a),ei.setAutoDropdownHeight(t)})):(void 0!=t?($(t).hasClass("select2-hidden-accessible")&&(i=$(t)),n=R(t,n)):i=$("#wc-message-group-content select.select2-hidden-accessible"),i.length&&("refresh"==e?(i.select2("destroy"),i.select2(n),ei.setAutoDropdownHeight(i)):i.select2(e)))}function R(e,t){if(ei.isAutocomplete(e)){var n=$(e).parents(".msg_group").attr("data-auto_complete");$(e).parents(".msg_group").attr("data-variable_id"),t.minimumResultsForSearch=1,t.minimumInputLength=1,t.language.searching=function(){return zi.getByCode("searching","Searching")},t.language.inputTooShort=function(){return zi.getByCode("enter_more_charecters","Please enter 1 or more characters")},t.ajax={url:"https://api.botchan.chat/api/custom/pulldown/autocomplete/search",method:"POST",dataType:"json",delay:500,data:function(e){return{connect_page_id:Vt,user_id:Gt,keyword:e.term,search_type:n}},processResults:function(e,t){return{results:e.list,pagination:!1}},cache:!1}}return t}function Y(e,t){void 0!=t&&""!=t&&("check"==e?t.iCheck("check"):"uncheck"==e?t.iCheck("uncheck"):"disable"==e?t.iCheck("disable"):"enable"==e&&t.iCheck("enable"))}function z(e){var t={};if($(e).length){t.useCurrent=!1,t.defaultDate=!1,t.minDate=!1,t.maxDate=!1,t.daysOfWeekDisabled=[],t.disabledDates=[],t.enabledDates=[];var n="YYYY/MM/DD",i=$(e).attr("data-date_disable_api"),a=$(e).attr("data-date_enable_api");i=T(i)?[]:i.split(","),a=T(a)?[]:a.split(",");var r=$(e).attr("data-start_date"),o=$(e).attr("data-end_date"),s=$(e).attr("data-date_disable_code"),l=$(e).attr("data-enable_today_start"),c=$(e).attr("data-enable_today_end"),d=$(e).attr("data-date_disable_cms");if("1"==$(e).attr("data-nearest_select")&&(t.useCurrent=!0),d=T(d)?[]:d.split(","),$(e).hasClass("weekend_off")&&(t.daysOfWeekDisabled=[0,6]),T(r)||(r=(r=moment(r,n)).add(-1,"day"),t.disabledDates.push(r),t.minDate=r),T(o)||(o=(o=moment(o,n)).add(1,"day"),t.disabledDates.push(o),t.maxDate=o),$(d).each(function(e,i){t.disabledDates.push(moment(i,n))}),T(s)&&(s=""),(s=s.split(",")).length&&($(s).each(function(e,n){var i=moment({});switch(n){case Nn.today:t.disabledDates.push(i);break;case Nn.tomorrow:t.disabledDates.push(i.add(1,"day"));break;case Nn.after_tomorrow:t.disabledDates.push(i.add(2,"days"));break;case Nn.past:if(T(l)&&(T(r)||moment(r).isBefore()||T(o)||moment(o).isBefore())){var a=moment({}).add(-1,"day");t.disabledDates.push(a),t.minDate=a}break;case Nn.future:if(T(c)&&(!T(r)&&moment(r).isAfter()&&(t.minDate=i,t.disabledDates.push(i)),T(o)||moment(o).isAfter())){var s=moment({}).add(1,"day");t.disabledDates.push(s),t.maxDate=s}break;case Nn.monday:t.daysOfWeekDisabled.push(1);break;case Nn.tuesday:t.daysOfWeekDisabled.push(2);break;case Nn.wednesday:t.daysOfWeekDisabled.push(3);break;case Nn.thursday:t.daysOfWeekDisabled.push(4);break;case Nn.friday:t.daysOfWeekDisabled.push(5);break;case Nn.saturday:t.daysOfWeekDisabled.push(6);break;case Nn.sunday:t.daysOfWeekDisabled.push(0)}}),T(t.minDate)||T(t.maxDate)||0==t.minDate||0==t.maxDate||!moment(t.minDate).isAfter(t.maxDate)||(t.minDate=t.maxDate)),T(l)||(l=moment({}).add(parseInt(l)-1,"days"),t.disabledDates.push(l),t.minDate=l),T(c)||(c=moment({}).add(parseInt(c)+1,"days"),t.disabledDates.push(c),t.maxDate=c),i.length&&(t.enabledDates=!1,$(i).each(function(e,i){t.disabledDates.push(moment(i,n))})),a.length&&!t.disabledDates.length&&0==t.maxDate&&0==t.minDate&&!t.daysOfWeekDisabled.length){var u=a;if(!T($(e).attr("data-parent_name"))&&!T($(e).attr("data-option_date"))){var p=$(e).attr("data-option_date");if(Le(p)){p=JSON.parse(p),u=[];var _=$(e).attr("data-parent_name");_=_.split("|");var h={};$(_).each(function(e,t){var n=me(t);T(n)||(h[t]=n)}),$(p).each(function(e,t){if(!T(t.parent_option)&&!T(t.mode)&&!T(t.date)&&"available"==t.mode&&"object"==typeof t.parent_option&&"object"==typeof t.date&&t.parent_option.length){var n=0;if($(t.parent_option).each(function(e,t){T(t.name)||T(t.name)||void 0!=h[t.name]&&h[t.name]==t.value&&n++}),t.parent_option.length==n)return u=t.date,!1}})}}if(!T($(e).attr("data-input_follow_month"))){var f=me($(e).attr("data-input_follow_month"));if(!T(f)&&!isNaN(f)){var m=$(e).val(),g=!1,v=[],y="",b="";$(u).each(function(e,t){var n=moment(t);n.month()+1==f&&(v.push(t),(""==y||y>n.year())&&(y=n.year()),(""==b||b>n.date())&&(b=n.date()),!T(m)&&moment(m,Fn).isSame(moment(t))&&(g=!0))}),u=v,g||$(e).val("");var w=moment({}),x=w.month()+1;y=""!=y?y:w.year(),b=""!=b?b:w.date(),f!=x&&(t.defaultDate=w.set("year",y).set("month",parseInt(f-1)).set("date",b)),$(e).addClass("disable_prev_next")}}t.disabledDates=!1,$(u).each(function(e,i){t.enabledDates.push(moment(i,n))})}}if((t.minDate||t.maxDate)&&!t.defaultDate){var k=moment();t.minDate&&t.minDate.isAfter&&t.minDate.isAfter(k,"day")?t.defaultDate=t.minDate:t.maxDate&&t.maxDate.isBefore&&t.maxDate.isBefore(k,"day")&&(t.defaultDate=t.maxDate)}return t}function W(e,t,n){var i=$(".template_message .next_message").clone();T(e)&&(e=$("#wc-message-group-content .chat-right").last()),$(e).find(".chat-body .next_message").length||(T(t)||(t=d(t),i.find("button").html(t),i.find("button").attr("data-btn_next",t)),void 0!=n&&n&&i.find("button").addClass("disabled is_init"),$(e).find(".chat-body").append(i))}function U(e,t,n){var i=null,a=!0;if(T(e)?t=T(t)&&!qt?$("#wc-message-group-content .next_message button").not(".updating"):$("#wc-message-group-content .next_message button"):t=(i=he(e)).find(".next_message button"),void 0==n||n?i&&$(i).find(".msg_group").each(function(e,t){$(t).data("message_type").toString()==wn.terms_of_use&&(a=!1)}):a=!1,a&&!T($.fn.fileinputLocales[zi.current])){var r="";Ke("jelly_bean")?r=zi.getByCode("update"):zi.getByCode("ok","")&&(r=zi.getByCode("ok")),""!=r&&$(t).each(function(e,t){$(t).hasClass("updating")||$(t).html(r)})}T(t)||(t.addClass("disabled"),$(t).hasClass("is_init")&&t.removeClass("is_init"))}function V(e,t,n){if(!qt&&!T(e)){var i=he(e);if(function(e){var t=he(e);t.find(".captcha_group").length&&$(t.find(".captcha_group")).each(function(e,t){var n=$(t).find("input.content"),i=$(t).find(".captcha_box img"),a=i.attr("src");i.hasClass("verify")&&(n.attr("disabled",null).removeClass("notset"),a=a.replace("&time=","&time="+Date.now()),i.attr("src",a),i.removeClass("verify"))})}(e),!T(i.find(".next_message button"))){var a=i.find(".next_message button");(void 0==t||t)&&(a.hasClass("is_init")?a.removeClass("is_init"):(a.hasClass("disabled")&&a.addClass("updating"),function(e,t){if(!qt&&!T(e)){var n=he(e);if(!T(n.find(".next_message button"))){var i=n.find(".next_message button"),a="";T(i.attr("data-btn_next"))?T($.fn.fileinputLocales[zi.current])||(!i.hasClass("updating")||void 0!=t&&t?zi.getByCode("next","")&&(a=zi.getByCode("next")):zi.getByCode("update","")&&(a=zi.getByCode("update"))):a=i.attr("data-btn_next"),a&&i.html(a)}}}(e,n))),a.removeClass("disabled")}}}function G(e,t){U(e);var n=[];T(e)?(t||(Pt.is_disable=!0),n=$("#wc-message-group-content .chat-right"),$("#wc-message-group-content .chat-left"),$(".chat-header .header_cart_box, .chat-header .message_clear_box").addClass("disabled")):(n=$('#wc-message-group-content .chat-right .chat-body[data-message_id="'+e+'"]'),$('#wc-message-group-content .chat-left .chat-body[data-message_id="'+e+'"]')),n.find(".msg_group input:not(.icheck), .msg_group textarea").attr("readonly","readonly").addClass("notset"),n.find(".msg_group select").attr("disabled","disabled").addClass("notset"),_i=!1;var i=n.find(".msg_group input.icheck");Y("disable",i),i.addClass("notset"),_i=!0,n.find(".carousel_group button.carousel_select, .carousel_group button.carousel_link").addClass("disabled"),n.find(".upload_group button.file_select_btn").addClass("disabled"),n.find(".upload_group .label_item .remove_box").addClass("disabled"),n.find(".cart_group .cart_item .product_remove_box").addClass("disabled"),n.find(".calendar_group .calendar_select, .calendar_group .calendar_period").find("input.content").each(function(e,t){$(this).data("DateTimePicker").disable()}),n.find(".number_input_box .incr-btn button").addClass("disabled"),n.find(".chatview-container .pulldown_checkbox_container .select_box button").addClass("disabled"),n.find(".postalcode_group .postal_code_search_button .search_label").addClass("disabled"),n.find("#slider-input-div").each(function(e,t){$(t).slider({disabled:!0})})}function J(e){var t=[],n=[];if(T(e)?($("#wc-message-group-content .chat-right, #wc-message-group-content .chat-left").each(function(e,i){var a=$(this).find(".chat-body").data("message_id");T(a)||Pt.isDisableForever(a)||($(this).hasClass("chat-right")?t.push(i):n.push(i))}),Pt.is_disable=!1,$(".chat-header .header_cart_box, .chat-header .message_clear_box").removeClass("disabled")):Pt.isDisableForever(e)||(t=$('#wc-message-group-content .chat-right .chat-body[data-message_id="'+e+'"]'),n=$('#wc-message-group-content .chat-left .chat-body[data-message_id="'+e+'"]')),t.length){$(t).find(".msg_group input:not(.icheck), .msg_group:not(.terms_use_group):not(.textarea_group.readonly) textarea").attr("readonly",null).removeClass("notset"),$(t).find(".msg_group select").attr("disabled",null).removeClass("notset"),_i=!1;var i=$(t).find(".msg_group input.icheck");Y("enable",i),i.removeClass("notset"),_i=!0,$(t).find(".carousel_group button.carousel_select, .carousel_group button.carousel_link").removeClass("disabled"),$(t).find(".upload_group button.file_select_btn").removeClass("disabled"),$(t).find(".upload_group .label_item .remove_box").removeClass("disabled"),$(t).find(".cart_group .cart_item .product_remove_box").removeClass("disabled"),$(t).find(".calendar_group .calendar_select, .calendar_group .calendar_period").find("input.content").each(function(e,t){$(this).data("DateTimePicker").enable()}),$(t).find(".number_input_box .incr-btn button").removeClass("disabled"),$(t).find(".chatview-container .pulldown_checkbox_container .select_box button").removeClass("disabled"),$(t).find(".postalcode_group .postal_code_search_button .search_label").removeClass("disabled"),$(t).find("#slider-input-div").each(function(e,t){$(t).slider({disabled:!1})})}}function X(e){var t=$(e).parents(".msg_group");if(!T(t)){var n=$(e).parents(".chat-body").attr("data-message_id");setTimeout(function(){t.find("li").length&&t.find("li").each(function(e,t){$(t).find(".icheck_input_box").each(function(e,n){$(n).hasClass("checked")?($(t).addClass("active"),$(n).parents(".radio_img_item").length&&$(n).parents(".radio_img_item").first().addClass("active"),$(n).parents(".checkbox_img_item").length&&$(n).parents(".checkbox_img_item").first().addClass("active"),$(n).parents(".product_item").length&&$(n).parents(".product_item").first().addClass("active")):($(t).removeClass("active"),$(n).parents(".radio_img_item").length&&$(n).parents(".radio_img_item").first().removeClass("active"),$(n).parents(".checkbox_img_item").length&&$(n).parents(".checkbox_img_item").first().removeClass("active"),$(n).parents(".product_item").length&&$(n).parents(".product_item").first().removeClass("active"))})}),V(n)},100)}}function K(e,t){if(Ii.clearStopScrollMessageId(),Ii.clearScrollPositionMessageId(),_n.isNextMessage(e)&&_i&&void 0!=e&&""!=e){var n=he(e);if($("#wc-message-group-content .wc-message-wrapper.message_temp").remove(),Z(e)&&(fn=!0),!function(){var e=!0;if(Yt)T(Gt=p(nn+"_"+Vt))&&(e=!1);else if(void 0!=Wt){var t=Math.round(new Date/1e3);t-Wt>60*Ht&&(e=!1)}return e||Ne(zi.getByCode("session_expire","Session expire")),e}())return!1;It||_();var i=n.find(".postal_code input"),a=n.find(".dropdown_prefectures select"),r=n.find(".municipality input");if(!Xn.next_message_flg&&i.length&&T(i.val())&&a.length&&!T(a.val())&&r.length&&!T(r.val()))return Xn.next_message_flg=!0,ue(e),!1;if(function(e){if((ri==ai.request_document||ri==ai.add_to_cart)&&!si.length){var t="Please select at least one item..",n=he(e);return ri==ai.request_document?T(zi.getByCode("validate_require_document_item",""))||(t=zi.getByCode("validate_require_document_item")):ri==ai.add_to_cart&&(T(zi.getByCode("validate_require_product_item",""))||(t=zi.getByCode("validate_require_product_item"))),Te(t,n.find(".chat-body"),"cart_require_item",!1,!1),!1}return!0}(e))if(function(e){var t=!0,n=he(e);return T(n)||(t=validation_message(n,{file_upload_selected:zn,file_upload_input_type_list:Rn})),t}(e)){n.find(".error").length||n.find(".not_remove").length||je("remove_conversation_error_log",{log_message_id:e});var o=function(e){var t={connect_page_id:Vt,user_id:Gt,log_message_id:e,b_position:"",answer:[]},n=he(e);if(void 0!=n){t.b_position=n.find(".chat-body").data("b_position"),function(e){try{if(!T(e)){var t=he(e);t.length&&$(t).find(".msg_group").each(function(e,t){var n=[],i=$(t).data("message_type").toString();switch(i){case wn.card_payment_with_radio:case wn.radio:var a=$(t).find(".radio_container li");if(void 0!=a&&a.length&&a.find("input.option_input:checked").length){var r=a.find("input.option_input:checked").attr("data-variable_update");if(!T(r)&&Le(r))for(var o in r=JSON.parse(r)){var s=r[o];void 0!=s.name&&void 0!=s.value&&(s.use_empty_flg=1,n.push(s))}}break;case wn.product_purchase_radio_button:case wn.product_purchase:var l=$(t).find(".product_purchase_container li");l.length&&l.find("input.option_input:checked").length&&$.each(l.find("input.option_input:checked"),function(e,t){var i=$(t).attr("data-variable_update");if(!T(i)&&Le(i))for(var e in i=JSON.parse(i)){var a=i[e];void 0!=a.name&&"product_quantity"!=a.name&&void 0!=a.value&&(a.use_empty_flg=1,n.push(a))}})}n.length&&ze(n)})}}catch(e){}}(e);var i=0;$(n).find(".msg_group").each(function(e,a){var r=$(a).data("message_type").toString(),o=getElementData($(a),"variable_id"),s=getElementData($(a),"no_persist_flg"),l=getElementData($(a),"template_type");switch(r){case wn.text:case wn.captcha:case wn.add_to_cart:case wn.request_document:case wn.button_confirm:case wn.label_no_transition_record:t.answer.push(null);break;case wn.input:var c=$(a).data("input_type");if(!T(c))if(c==kn.password_confirm||c==kn.email_confirm){var d=$(a).find("input.content").first();T(d)||t.answer.push([d.val()])}else{var u=$(a).find("input.content");if(void 0!=u&&u.length){var p=$.map(u,function(e){return e.value});t.answer.push(p)}}break;case wn.textarea:var _=$(a).find("textarea.content"),h="";_.hasClass("readonly")||(h=_.val()),t.answer.push(h);break;case wn.radio:var f=$(a).find(".radio_container li");if(void 0!=f&&f.length){var m=$.map(f.find("input.option_input:checked"),function(e){return e.value});t.answer.push(m)}break;case wn.checkbox:var g=$(a).find(".checkbox_container li");if(void 0!=g&&g.length){var v=$.map(g.find("input.option_input:checked"),function(e){return e.value});t.answer.push(v)}break;case wn.postal_code:var y={},b=$(a).find("input.content");void 0!=b&&b.length&&$(b).each(function(e,t){var n=$(t).attr("name");T(n)||(y[n]=$(t).val())});var w=$(a).find("select.content");void 0!=w&&w.length&&$(w).each(function(e,t){var n=$(t).attr("name");T(n)||(y[n]=$(t).val())}),T(y)||t.answer.push(y);break;case wn.terms_of_use:var x=$(a).find(".input_box");if(T(x))Ke("jelly_bean")&&t.answer.push(["1"]);else{var k=$.map(x.find("input.option_input:checked"),function(e){return e.value});t.answer.push(k)}break;case wn.pulldown:var C=$(a).find(".select_box select");if(!T(C)){var D="";D=ei.isAutocomplete(C)?["0"]:$.map(C,function(e){return e.value}),t.answer.push(D)}break;case wn.carousel:var S=$(a).find(".carousel_item.active"),M="";T(S)||(M=S.index()),t.answer.push([M]);break;case wn.card_payment:var E=$(a).find(".input_box input, .select_box select"),A=Zi.provider_current===Zi.provider_list.stripe&&!!$(a).attr("data-stripe_client_secret");if(!T(E)||A){var O={};!T(ct.get_card_info_flg)&&1==ct.get_card_info_flg||1==ct.get_first_6digits_card_flg?E.each(function(e,t){var n=$(t).attr("name");if(!T(n)&&-1==["card_number1","card_number2","card_number3","card_number4"].indexOf(n)){n=n.replace(/card_/g,"");var i=$(t).val();if("number"===n)if(isCustomTruncationDisabledProvider(Zi.provider_current)){const e=$(a).attr("data-masked_card_number");attachMaskedCardDigitsByProvider(Zi.provider_current,O,e,ct)}else{if(1==ct.get_card_info_flg){var r=i.length;O[n]=i.substr(r-4,4)}1==ct.get_first_6digits_card_flg&&(O.number_first_6digits=i.substr(0,6))}else O[n]=i.trim()}}):function(e,t,n){if(ct.scenario_type===ai.product_payment){if(isCustomTruncationDisabledProvider(Zi.provider_current)){const n=$(t).attr("data-masked_card_number");attachMaskedCardDigitsByProvider(Zi.provider_current,e,n,ct)}else Q(e,t,n);ee(e,t,n),te(e,t,n)}}(O,a,ct);for(var P=0;P<Zi.get_token_number;P++){var q="data-token",j="payment_token";P>0&&(q+="-"+P,j+="_"+P),O[j]=$(a).attr(q)}switch(O.provider=Zi.provider_current,O.expire_at=$(a).attr("data-expire-at"),Zi.provider_current){case Zi.provider_list.gmo_smbc:case Zi.provider_list.gmo_pg:O.pgcard_shop_id=Qi.shop_id,O.pgcard_shop_pass=Qi.shop_pass,O.mode=Qi.mode,O.masked_card_number=$(a).attr("data-masked_card_number");break;case Zi.provider_list.pay_route:O.shop_id=aa.shop_id,O.shop_pass=aa.shop_pass,O.mode=Qi.mode;break;case Zi.provider_list.softbank:O.sb_merchant_id=ea.merchant_id,O.sb_service_id=ea.service_id,O.sb_hash_key=ea.hash_key,O.mode=ea.mode,O.masked_card_number=$(a).attr("data-masked_card_number");break;case Zi.provider_list.ze_us:case Zi.provider_list.paygent:case Zi.provider_list.veritrans_4g:O.masked_card_number=$(a).attr("data-masked_card_number");break;case Zi.provider_list.epsilon:O.mode=da.mode,O.contract_code=da.contract_code}A&&(O.stripe_setup_intent=$(a).attr("data-stripe_setup_intent"),O.stripe_payment_method=$(a).attr("data-stripe_payment_method")),$(a).parent().hasClass("card_payment_with_radio_group")||t.answer.push(O)}break;case wn.file:var N=$(a).find("input.file_input"),F=[];if(!gn||T(N)||T(N[0])||T(N[0].files)||!N[0].files.length)""==(F=$(a).find("input.file_data").val())&&(F=[]),Le(F)&&(F=JSON.parse(F));else{var L=N.attr("name");if(!T(zn[L])){var I=gn+"bot/"+Vt+"/file_upload",B=new FormData,H=Gt.replace(Vt+"_","")+"_"+n.index()+e;$(zn[L]).each(function(e,t){B.append("file_list[]",t)}),B.append("file_name_prefix",H);var R=function(e,t,n){var i=!1;return T(e)||T(t)||(T(n)||$(n).find(".loading").removeClass("hidden"),$.ajax({url:e,type:"POST",data:t,async:!1,processData:!1,contentType:!1,mimeTypes:"multipart/form-data",beforeSend:function(){},complete:function(){T(n)||($(n).find("input.file_input").val(""),$(n).find(".loading").addClass("hidden"))},success:function(e){i=e},error:function(e){i=e;var t=e.responseJSON;if(!T(n)&&!T(t)){var a="";a=T(t.errors)?t:t.errors,$(n).append("<label class='error'>"+a+"</label>")}}})),i}(I,B,a);!T(R.file_upload_list)&&R.file_upload_list.length&&(zn[L]=[],F=R.file_upload_list,le(a,F),$(a).find("input.file_input").attr("value",JSON.stringify(F)),$(a).find("input.file_data").val(JSON.stringify(F)))}}t.answer.push({files:F});break;case wn.calendar:var Y=$(a).find("input.content");if(Y.length<=1){var z=xe(Y.val());t.answer.push({year:z.year,month:z.month,day:z.day})}else{var W=[];$(Y).each(function(e,t){var n=xe($(t).val());W.push({year:n.year,month:n.month,day:n.day})}),t.answer.push(W)}t.lang=zi.current;break;case wn.pulldown_checkbox_stress:case wn.pulldown_checkbox_station:var U=$(a).find(".select_box select");if(!T(U)){var V=$.map(U,function(e){if(T($(e).attr("multiple")))return $(e).val();var t=[],n=$(e).val();return $(n).each(function(e,n){var i=U.find('option[value="'+n+'"]');i.length&&t.push({value:n,text:i.text()})}),[t]});t.answer.push(V)}break;case wn.product_purchase:var G=$(a).find(".product_purchase_container li");if(G.length){var J=$.map(G.find("input.option_input:checked"),function(e){var t=$(e).attr("id");if(J={},!T(ui[t])){(J=ui[t]).position=$(e).val();var n=$(e).parents(".product_item").find(".product_quantity_box input.content");n.length&&(J.amount=n.val())}return J});t.answer.push(J)}break;case wn.pin_code_auth_flg:var X=$(a).find("input.content");T(X)||t.answer.push([X.val()]);break;case wn.slider:var K=$(a).find("#slider-input-div");if(!T(K)){var Z=$(K).slider("value");(Z||0==Z)&&t.answer.push(Z+"")}break;case wn.product_purchase_radio_button:getProductPurchaseRadioButtonAnswer(a,t);break;case wn.card_payment_with_radio:getPaymentCardRadioMessageAnswer(a,t,Qi,aa,ea);break;case wn.booking_calendar:BookingCalendar.getAnswer(a,t);break;case wn.box_file_upload:BoxUploadFile.getAnswer(a,t)}t.answer&&t.answer.length==i+1&&t.answer[i]&&(o&&1==s&&(saveNoPersistValue(r,l,o,t.answer[i]),Array.isArray(t.answer[i])?t.answer[i]=[]:t.answer[i]=""),i+=1)})}return t}(e);if(function(e,t){var n=!0;if(T(e)||T(t)||-1==mn.indexOf(e)||(n=!1,$(t.answer).each(function(e,t){if($.isArray(t)){var i=0;if($(t).each(function(e,t){""!=t&&null!=t&&(i+=1)}),0!=t.length&&t.length==i)return void(n=!0)}})),!n){var i=zi.getByCode("validate_require_one_field","Please input at least 1 field."),a=he(e);Te(i,a.find(".chat-body"),null,!1,!1)}return n}(e,o)){var s=!1;if(void 0!=t&&t&&(n.find(".captcha_group").not(".verified").length&&(s=function(e){var t=!1,n=he(e);return Jn=[],n.find(".captcha_group").length&&($(n.find(".captcha_group")).each(function(t,n){var i=$(n).find("input.content"),a=i.attr("name"),r=i.val();if(!T(r)&&-1==Jn.indexOf(a)&&!T(Gn[a])){Jn.push(a);var o=Gn[a];o.connect_page_id=o.cid,o.log_message_id=e,o.captcha_name=a,o.text=r,Gn[a]=o}}),Jn.length&&(t=!0,$(Jn).each(function(e,t){if(!T(Gn[t])){var n=Gn[t];je("efo_user_send_captcha",n)}}))),t}(e)),n.find(".button_confirm_group").not(".verified").length&&(s=function(e){var t=!1,n=he(e),i=n.find(".button_confirm_group").attr("data-service_type"),a={};if(lt&&!T(st)&&(a.encrypt_key=st,a.encrypt_flg=lt),!T(i))switch(i){case ti.aftee:a.connect_page_id=Vt,a.user_id=Gt,a.log_message_id=e,je("efo_user_send_aftee_auth",a),n.find(".next_message button").addClass("disabled"),t=!0;break;case ti.atone:a.connect_page_id=Vt,a.user_id=Gt,a.log_message_id=e,je("efo_user_send_atone_auth",a),n.find(".next_message button").addClass("disabled"),t=!0;break;case ti.paidy:a.connect_page_id=Vt,a.user_id=Gt,a.log_message_id=e,je("efo_user_send_paidy_auth",a),t=!0;break;case ti.zcom:a.connect_page_id=Vt,a.user_id=Gt,a.log_message_id=e,je("efo_user_send_zcom_payment",a),t=!0}return t}(e)),n.find(".box_upload_group").length&&(s=!0,_a.emit("efo_user_get_box_token",{bot_id:Vt,user_id:Gt,log_message_id:e}),BoxUploadFile.showUploadingFile(e),U(e)),n.find(".card_payment_group").length&&!n.find(".card_payment_group").hasClass("group_hidden")))s=!0,he(e).find(".card_payment_group").attr("data-check_validity_flg")?(n.find(".next_message button").addClass("disabled"),Zi.checkValidity(e)):Zi.getToken(e);var l=function(e,t){var n={connect_page_id:Vt,user_id:Gt,log_message_id:e,data:[]};lt&&!T(st)&&(n.encrypt_flg=lt,n.encrypt_key=st);var i=he(e);return void 0!=i&&$(i).find(".msg_group").each(function(e,i){var a=$(i).data("message_type").toString(),r=$(i).data("api_valid_id"),o=$(i).data("variable_id")||null;if(a===wn.input){var s=$(i).find("input.content");if(void 0!=r&&void 0!=s&&s.length){var l=$.map(s,function(e){return e.value});lt&&!T(st)&&(l=w(l)),n.data.push({answer:l,api_valid_id:r,variable_id:o})}}else if(a===wn.postal_code&&void 0!=r){var c="",d=t[e];if(void 0!==d){var u=void 0!==d.postal_code&&d.postal_code.length>0?"〒"+d.postal_code.trim()+" ":"",p=void 0!==d.prefectures&&d.prefectures.length>0?d.prefectures.trim()+" ":"",_=void 0!==d.municipality&&d.municipality.length>0?d.municipality.trim()+" ":"",h=void 0!==d.street_number&&d.street_number.length>0?d.street_number.trim()+" ":"",f=void 0!==d.building_name&&d.building_name.length>0?d.building_name.trim()+" ":"";c=u+p+_+h+f}lt&&!T(st)&&(c=w(c)),n.data.push({answer:c,api_valid_id:r,variable_id:o})}}),n}(e,o.answer);if(void 0!=t&&t&&void 0!=l.data&&l.data.length&&(je("efo_api_validation_value",l),n.find(".next_message button").addClass("disabled"),s=!0),!s){n.find(".pulldown_group").length&&ei.updateAjaxOptionToDb(e),_n.disableNextMessage(),fn&&(o.question_edit_flg=!0,fn=!1),o.question_count=$("#wc-message-group-content .chat-right").length,T(Qt)||(o.preview_flg=Qt),o.client_title=Ki,o.current_url=Ji.href,o.current_url_param=Ji.param,lt&&!T(st)&&(o.answer=w(o.answer),o.encrypt_key=st,o.encrypt_flg=lt),je("efo_user_send_message",o);const t=["672aef0e5bab4146841c30bd","6826dd738e15f72d633d59c2"];if(!o.current_url&&t.includes(o.connect_page_id)){const e=document.createElement("script");e.src="https://browser.sentry-cdn.com/9.14.0/bundle.tracing.min.js",e.crossOrigin="anonymous",e.setAttribute("data-lazy","no"),e.onload=function(){Sentry.init({dsn:"https://3671df5f9fa6b473350cccaa28ca9919@o1378751.ingest.us.sentry.io/4509166720188416",tracesSampleRate:.01}),Sentry.withScope(function(e){e.setExtra("answer_data",o),Sentry.captureException(new Error("current_url was not retrieved"),e)})},document.head.appendChild(e)}return U(e),zi.checkChangeCurrentLang(e),!0}}}}return!1}function Z(e){var t=he(e);return!!$("#wc-message-group-content .wc-message-wrapper:gt("+t.index()+")").length&&($("#wc-message-group-content .wc-message-wrapper:gt("+t.index()+")").remove(),!0)}function Q(e,t,n){var i=$(t).find(".input_box input[name=card_number]").val()||"";n.save_last_4_digits_card_number_flg&&(e.number=i.substr(i.length-4,4)),n.save_first_6_digits_card_number_flg&&(e.number_first_6digits=i.substr(0,6))}function ee(e,t,n){n.save_card_expire_date_flg&&(e.month=$(t).find(".select_box select[name=card_month]").val(),e.year=$(t).find(".select_box select[name=card_year]").val())}function te(e,t,n){if(n.save_card_holder_name_flg){var i=$(t).find(".input_box input[name=card_name]").val();e.name=i&&i.trim()}}function ne(e,t){var n=!1;_i=!1;try{if(void 0!=e){var i=$(e).data("message_type").toString();if(void 0!=t)switch(Array.isArray(t)?t.length&&(t.length>1?n=!0:""!==t[0]&&(n=!0)):"object"==typeof t&&Object.keys(t).length&&(n=!0),i){case wn.input:var a=$(e).data("input_type");T(a)||(a==kn.password_confirm||a==kn.email_confirm?$(e).find("input.content").val(t[0]):$(t).each(function(t,n){var i=$(e).find("input.content").eq(t);T(i)||T(n)||i.val(n)}));break;case wn.textarea:var r=$(e).find("textarea.content");T(r)||r.hasClass("readonly")||r.val(t);break;case wn.radio:var o=$(e).find(".radio_container li");o.length&&$(t).each(function(e,t){if($(o).find('input[value="'+t+'"]').length){var n=$(o).find('input[value="'+t+'"]');Y("check",n),n.parents("li").addClass("active"),n.parents(".radio_img_item").length&&n.parents(".radio_img_item").first().addClass("active")}});break;case wn.checkbox:(w=$(e).find(".checkbox_container li")).length&&void 0!=t&&void 0!=e&&(Y("uncheck",$(w).find("input.icheck")),$(w).removeClass("active"),$(t).each(function(e,t){if($(w).find('input[value="'+t+'"]').length){var n=$(w).find('input[value="'+t+'"]');Y("check",n),n.parents("li").addClass("active"),n.parents(".checkbox_img_item").length&&n.parents(".checkbox_img_item").first().addClass("active")}}));break;case wn.postal_code:var s=e.data("country")?e.data("country"):"ja";t.country||(t.country=s),de(e,null,t);break;case wn.terms_of_use:var l=$(e).find(".input_box");T(l)||$(t).each(function(e,t){Y("check",$(l).find("input[value="+t+"]"))});break;case wn.pulldown:var c=$(e).find(".select_box select");T(c)||$(t).each(function(e,t){T(c.eq(e))||(!c.eq(e).parents(".month_date_box").length&&c.eq(e).parent().hasClass("select_day_box")&&j(c.eq(e-1)),c.eq(e).parents(".prefecture_city_box").length&&c.eq(e).attr("data-value",t),T(c.eq(e).find('option[value="'+t+'"]:not(:disabled)'))||c.eq(e).val(t))});break;case wn.carousel:var d=$(e).find(".carousel_container");T(d)||T(t[0])||parseInt(t[0])==t[0]&&$(d).find(".carousel_item").eq(t[0]).addClass("active");break;case wn.card_payment:if(!T($(e).find(".input_box input, .select_box select")))for(var u in t){var p="card_"+u;if(!T(t[u])){var _=$(e).find('.input_box input[name="'+p+'"], .select_box select[name="'+p+'"]');T(_)||_.val(t[u])}}break;case wn.file:if(!T(t.files)){var h=t.files;le(e,h),$(e).find("input.file_input").attr("value",JSON.stringify(h)),$(e).find("input.file_data").val(JSON.stringify(h))}break;case wn.calendar:var f=$(e).find("input.content");if(!T(f))if(f.length<=1){var m=Fn;m=(m=(m=m.replace(/YYYY/g,t.year)).replace(/MM/g,t.month)).replace(/DD/g,t.day),f.val(m)}else $(f).each(function(e,n){if(!T(t[e])){var i=Fn;i=(i=(i=i.replace(/YYYY/g,t[e].year)).replace(/MM/g,t[e].month)).replace(/DD/g,t[e].day),$(n).val(i)}});break;case wn.pulldown_checkbox_stress:case wn.pulldown_checkbox_station:var g=$(e).find(".select_box select");T(g)||$(t).each(function(e,t){var n=g.eq(e);if(n.length)if(T($(n).attr("multiple")))T(n.find('option[value="'+t+'"]'))||n.val(t);else{var i=[];$(t).each(function(e,t){i.push(t.value)}),n.val(i),(n.parents(".city_box").length||n.parents(".stress_box").length||n.parents(".line_box").length||n.parents(".station_box").length)&&(i=JSON.stringify(i),n.attr("data-value",i))}});break;case wn.product_purchase_radio_button:setAnswerMessageProductPurchaseRadioButton(e,t);break;case wn.product_purchase:var v=$(e).find(".product_purchase_container li");v.length&&$(t).each(function(e,t){if($(v).find('input[value="'+t.position+'"]').length){var n=$(v).find('input[value="'+t.position+'"]');Y("check",n),T(t.amount)||n.parents("li").find(".product_quantity_box input.content").val(t.amount),n.parents("li.product_item").addClass("active")}});break;case wn.pin_code_auth_flg:var y=$(e).find("input.content");T(y)||y.val(t[0]);break;case wn.card_payment_with_radio:setAnswerMessageCardPaymentWithRadio(e,t);break;case wn.booking_calendar:BookingCalendar.setAnswer(e,t);break;case wn.box_file_upload:BoxUploadFile.setAnswer(e,t)}else switch(i){case wn.checkbox:var b=$(e).find(".checkbox_container"),w=b.find("li"),x="1"==b.attr("data-select_all"),k=b.attr("data-select_max"),C=0;if(k=void 0==k||isNaN(k)?null:parseFloat(k),w.length&&x)for(var D=0;D<w.length&&(Y("check",$(w[D]).find("input.icheck")),$(w[D]).addClass("active"),$(w[D]).find(".checkbox_img_item").length?$($(w[D]).find(".checkbox_img_item")).each(function(e,t){null!=k&&C<k&&($(t).addClass("active"),C++)}):$(w[D]).find(".checkbox_item").length&&($(w[D]).find("li.checkbox_option").addClass("active"),C++),!(null!=k&&C>=k));D++);break;case wn.card_payment_with_radio:case wn.radio:if(!e.find(".icheck_input_box.checked").length&&e.find("input.option_input.default_select").length){var S=e.find("input.option_input.default_select");Y("check",S),$(S).parents(".radio_item").length&&$(S).parents("li.radio_option").addClass("active"),$(S).parents(".radio_img_item").length&&$(S).parents(".radio_img_item").first().addClass("active"),$(S).parents(".radio_custom_type").length&&$(S).parents("li.radio_option").first().addClass("active")}break;case wn.product_purchase:case wn.product_purchase_radio_button:if(!e.find(".icheck_input_box.checked").length&&e.find("input.option_input.default_select").length){var M=e.find("input.option_input.default_select");Y("check",M),$(M).parents(".product_item").length&&$(M).parents(".product_item").first().addClass("active")}}}}catch(e){}return _i=!0,n}function ie(){return ht=!1,_t?void(ht=!0):(Qe(Qi.token_script_url),Qe(ot+"js/locale/en/payment_token_gmo_error.js?v="+at),Qe(ot+"js/locale/ja/payment_token_gmo_error.js?v="+at),Qe(ot+"js/locale/th/payment_token_gmo_error.js?v="+at),Qe(ot+"js/locale/vn/payment_token_gmo_error.js?v="+at),void Qe(ot+"js/locale/zh-tw/payment_token_gmo_error.js?v="+at))}function ae(e){var t=document.createElement("script");t.type="text/javascript",t.text="var zeusTokenIpcode = '"+na.clientip+"';function formCardSubmit() {var result = {success: false};zeusToken.getToken(function(zeus_token_response_data) {if (!zeus_token_response_data['result']) {result.error_code = zeus_token_response_data['error_code'];} else { console.log('success', zeus_token_response_data);result.token_key = zeus_token_response_data['token_key'];result.masked_card_number = zeus_token_response_data['masked_card_number'];result.success = true;}});return result;}",document.head.appendChild(t);var n=na.token_script_url;e&&(n=na.token_cvc_script_url),$.getScript(n,function(e,t,n){zeusTokenStart=new zeusTokenStart}),Qe(ot+"js/locale/en/payment_token_zeus_error.js?v="+at),Qe(ot+"js/locale/ja/payment_token_zeus_error.js?v="+at),Qe(ot+"js/locale/th/payment_token_zeus_error.js?v="+at),Qe(ot+"js/locale/vn/payment_token_zeus_error.js?v="+at)}function re(e,t){var n=e.find(".card_holder_box input.content").val(),i=e.find(".card_number_box input.content").val(),a=e.find(".select_month_box select.content").val(),r=e.find(".select_year_box select.content").val(),o=e.find(".card_code_box input.content").val(),s=Math.random();r="20"+r;var l=$(".card_payment_group #zeus_token_card_info_area");return l.find("#zeus_token_value").val(s),l.find("#zeus_token_card_number").val(i),l.find("#zeus_token_masked_card_no").val(i),l.find("#zeus_token_card_name").val(n),l.find("#zeus_token_return_card_name").val(n),l.find("#zeus_token_card_expires_year").val(r),l.find("#zeus_token_return_card_expires_year").val(r),l.find("#zeus_token_card_expires_month").val(a),l.find("#zeus_token_return_card_expires_month").val(a),l.find("#zeus_token_card_cvv").val(o),l.find("#zeus_token_masked_cvv").val(o),l.find("#zeus_token_card_cvv_for_registerd_card").val(o),l.find("#zeus_token_action_type_new").val(1).attr("checked",!0),t(!0)}function oe(e){var t=e.find(".card_number_box input.content").val(),n="",i=t.length;if(i){var a=t.substring(0,4),r=t.substr(-4);n=a+"*".repeat(i-8)+r}return n}function se(e,t){var n=he(e),i=n.find(".card_holder_box input.content").val(),a=n.find(".card_number_box input.content").val(),r=n.find(".select_month_box select.content").val(),o=n.find(".select_year_box select.content").val(),s=n.find(".card_code_box input.content").val(),l={success:!1};if(""!=i&&""!=a&&""!=o&&""!=r){const c=function(d){!function(e,t,n,i,a,r){(new PaygentToken).createToken(oa.merchant_id,oa.token_key,{card_number:e,expire_year:t,expire_month:n,cvc:i,name:a},function(e){return"0000"!=e.result?r(!1,e):void 0!=e.tokenizedCardObject.token&&""!=e.tokenizedCardObject.token?r(!0,e):void 0})}(a,o,r,s,i,function(i,a){if(i){var r,o;if(0===d){const e=void 0!==a.tokenizedCardObject.masked_card_number?a.tokenizedCardObject.masked_card_number:oe(n);l.masked_card_number=e,n.find(".card_payment_group").attr("data-masked_card_number",e),r="data-token",o="payment_token"}else r="data-token-"+d,o="payment_token_"+d;l[o]=a.tokenizedCardObject.token,n.find(".card_payment_group").attr(r,l[o]),d>=oa.token_number-1?(l.success=!0,t(l)):c(d+1)}else T($.fn.paygentTokenErrorLocales[zi.current])||T($.fn.paygentTokenErrorLocales[zi.current][a.result])||(je("save_conversation_error_log",{log_message_id:e,error_message:$.fn.paygentTokenErrorLocales[zi.current][a.result]}),Fe(e,$.fn.paygentTokenErrorLocales[zi.current][a.result]))})};c(0)}}function le(e,t){if($(e).length&&"object"==typeof t&&t.length){var n=$(".template_message"),i=$(e).find(".label_box");i.html(""),$(t).each(function(e,t){if(!T(t.path)&&!T(t.name)){var a=n.find(".upload_template .upload_component .label_item:not(.no_file_select)").clone();a.find("a.label_text").html(ce(t.name)),Wn&&a.find("a.label_text").attr("target","_blank");var r=n.find(".remove_box_template .remove_box").clone();a.append(r),i.append(a)}})}}function ce(e,t){try{if(void 0==t&&(t=26),!T(e)&&"string"==typeof e&&e.length>t){var n=e.split("."),i=n.pop();e=n.join(".").substring(0,t-i.length-"..".length)+"..."+i}}catch(e){}return e}function de(e,t,n){var i=n.data&&n.data.country?n.data.country:n.country?n.country:tt;if(T(t)||(e=he(t),e=$(e).find(".postalcode_group[data-country="+i+"]")),!T(e)&&!T(n)){var a=$(e).find(".postal_code_split"),r=!T(a),o=$(e).find(".postal_code input"),s=$(e).find(".prefectures input"),l=$(e).find(".dropdown_prefectures select"),c=$(e).find(".municipality input"),d=$(e).find(".street_number input"),u=$(e).find(".building_name input");if(!T(o)||r){var p=T(n.data)||T(n.data.zipcode)?n.postal_code?n.postal_code:n.zipcode:n.data.zipcode;if(!T(p)&&(i==tt&&p.length>=7||i==et&&6==p.length))if(r){var _=p.slice(0,3),h=p.slice(3,8);a.find('input[name="postal_code_1"]').val(_),a.find('input[name="postal_code_2"]').val(h),a.find('input[name="postal_code"]').val(p)}else o.val(p)}if(!T(s)){var f=T(n.pref)?n.prefectures:n.pref;T(f)||s.val(f)}if(!T(l)){var m=T(n.pref)?n.prefectures:n.pref;T(m)||l.val(m).trigger("change")}if(!T(c)){var g=T(n.city)?n.municipality:n.city;T(g)||c.val(g)}if(!T(d)){var v=T(n.street)?n.street_number:n.street;T(v)||d.val(v)}if(!T(u)){var y=T(n.building)?n.building_name:n.building;T(y)||u.val(y)}}}function ue(e){if(!T(e)&&!Xn.get_data_processing){var t=he(e),n=t.find(".postalcode_group").data("country");if(n==et)return;var i=t.find(".postal_code_split"),a=!T(i),r=t.find(".postal_code input"),o=t.find(".dropdown_prefectures select"),s=t.find(".municipality input");if((!T(r)||a)&&!T(o)&&!T(s)){var l=o.val(),c=s.val();if(T(c)&&a&&pe(i,null),T(l)&&a&&pe(i,null),!T(l)&&!T(c)){var d="",u="",p="",_=(l+c).trim().match("(...??[都道府県])((?:旭川|伊達|石狩|盛岡|奥州|田村|南相馬|那須塩原|東村山|武蔵村山|羽村|十日町|上越|富山|野々市|大町|蒲郡|四日市|姫路|大和郡山|廿日市|下松|岩国|田川|大村|宮古|富良野|別府|佐伯|黒部|小諸|塩尻|玉野|周南)市|(?:余市|高市|[^市]{2,3}?)郡(?:玉村|大町|.{1,5}?)[町村]|(?:.{1,4}市)?[^町]{1,4}?区|.{1,7}?[市町村])(.+)");if(_&&_.length>0&&(_[1]&&(d=_[1]),_[2]&&(u=_[2]),_[3]&&(p=_[3])),T(d)||T(u)||T(p))a&&pe(i,null);else je("efo_user_send_pref_city",{pref:d,city:u,street:p,country:n||"ja",log_message_id:e})}}}}function pe(e,t){var n=null,i=null;if(!T(t))n=(t=t.replace(/〒/g,"")).slice(0,3),i=t.slice(3,8);e.find('input[name="postal_code_1"]').val(n).trigger("input"),e.find('input[name="postal_code_2"]').val(i).trigger("input"),e.find('input[name="postal_code"]').val(t).trigger("input")}function _e(e){return T(e)?[]:$("#wc-message-group-content .chat-body[data-message_id="+e+"]").parents(".wc-message-wrapper")}function he(e){return T(e)?[]:$("#wc-message-group-content .chat-body[data-message_id="+e+"]").parents(".wc-message-wrapper.chat-right")}function fe(e,t){var n="data-variable_id";return void 0!=t&&t&&(n="data-variable_name"),$("#wc-message-group-content .wc-message-wrapper.chat-right .msg_group["+n+'="'+e+'"]')}function me(e){var t="",n=$('#wc-message-group-content .msg_group [name="'+e+'"]');if(n.length){var i="";if(n.is("select")&&!T(n.val())){i=n.val();var a=n.find('option[value="'+i+'"]');a.length&&(t=T(a.attr("data-value"))?a.val():a.attr("data-value"))}else n.is("input")&&("radio"==$(n).attr("type")||"checkbox"==$(n).attr("type")?$(n).each(function(e,n){if(!T($(n)[0])&&$(n)[0].checked)return t=T($(n).attr("data-value"))?$(n).val():$(n).attr("data-value"),!1}):t=$.trim(n.val()))}return t}function ge(e){if(!qt){qt=!0,$("body").addClass("cv_complete"),si=[],$(".header_cart_box .cart_quantity").html(0),Ri.saveAnalytic({cv_flg:1}),G(),ve(),function(){try{var e={cv_data:fi,gtag_data:{event_category:"botchan_efo",event_label:"end_form"},cv_redirect:mi};k(e)}catch(e){window.console}}(),function(){if(1==yi){var e={},t=Ie();"-1"==t.indexOf(vi)&&t.push(vi),t=t.join(tn),e[an]=v(t,!1),h(e)}}();k({conversation_end:{}});var t=null;"object"==typeof e&&(t=e.liff_msg),function(e){var t=Di.message_text;if(T(e)||(t=e),void 0!=liff&&Di.status&&t)try{liff.sendMessages([{type:"text",text:t}]).catch(function(){})}catch(e){}}(t),f([1]),function(){if(Pi){var e=$(".template_message .chatbox_remove_box").clone();e.length&&($("#wc-message-group-content").append(e),$("#wc-message-groups").css("padding-bottom","40px"),Ii.scrollBottom({message_type:yn.bot}))}}(),void 0!=liff&&Di.status&&Ei&&setTimeout(function(){try{liff.closeWindow()}catch(e){}},1e3*Ai),Si&&setTimeout(function(){MessengerExtensions.requestCloseBrowser(function(){},function(e){})},1e3*Ai)}}function ve(){if(void 0!=un){var e=$(".chatview-container .progress_question"),t=e.find(".process_label"),n=e.find(".progress-bar");if($("#wc-message-group-content .chat-right").length){var i=0;e.hasClass("hidden")&&(i=1150,setTimeout(function(){e.removeClass("hidden")},1100)),setTimeout(function(){var e=$("#wc-message-group-content .chat-right").length;qt&&(un=e);var i=e/un*100,a=un-e+1;qt&&(a=0),$(".wc-message-group-content").attr("data-message-left",a),a<=1&&($(".wc-message-group-content .wc-message-wrapper.chat-right").removeClass("message-last"),$(".wc-message-group-content .wc-message-wrapper.chat-right:last").addClass("message-last"));var r=Oi.getProcessLabel(a);t.html(r),n.css("width",i+"%")},i)}}}function ye(e){if(T(e)){var t=$("#wc-message-group-content .chat-right").length;$("#wc-message-group-content .chat-right").each(function(e,n){if((t<=1||e+1<t)&&1==$(n).find(".msg_group").not(".text_group").not(".label_no_transition_group").not(".textarea_group.readonly").length&&(1==$(n).find(".msg_group.radio_group").length||1==$(n).find(".msg_group.card_payment_with_radio_group").length||1==$(n).find(".msg_group.product_purchase_radio_button_group").length||1==$(n).find(".msg_group.carousel_group.is_next_message").length)){var i=!0;if($(n).find(".msg_group.radio_group").length){var a=$(n).find(".msg_group.radio_group");a.hasClass("is_next_message")?"1"==a.attr("data-next_message_remove_first_onload")&&(i=!1,a.attr("data-next_message_remove_first_onload",null)):i=!1}if($(n).find(".msg_group.card_payment_with_radio_group").length){var r=$(n).find(".msg_group.card_payment_with_radio_group");r.hasClass("is_next_message")?"1"==r.attr("data-next_message_remove_first_onload")&&(i=!1,r.attr("data-next_message_remove_first_onload",null)):i=!0}i&&$(n).find(".next_message").remove()}})}else{var n=he(e);T(n)||(n.find(".msg_group").hasClass("card_payment_with_radio_group")&&showHideNextMessageButton(n),n.find(".msg_group").not(".text_group").not(".label_no_transition_group").not(".textarea_group.readonly").length<=1&&(n.find(".msg_group").hasClass("radio_group")||n.find(".msg_group").hasClass("carousel_group")&&n.find(".msg_group").hasClass("is_next_message"))&&n.find(".next_message").fadeOut(500,function(){$(this).remove()}))}}function be(e){var t=!1;if("object"==typeof e){var n=e.length;$(e).each(function(e,t){(t.type==wn.text||t.type==wn.label_no_transition_record||t.type==wn.textarea&&(T(t.template_type)||t.template_type==xn.readonly))&&n--}),n<=1&&(t=!0)}return t}function we(){var e=$("#wc-message-group-content .chat-body .carousel_container.init_carousel");e.length&&e.each(function(e,t){var n=null,i=null;$(t).find(".carousel_item").each(function(e,t){var a=$(t).find(".title_box .item_title"),r=$(t).find(".title_box .item_subtitle");if(a.length){var o=a.attr("style");if(T(o)||"-1"==o.indexOf("height")){var s=Math.round(a.outerHeight());(null==n||s>n)&&(n=s)}}if(r.length){var l=r.attr("style");if(T(l)||"-1"==l.indexOf("height")){var c=Math.round(r.outerHeight());(null==i||c>i)&&(i=c)}}}),n&&$(t).find(".title_box .item_title").css("height",n+"px"),i&&$(t).find(".title_box .item_subtitle").css("height",i+"px")})}function xe(e){var t="",n="",i="";return T(e)||(t=(e=moment(e,Fn)).year(),n=e.month()+1,i=e.date(),n=n<10?"0"+n:n,i=i<10?"0"+i:i),{year:t,month:n,day:i}}function ke(e){var t={};return lt&&!T(st)&&(t.encrypt_key=st,t.encrypt_flg=lt),t.connect_page_id=Vt,t.user_id=Gt,t.card_code_box=e,je("efo_get_payment_gateway",t),!0}function $e(e){void 0==e&&(e=!1),$("body").addClass("processing_open_close"),clearTimeout(wa),wa=setTimeout(function(){$("body").removeClass("processing_open_close")},500),e?(Vi.socket.checkConnect(Vi.socket_check.chatbox_open),$("body").removeClass("wc-close"),$("body").addClass("wc-open"),yt&&A()&&$("body").scrollTop(500)):($("body").addClass("wc-close"),$("body").removeClass("wc-open"),"block"==$("#botchan-chat .cart_preview_box").css("display")&&Oe(!1),Bi.modalHide())}function Ce(e){if(!e.match(/^(\w| |'|,|&)+$/))return!0}function Te(e,t,n,i,a){if(!T(e)&&!T(t)&&$(t).length){var r="success";T(i)||i||(r="error"),T(n)?n="":$(t).find("."+n).remove();var o="<label class='"+r+" "+n+"' style='padding-top: 5px'>"+e+"</label>";void 0!=a&&a?t.prepend(o):t.append(o)}}function De(e,t){T(e)||(void 0==t&&(t=!0),ri==ai.add_to_cart?function(e,t){var n=!0;if(!T(e)&&!T(e[oi.id])){var i=e[oi.id],a=!1;if($(si).each(function(t,r){if(r[oi.id]==i){a=!0;var o=e[oi.quantity];if(!T(o)&&!isNaN(o))if((o=parseFloat(o))>0){var s=si[t][oi.quantity]+o;si[t][oi.quantity]=s;var l=$('.cart_item[data-product_code="'+i+'"]');l.length&&l.find(".product_quantity_box input").val(s)}else n=!1,Se(i)}}),n){if(a||si.push(e),t){var r={action_name:"add",action_data:e,connect_page_id:Vt,user_id:Gt};lt&&!T(st)&&(r.encrypt_flg=lt,r.encrypt_key=st,r.action_data=w(r.action_data)),ri==ai.add_to_cart?je("efo_add_to_cart_event",r):ri==ai.request_document&&je("efo_document_event",r)}Ee(e)}}}(e,t):ri==ai.request_document&&function(e,t){var n=!0;if(!T(e)&&!T(e[oi.id])){var i=e[oi.id];if($(si).each(function(e,t){t[oi.id]!=i||(n=!1)}),n){if(si.push(e),t){var a={action_name:"add_or_update",action_data:e,connect_page_id:Vt,user_id:Gt};lt&&!T(st)&&(a.encrypt_flg=lt,a.encrypt_key=st,a.action_data=w(a.action_data)),ri==ai.add_to_cart?je("efo_add_to_cart_event",a):ri==ai.request_document&&je("efo_document_event",a)}Ee(e)}}}(e,t),Ae())}function Se(e){T(e)||$(si).each(function(t,n){if(n[oi.id]==e){si.splice(t,1);var i="";if(ri==ai.add_to_cart?i="efo_add_to_cart_event":ri==ai.request_document&&(i="efo_document_event"),i){var a={action_name:"remove",action_data:{id:e},connect_page_id:Vt,user_id:Gt};lt&&!T(st)&&(a.encrypt_flg=lt,a.encrypt_key=st,a.action_data=w(a.action_data));var r={action_name:"remove",action_data:{id:e}};je(i,a);var o={};o[i]=r,k(o)}return $('.cart_item[data-product_code="'+e+'"]').remove(),Pe(),Ae(),void!0}})}function Me(e,t){T(e)||T(t)||$(si).each(function(n,i){if(i[oi.id]==e){var a=$('.cart_item[data-product_code="'+e+'"]');for(var r in t)r==oi.quantity&&(si[n][r]=t[r],a.find(".product_quantity_box input").val(t[r]));var o="",s="";if(ri==ai.add_to_cart?(o="efo_add_to_cart_event",s="update"):ri==ai.request_document&&(o="efo_document_event",s="add_or_update"),o){t[oi.id]=e;var l={action_name:s,action_data:t,connect_page_id:Vt,user_id:Gt};lt&&!T(st)&&(l.encrypt_flg=lt,l.encrypt_key=st,l.action_data=w(l.action_data));var c={action_name:"update",action_data:t};je(o,l);var d={};d[o]=c,k(d)}Ae(),!0}})}function Ee(e){T(e)||(ri==ai.add_to_cart?function(e){var t=$(".template_message"),n=t.find(".message_type .shopping_cart_template .cart_item").clone(),i=n.find(".product_name"),a=n.find(".cart_detail_box"),r=e[oi.id],o=e[oi.name],s=e[oi.sub_name],l=e[oi.image],c=e[oi.price],d=e[oi.quantity],u=e[oi.currency];if(n.attr("data-product_code",r),i.html(o),T(e[oi.url])||(i.attr("href",e[oi.url]),i.attr("target","_blank")),!T(l)){var p=t.find(".message_type .shopping_cart_template .cart_image_box").clone();p.find("img").attr("src",l),n.prepend(p),a.removeClass("col-xs-12").addClass("col-xs-9")}if(!T(s)){var _=t.find(".message_type .shopping_cart_template .product_desc_box").clone();_.find(".product_desc").html(s),a.append(_)}if(!T(c)){var h=t.find(".message_type .shopping_cart_template .product_price_box").clone(),f=qe(c,u);h.find(".product_price").html(f),a.append(h)}if(!T(d)){var m=t.find(".message_type .shopping_cart_template .product_quantity_box").clone();m.find("input.content").val(d),a.append(m)}if(!T(d)&&!T(c)){var g=t.find(".message_type .shopping_cart_template .product_price_total_box").clone(),v="";isNaN(c)||isNaN(d)||(v=qe(v=parseFloat(c)*parseFloat(d),u)),g.find(".product_price").html(v),a.append(g)}$('.cart_preview_container .cart_item[data-product_code="'+r+'"]').length||$(".cart_preview_container ul").append(n),$("#wc-message-group-content .shopping_cart_group .cart_container").each(function(e,t){$(this).find('.cart_item[data-product_code="'+r+'"]').length||$(this).append(n.clone())})}(e):ri==ai.request_document&&function(e){var t=$(".template_message"),n=t.find(".message_type .document_cart_template .cart_item").clone(),i=n.find(".product_name"),a=n.find(".cart_detail_box"),r=e[oi.id],o=e[oi.name],s=e[oi.sub_name],l=e[oi.image];if(n.attr("data-product_code",r),i.html(o),T(e[oi.url])||(i.attr("href",e[oi.url]),i.attr("target","_blank")),!T(l)){var c=t.find(".message_type .document_cart_template .cart_image_box").clone();c.find("img").attr("src",l),n.prepend(c),a.removeClass("col-xs-12").addClass("col-xs-9")}if(!T(s)){var d=t.find(".message_type .document_cart_template .product_desc_box").clone();d.find(".product_desc").html(s),a.append(d)}var u=n.clone();$('.cart_preview_container .cart_item[data-product_code="'+r+'"]').length||$(".cart_preview_container ul").append(n),$("#wc-message-group-content .document_cart_group .cart_container").each(function(e,t){if(!$(this).find('.cart_item[data-product_code="'+r+'"]').length){var n=$(this).attr("data-cart_document_type"),i=u.clone();n==li.title?(i.find(".product_desc_box, .cart_image_box").remove(),i.find(".cart_detail_box").removeClass("col-xs-9").addClass("col-xs-12")):n==li.title_sub_title&&(i.find(".cart_image_box").remove(),i.find(".cart_detail_box").removeClass("col-xs-9").addClass("col-xs-12")),$(this).append(i)}})}(e),Pe())}function Ae(){var e=0,t=0,n="";$(si).each(function(i,a){var r=a[oi.id],o=a[oi.quantity],s=a[oi.price],l=a[oi.currency],c=0;if(T(o)||isNaN(o))e+=1;else{e+=o,T(n)&&!T(l)&&(n=l),T(s)||isNaN(s)||(c=parseFloat(o)*parseFloat(s),t+=c);var d=$('.cart_item[data-product_code="'+r+'"]');d.length&&(c=qe(c,n),d.find(".product_price_total_box .product_price").html(c))}}),$(".header_cart_box .cart_quantity").html(e),ri==ai.add_to_cart&&(t=qe(t,n),$(".cart_preview_box .price_total_box .price_total").html(t),$(".cart_group .price_total_box .price_total").html(t)),si.length&&$(".message-container .error.cart_require_item").remove()}function Oe(e){var t=$(".cart_preview_box"),n=!1;void 0!=e?e&&(n=!0):"none"==t.css("display")&&(n=!0),n?(Bi.modalHide(),t.show()):t.hide(),function(e){void 0==e&&(e=!1),e?$("body > .modal-backdrop.custom").length||$("body").append('<div class="modal-backdrop in custom"></div>'):$("body > .modal-backdrop.custom").remove()}(n)}function Pe(){si.length?($(".cart_preview_container .empty_label, #wc-message-group-content .cart_group .empty_label").addClass("hidden"),$(".cart_preview_box .price_total_box").removeClass("hidden"),$(".cart_group .price_total_box").removeClass("hidden")):($(".cart_preview_box .cart_preview_container .cart_item").remove(),$(".cart_preview_container .empty_label, #wc-message-group-content .cart_group .empty_label").removeClass("hidden"),$(".cart_preview_box .price_total_box").addClass("hidden"),$(".cart_group .price_total_box").addClass("hidden"))}function qe(e,t){var n="";return T(e)||(n=function(e){return T(e)||isNaN(e)?null:parseFloat(e).toLocaleString()}(e),T(t)||(n+='<span class="currency">'+t+"</span>")),n}function je(e,t){T(e)||(T(t)&&(t=""),_a.emit(e,t))}function Ne(e){if(!T(e)){V($("#wc-message-group-content .wc-message-wrapper.chat-right").last().find(".chat-body").attr("data-message_id"));var t,n=$(".template_message"),i=n.find(".chat-left").clone();i.find(".chat-avatar").css("opacity",F(1)),i.addClass("message_temp chat-left-active"),t=n.find(".message_type p.text_group").clone();var a=zi.getByCode("error","Error!");"object"==typeof e?$(e).each(function(e,t){a+='<br/><span class="dot_elm"></span>'+t}):a=e,t.html(a),i.find(".chat-body").append(t),B(i)}}function Fe(e,t,n){if(!T(e)&&!T(t)){var i,a=he(e);i="object"==typeof t?t.join("<br/>"):t,a.find(".chat-body > .error").not(".not_remove").remove();var r=a.find(".chat-body");void 0!=n&&n&&a.find(".msg_group").length&&(r=a.find(".msg_group").last()),Te(i,r,null,!1,!1)}}function Le(e){try{JSON.parse(e)}catch(e){return!1}return!0}function Ie(){var e=bi;return!T(e)&&(e=(e=y(e,!1)).split(tn)).length?e:[]}function Be(){He()&&Re()}function He(){var e=Ie();return 1==yi&&"-1"!=e.indexOf(vi)}function Re(e){(window==window.parent||!T(en)&&!Zt||Si)&&$("html").remove();var t={chatbox_remove:1};void 0!=e&&e&&(t.remove_force=!0),k(t)}function Ye(e){if(gi.length)try{var t=[];$.each(gi,function(n,i){var a,r=i.value,o=i.update_flg,s=i.reset_flg,l=i.value_filter_by;if(T(i.variable_id)?T(i.variable_name)||(a=fe(i.variable_name,!0)):a=fe(i.variable_id),void 0!=a&&a.length&&!T(r)){if(void 0!=e&&e&&a.length>1)return!1;var c=$(a).parents(".chat-body").attr("data-message_id"),d=a[0];switch($(d).data("message_type")){case wn.card_payment_with_radio:case wn.radio:var u;if("label"==l?u=$(d).find('input.option_input[data-label="'+r+'"]'):"value"==l&&(u=$(d).find('input.option_input[data-value="'+r+'"]')),u.length){var p=!0;if(!o)u.parents(".radio_container").find("input.option_input:selected").length&&(p=!1);p&&(_n.enableNextMessage(),1==s&&Y("uncheck",u),Y("check",u),1==s&&setTimeout(function(){a.parents(".chat-body").find(".msg_group").length>1&&K(c,!0)},300)),t.push(n)}break;case wn.pulldown:switch($(d).attr("data-template_type")){case Sn.customize:case Sn.api:case Sn.the_provinces_of_japan:var _;if("label"==l?_=$(d).find('select option[data-label="'+r+'"]'):"value"==l&&(_=$(d).find('select option[data-value="'+r+'"]')),_.length){var h=!0;if(!o)_.parents("select").find("option:selected").length&&(h=!1);h&&(_=_[0],_n.enableNextMessage(),$(_).parent("select").val($(_).attr("value")).trigger("change.select2"),1==s&&K(c,!0)),t.push(n)}}break;case wn.product_purchase_radio_button:setDataMessageProductPurchaseRadioButton(d,l,update_message_flg,r,c,t,n,s);break;case wn.product_purchase:var f;if("label"==l?f=$(d).find('input.option_input[data-label="'+r+'"]'):"value"==l&&(f=$(d).find('input.option_input[data-value="'+r+'"]')),f.length){var m=!0;if(!o)f.parents(".product_purchase_container").find("input.option_input:checked").length&&(m=!1);m&&(_n.enableNextMessage(),Y("check",f),1==s&&setTimeout(function(){K(c,!0)},300)),t.push(n)}}}}),t.length&&(gi=gi.filter(function(e,n){return"-1"==t.indexOf(n)}))}catch(e){}}function ze(e){var t={user_id:Gt,connect_page_id:Vt,param_data:[]};void 0!=e?t.param_data=e:(T(cn.url_param_ref)||t.param_data.push({name:"ref",value:cn.url_param_ref}),ji.length&&$(ji).each(function(e,n){T(cn["url_param_"+n])||t.param_data.push({name:n,value:cn["url_param_"+n]})}),Ni.length&&$(Ni).each(function(e,n){void 0!=n.update_flg&&1==n.update_flg&&void 0!=n.name&&""!=n.name&&void 0!=n.value&&""!=n.value&&t.param_data.push({name:n.name,value:[n.value]})}),t.param_data.push({name:"user_referer_current",value:T(dn.user_referer_current)?"":dn.user_referer_current})),t.param_data.length&&(lt&&!T(st)&&(t.encrypt_flg=lt,t.encrypt_key=st,t.param_data=w(t.param_data)),je("efo_user_send_variable_update",t))}function We(e){if(!T(e)){var t=he(e);if(t.length&&t.find(".msg_group.pulldown_c_stress").length){var n=t.find(".area_box select.content"),i=t.find(".city_box select.content"),a=t.find(".stress_box select.content"),r=n.val();T(r)?Qn.isSelect2()?($(i).html("").attr("data-value",null).trigger("change.select2"),$(a).html("").attr("data-value",null).trigger("change.select2")):($(i).html("").attr("data-value",null),$(a).html("").attr("data-value",null)):je("efo_user_get_japan_stress",{user_id:Gt,connect_page_id:Vt,log_message_id:e,pref:r})}}}function Ue(e){if(!T(e)){var t=he(e);if(t.length&&t.find(".msg_group.pulldown_c_stress").length){var n=t.find(".city_box select.content"),i=t.find(".stress_box select.content"),a=n.val();T(a)?Qn.isSelect2()?$(i).html("").attr("data-value",null).trigger("change.select2"):$(i).html("").attr("data-value",null):je("efo_user_get_japan_stress",{user_id:Gt,connect_page_id:Vt,log_message_id:e,city:a})}}}function Ve(e){if(!T(e)){var t=he(e);if(t.length&&t.find(".msg_group.pulldown_c_station").length){var n=t.find(".area_box select.content"),i=t.find(".line_box select.content"),a=t.find(".station_box select.content"),r=n.val();T(r)?Qn.isSelect2()?($(i).attr("data-value",null).trigger("change.select2"),$(a).attr("data-value",null).trigger("change.select2")):($(i).attr("data-value",null),$(a).attr("data-value",null)):je("efo_user_get_japan_station",{user_id:Gt,connect_page_id:Vt,log_message_id:e,pref:r})}}}function Ge(e){if(!T(e)){var t=he(e);if(t.length&&t.find(".msg_group.pulldown_c_station").length){var n=t.find(".line_box select.content"),i=t.find(".station_box select.content"),a=n.val();T(a)?Qn.isSelect2()?$(i).html("").attr("data-value",null).trigger("change.select2"):$(i).html("").attr("data-value",null):je("efo_user_get_japan_station",{user_id:Gt,connect_page_id:Vt,log_message_id:e,line:a})}}}function Je(e){var t=$('#wc-message-group-content .msg_group [name="'+e+'"]'),n=$("#wc-message-group-content .msg_group [data-parent_name*='"+e+"']").not(t);t.length&&n.length&&n.each(function(t,n){if(!T($(n).attr("data-parent_name"))){var i=$(n).attr("data-parent_name");if("-1"!=(i=i.split("|")).indexOf(e)){var a="";$(i).each(function(e,t){var n=me(t);T(n)||(a+="[data-"+t+'="'+n+'"]')}),$(n).find("option").not(".first").attr("disabled","disabled").addClass("hidden");var r=[];$(n).find("option"+a).each(function(e,t){var n=$(t).attr("data-value");"-1"==r.indexOf(n)&&(r.push(n),$(t).attr("disabled",null).removeClass("hidden"))})}}})}function Xe(e){if($(e).length){var t=$(e).attr("data-parent_name");t=t.split("|");var n="";$(t).each(function(e,t){var i=me(t);T(i)||(n+="[data-"+t+'="'+i+'"]')}),$(e).find("option").not(".first").attr("disabled","disabled").addClass("hidden");var i=[];$(e).find("option"+n).each(function(e,t){var n=$(t).attr("data-value");"-1"==i.indexOf(n)&&(i.push(n),$(t).attr("disabled",null).removeClass("hidden"))})}}function Ke(e){return void 0!=e&&"object"==typeof Fi&&"-1"!=Fi.indexOf(e)}function Ze(){try{if(yt&&E()&&$("body").hasClass("is_full_width")){var e=!1;if(!T($("body").attr("class")))for(var t=["close_type_007","close_type_008","close_type_009","close_type_010"],n=0;n<t.length;n++)if($("body").hasClass(t[n])){e=!0;break}if(!e){var i=null;switch(window.orientation){case-90:case 90:$("body").addClass("is_horizontal"),i={width:screen.height+"px"};break;default:$("body").removeClass("is_horizontal"),i={width:""}}$(".chatview-container .chat-header").css(i)}}}catch(e){}}function Qe(e,t){if(!T(e)){var n=document.createElement("script");if(n.type="text/javascript","object"==typeof t)for(var i in t)"onload"===i?n.addEventListener("load",t.onload):n.setAttribute(i,t[i]);n.src=e,document.body.appendChild(n)}}var et="tw",tt="ja";void 0===$.fn.fileinputLocales&&($.fn.fileinputLocales={}),void 0===$.fn.gmoTokenErrorLocales&&($.fn.gmoTokenErrorLocales={}),void 0===$.fn.zeusTokenErrorLocales&&($.fn.zeusTokenErrorLocales={}),void 0===$.fn.paygentTokenErrorLocales&&($.fn.paygentTokenErrorLocales={});var nt=window.navigator.userAgent,it=$("#efo_js_main"),at=S("v",it.attr("src")),rt=it.attr("data-socket-url"),ot="/",st="",lt=!1,ct=it.attr("data-init_data");Le(ct)&&(1==(ct=JSON.parse(ct)).encrypt_flg&&(lt=!0));var dt,ut=ct.gmo_validate_shop_id,pt=ct.gmo_validate_mode,_t=!1,ht=!1,ft=ct.webchat_user_id,mt=ct.webchat_connect_page_id,gt=ct.error_message_setting,vt=ct.preview_scenario_id?ct.preview_scenario_id:null,yt=M()||/(iPhone|iPod|iPad)/i.test(navigator.platform)||void 0!=navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform)||M()&&screen.width>=768,bt={is_secure:function(){return"object"==typeof window.location&&"https:"==window.location.protocol}},wt={"001":"2c76f0","002":"54cbd4","003":"f6ca21","004":"ea3046","005":"c176a2","006":"6cd852","007":"e7661c","008":"d37474","009":"8c66d9","010":"6c9bd3","011":"20c2e7","012":"a4bd83","013":"72523d","014":"f16faa","015":"9189a2","016":"333333","017":"050a86","018":"333333","019":"ffffff","020":"7c7c7c"},xt={"001":"blue","002":"turquoise","003":"yellow","004":"red","005":"palepurple","006":"green","007":"orange","008":"azuki","009":"purple","010":"navyblue","011":"skyblue","012":"khaki","013":"chocolate","014":"pink","015":"grayblue","016":"black","017":"darkblue","018":"black_new","019":"while","020":"grey"},kt="001",$t=!1,Ct=!1,Tt=!1,Dt=!1,St={upward:"001",leftward:"002"},Mt="001",Et={gradation_icon:"001",monochromatic_icon:"004",gradation:"002",monochromatic:"003"},At={icon_title:"001",icon_only:"002",image_upload:"003"},Ot={"001":"close_type_001","002":"close_type_002","005":"close_type_005","006":"close_type_006","007":"close_type_007","008":"close_type_008","009":"close_type_009","010":"close_type_010","011":"close_type_011","012":"close_type_012","013":"close_type_013","014":"close_type_014","015":"close_type_015","016":"close_type_016","017":"close_type_017","018":"close_type_018"},Pt={is_disable:!1,disable_forever_list:[],addDisableForeverList:function(e){!T(e)&&this.disable_forever_list.indexOf(e)<0&&this.disable_forever_list.push(e)},isDisableForever:function(e){return!T(e)&&this.disable_forever_list.indexOf(e)>=0},clearDisableForeverList:function(){this.disable_forever_list=[]},disableMessage:function(e){this.isDisableForever(e)&&G(e)}},qt=!1,jt="",Nt=1,Ft=1,Lt='<span class="required">※Required</span>',It=!0,Bt=30,Ht=1440,Rt=1036800,Yt=(u("cookie_support","1",Ht),!!p("cookie_support")),zt=1200,Wt=void 0,Ut=(document.title,"Bot say..."),Vt=S("connect_page_id"),Gt=void 0,Jt="",Xt="",Kt="",Zt=S("refresh_log_flg"),Qt=S("preview_flg"),en=S("force_log_flg"),tn=",",nn="wc_user_id",an="wc_cv_complete",rn="wc_chatbox_hide",on="wc_data_temp",sn="wc_data_temp2",ln="";Qt&&Zt?(nn="wc2_user_id",an="wc2_cv_complete",rn="wc2_chatbox_hide",on="wc2_data_temp",sn="wc2_data_temp2"):Qt&&(nn="wc1_user_id",an="wc1_cv_complete",rn="wc1_chatbox_hide",on="wc1_data_temp",sn="wc1_data_temp2");var cn={},dn={},un=0,pn=null,_n={status:!0,message_updating_confirm_flg:!1,message_updating_user_flg:!1,isEnable:function(){return this.status},isNextMessage:function(e){var t=!0;return(!Vi.socket.checkConnect(Vi.socket_check.next_message)||Pt.is_disable||!this.isEnable()||Pt.isDisableForever(e)||this.checkMsgUpdatingConfirm(e))&&(t=!1),t},enableNextMessage:function(){this.status=!0,qt||J()},disableNextMessage:function(){this.status=!1,G()},checkMsgUpdatingConfirm:function(e){if(this.message_updating_confirm_flg)if(this.message_updating_user_flg)this.setMsgUpdatingConfirmByUser(!1);else{var t=he(e).attr("data-block_name"),n=this.userMsgUpdatingCount(e);if(["confirm"].indexOf(t)>-1&&n>0)return Bi.init(Bi.list_type.confirm_message_updating,{log_message_id:e,msg_updating_count:n}),!0}return!1},userMsgUpdatingCount:function(e){return $("#wc-message-group-content .chat-right .chat-body[data-message_id!="+e+"] .next_message button.updating:not(.disabled)").length},setMsgUpdatingConfirmByUser:function(e){this.message_updating_user_flg=e}},hn=!1,fn=!1,mn=[],gn="",vn={code:"jpy",list:{jpy:{symbol:"円",symbol_global:"JPY"},twd:{symbol:"元",symbol_global:"TWD"}},getDataByCode:function(e){var t={};return T(e)||void 0==vn.list[e]||(t=vn.list[e]),t},setCode:function(e){return T(e)||(vn.code=e),vn.code},getSymbol:function(e){var t="";return void 0!=e&&""!=e||(e=vn.code),T(e)||void 0==vn.getDataByCode(e)||(t=vn.getDataByCode(e).symbol),t}},yn={user:1,bot:2},bn={text:"001",file:"002",mail:"003",scenario_connect:"004",api:"005",script:"006",form_assist:"007",button_link:"111",button:"050",set_variable:"213",deactivate_previous_blocks:"214"},wn={text:"001",input:"002",textarea:"003",radio:"004",checkbox:"005",pulldown:"006",postal_code:"007",file:"008",calendar:"009",terms_of_use:"010",confirmation:"011",carousel:"012",card_payment:"013",captcha:"014",add_to_cart:"015",request_document:"016",product_purchase:"017",product_purchase_radio_button:"025",button_confirm:"019",pulldown_checkbox_stress:"111",pulldown_checkbox_station:"112",pin_code_auth_flg:"020",slider:"022",card_payment_with_radio:"023",set_cv_flg_variable:"027",label_no_transition_record:"024",booking_calendar:"026",box_file_upload:"030"},xn={input:"001",readonly:"002"},kn={text:"001",url:"002",email:"003",tel:"004",password:"005",email_confirm:"006",password_confirm:"007"},$n={no_hyphen:"001",hyphen:"002"},Cn={only_alpha:"001",alpha_dash:"002",alpha_num:"003",higarana_full_width:"004",katakana_full_width:"005",zenkaku_full_width:"006",only_num:"007"},Tn={attribute_data:{katakana:"katakana",hiragana:"hiragana"},clear_space_flg:!1,convert_by_server_flg:!1,input_timeout:{},getInputId:function(e,t,n){return e+"_"+t+"_"+n}},Dn={detail_content:"001",only_link:"002"},Sn={customize:"001",time:"002",date:"003",date_time:"004",brithday:"005",period_of_time:"006",period_of_day:"007",the_provinces_of_japan:"008",month_date:"009",birthday_y_m:"010",towns_and_villages:"100",year_month:"011",api:"111",birthday_ynj:"012",birthday_ynj_2:"013"},Mn={default:"001",image_radio:"002",custom_type:"003"},En={},An={default:"001",image_checkbox:"002"},On={focusEnableDay:function(e){if($(e).length&&$(e).next(".bootstrap-datetimepicker-widget").length){var t=$(e).next(".bootstrap-datetimepicker-widget").find(".datepicker-days");if(t.find("tbody td:not(.old, .new, .disabled)").length<=0){var n=t.find("thead th.prev:not(.disabled)"),i=t.find("thead th.next:not(.disabled)");n.length?n.click():i.length&&i.click()}}}},Pn="002",qn={select:"001",embed:"002",period_of_time:"003"},jn={continuous:"001",discrete:"002"},Nn={today:"001",tomorrow:"002",after_tomorrow:"003",past:"004",future:"005",monday:"111",tuesday:"112",wednesday:"113",thursday:"114",friday:"115",saturday:"116",sunday:"110"},Fn="DD-MM-YYYY",Ln={"001":"visa","002":"jcb","003":"master_card","004":"american_express","005":"diner_club","006":"discover"},In={"001":"new_user","002":"return_user","003":"all_user"},Bn=1,Hn={new_user:"new_user",return_user:"return_user"},Rn=[],Yn=["jpeg","jpg","png","gif","zip","rar","doc","docx","numbers","pdf","mp4","webm","ogv","csv","xlsm","xlsx","xls","txt","ppt","pptx","pages","key","ods","odt","odp"],zn={},Wn=null,Un="",Vn={only_numbers:"001",letters_and_numbers:"002",only_letters:"003"},Gn=[],Jn=[],Xn={server_response_nearest:null,available_list:[],next_message_flg:!1,get_data_processing:!1,checkReGetDataByZipCode:function(e){if(!T(e)){var t=he(e);if(t.length){var n=t.find(".postal_code input"),i=t.find(".prefectures input"),a=t.find(".dropdown_prefectures select"),r=t.find(".municipality input");if(n.length&&!T(n.val())&&(i.length||a.length)&&r.length){var o=n.val(),s=i.length?i.val():a.val(),l=r.val();if(T(s,!0)&&T(l,!0))je("efo_user_send_postal",{zipcode:o,log_message_id:e,country:t.find(".postalcode_group").data("country")?t.find(".postalcode_group").data("country"):tt,is_from_log:!0})}}}}},Kn={area:"001",city:"002",stress:"003"},Zn={area:"001",line:"002",station:"003"},Qn={select2_use_flg:!0,setData:function(e){!T(e)&&1==e&&yt&&(this.select2_use_flg=!1)},isSelect2:function(){return this.select2_use_flg}},ei={setHoursOption:function(e,t){if("object"==typeof t&&e.length){var n=$(e).find("option:not(.first)");if(n.length){if(!T(t.hours_start)&&!isNaN(t.hours_start)){var i=parseFloat(t.hours_start);$(n).each(function(e,t){var n=$(t).val();!isNaN(n)&&parseFloat(n)<i&&$(t).remove()})}if(!T(t.hours_end)&&!isNaN(t.hours_end)){var a=parseFloat(t.hours_end);$(n).each(function(e,t){var n=$(t).val();!isNaN(n)&&parseFloat(n)>a&&$(t).remove()})}}}},setMinuteOption:function(e,t){if("object"==typeof t&&e.length){var n=$(e).find("option");n.length&&(T(t.spacing_minute)||0!=t.spacing_minute||($(n).each(function(e,t){var n=$(t).val();isNaN(n)||0==parseFloat(n)||$(t).remove()}),$(e).find("option").length&&$(e).val($(e).find("option").first().val()).trigger("change.select2")))}},isAutocomplete:function(e){return!T(e)&&$(e).parents(".msg_group").length&&!T($(e).parents(".msg_group").attr("data-auto_complete"))},setAutoDropdownHeight:function(e){$(e).parents("[data-auto_complete]").length&&$(e).data("select2").on("results:message",function(e){this.dropdown._resizeDropdown(),this.dropdown._positionDropdown()})},updateAjaxOptionToDb:function(e){var t=he(e);$(t.find("[data-auto_complete]")).each(function(t,n){if(!T($(n).attr("data-auto_complete"))){var i=$(n).find("select:first"),a=i.val(),r=i.find('option[value="'+a+'"]');if(r.length){var o={connect_page_id:Vt,user_id:Gt,log_message_id:e,message_index:$(n).index(),data:{list:[[{value:a,text:r.text()}]]}};lt&&!T(st)&&(o.position=w(o.data),o.encrypt_key=st,o.encrypt_flg=lt),je("efo_user_send_log_update",o)}}})}},ti={aftee:"001",atone:"002",paidy:"004",zcom:"005"},ni={status:{fail:0},getPinCode:function(e){je("efo_user_get_pin_code_authentication",{cpid:Vt,uid:Gt,log_message_id:e})},getCodeFromInput:function(e){var t="",n=he(e);if(n.length&&n.find(".pin_code_auth_group").length){var i=n.find(".pin_code_auth_group .pin_code_auth_container input.content");i.length&&(t=$(i).val())}return t}},ii={asc:"001",desc:"002"},ai={add_to_cart:"001",request_document:"002",product_payment:"003",churn_prevention:"005",other:"100"},ri="100",oi={id:"id",name:"name",sub_name:"sub_name",url:"url",image:"image",category:"category",quantity:"amount",price:"unit_price",currency:"currency"},si=[],li={all:"001",title_sub_title:"002",title:"003"},ci=null,di={thumbnail_text:"001",image_text:"002"},ui=[],pi=[],_i=!0,hi={validate_require:"validate-require",validate_url:"validate-url",validate_url_secure:"validate-url-secure",validate_max:"validate-max",validate_min:"validate-min",validate_digit_length_max:"validate-digit-length-max",validate_digit_length_min:"validate-digit-length-min",validate_option_max:"validate-option-max",validate_option_min:"validate-option-min",validate_phone:"validate-phone",validate_number:"validate-number",validate_email:"validate-email",validate_length:"validate-length",validate_postalcode_length:"validate-postalcode-length",validate_alpha:"validate-alpha",validate_alpha_dash:"validate-alpha-dash",validate_alpha_num:"validate-alpha-num",validate_confirm:"validate-confirm",validate_katakana:"validate-katakana",validate_hiragana:"validate-hiragana",validate_zenkaku:"validate-zenkaku",validate_postalcode_invalid:"validate-postalcode-invalid",validate_postalcode_out_of_area:"validate-postalcode-out-of-area",validate_file_upload:"validate-file-upload",validate_credit_card:"validate-credit-card",validate_credit_date:"validate-credit-date"},fi={},mi={},gi=[],vi=null;T(ct.start_scenario_id)||(vi=ct.start_scenario_id);var yi=!1;1==Qt||T(ct.setting)||T(ct.setting.cv_complete_hide_flg)||(yi=ct.setting.cv_complete_hide_flg);var bi=p(an+"_"+Vt),wi=Rt,xi=!1,ki=!1,$i=!1;"0"!==S("_bot")&&"off"!=S("_bot")||($i=!0);var Ci=[],Ti=!1,Di={status:!1,liff_id:"",profile:void 0,message_text:"",is_requested_liff_user_id:!1,shouldSendLiffRequest:function(){return this.liff_id&&!this.is_requested_liff_user_id},init:function(){if(yt&&A()){var e={timeout:null,element:{body:$("body").scrollTop()}};$(document).on("focus","input, textarea, select",function(t){clearTimeout(e.timeout),e.element.body=$("body").scrollTop()}),$(document).on("focusout","input, textarea, select",function(t){clearTimeout(e.timeout),e.timeout=setTimeout(function(){e.timeout=!1,null!=e.element.body&&($("html").scrollTop(0),$("body").scrollTop(e.element.body),e.element.body=null)},200)})}}},Si=!1,Mi=void 0,Ei=0,Ai=0,Oi={getProcessLabel:function(e){var t=e;return T(e)||(qt||this.isCompleteLabel(e)?t=zi.getByCode("complete"):!isNaN(e)&&parseInt(e)>0&&(T(zi.getByCode("question_process_remain",""))||(t=(t=zi.getByCode("question_process_remain")).replace(":num",'<span class="process_number">'+e+"</span>")))),t},isCompleteLabel:function(e){var t=!1;if(Ke("pointtown")&&1==e){var n=$("#wc-message-group-content .wc-message-wrapper").last();n.length&&n.find(".button_link_group").length&&(t=!0)}return t}},Pi=!1,qi=1,ji=[],Ni=[],Fi=[],Li={status:0,current_type:null,show_avatar_flg:!1,show_avatar_class:"is_typing_avatar",type_list:{type_1:"001",type_2:"002"},getStatus:function(){return this.status},setStatus:function(e){return this.status=e,this.getStatus()},clear:function(e){var t=$(".wc-message-group-content .typing_box");if(t.length){var n=!1;(void 0!=e&&e||!t.hasClass(this.show_avatar_class))&&(n=!0),n&&t.remove()}this.setStatus(0)},show:function(e,t){if(!$(".wc-message-group-content .typing_box").length){var n,i=$(".template_message .typing_template");void 0==e&&(e=this.type_list.type_1),this.current_type=e,e==this.type_list.type_2?(n=i.find(".typing_box.typing_type_2").clone(),T(t)||n.find(".content p").html(t)):(n=i.find(".typing_box.typing_type_1").clone(),this.show_avatar_flg&&(n.addClass(Li.show_avatar_class),n.find(".chat-avatar").show())),$(".wc-message-group-content").append(n),this.setStatus(1),Ii.scrollBottom()}}},Ii={scroll_timeout:null,scroll_message_bottom_flg:0,scroll_message_bottom_delay_time:500,scroll_top_prev:null,scroll_stop_log_msg_id:null,scroll_log_message_id:null,message_scroll_position:null,min_animate_time:500,scroll_positions:["top","center","bottom"],scrollBottom:function(e){var t=1e3;Li.status?t=0:e.message_type==yn.bot&&(t=0),this.scrollMessageBox(t,e)},isScrollingToMessageWithPosition:function(){return Ii.scroll_log_message_id&&this.scroll_positions.includes(Ii.message_scroll_position)},didScrollMessageWithPosition:function(){if(Ii.isScrollingToMessageWithPosition()){var e={top:"start",center:"center",bottom:"end"}[Ii.message_scroll_position],t=_e(Ii.scroll_log_message_id);if(e&&t.length){if("top"===Ii.message_scroll_position){$("#wc-message-groups").animate({scrollTop:t[0].offsetTop},"1000")}else{var n={block:e,inline:"nearest",behavior:"smooth"};setTimeout(function(){t[0].scrollIntoView(n)},1e3)}return!0}}},scrollMessageBox:function(e,t){void 0==e&&(e=1e3),clearTimeout(this.scroll_timeout),(Ii.scroll_log_message_id||Ii.scroll_stop_log_msg_id)&&$("#wc-message-groups").stop(),this.scroll_timeout=setTimeout(function(){var e=document.getElementById("wc-message-groups"),n=500,i=0;if(void 0!=e){T(Ii.scroll_message_bottom_delay_time)||isNaN(Ii.scroll_message_bottom_delay_time)||(i=parseFloat(Ii.scroll_message_bottom_delay_time)-n);var a=e.clientHeight,r=e.scrollHeight>a?e.scrollHeight:0;if(Ii.didScrollMessageWithPosition())return;if(Ii.scroll_stop_log_msg_id){var o=Ii.getHeightScrollMessageId();"object"==typeof o&&void 0!==o.scroll_top&&(r=o.scroll_top,n=0,1==o.bot_message_flg&&(n=800))}else Li.status||("object"==typeof t&&t.message_type==yn.bot?n=0:1==Ii.scroll_message_bottom_flg?(r-=a+70,n=800,null!=Ii.scroll_top_prev&&r-Ii.scroll_top_prev>0&&(n=r-Ii.scroll_top_prev+200)):2==Ii.scroll_message_bottom_flg?(r=document.getElementById("wc-message-group-content")?document.getElementById("wc-message-group-content").offsetHeight:"",n=800,null!=Ii.scroll_top_prev&&r-Ii.scroll_top_prev>0&&(n=r-Ii.scroll_top_prev+200)):r=e.scrollTop+200);r>e.scrollTop&&(Ii.scroll_top_prev=r,n=(n+=i)>0?n:Ii.min_animate_time,$("#wc-message-groups").animate({scrollTop:r},n.toString()))}},e,t)},initStopScrollMessageId:function(e){e&&!this.scroll_stop_log_msg_id&&(this.scroll_stop_log_msg_id=e)},clearStopScrollMessageId:function(){this.scroll_stop_log_msg_id=null},setScrollPositionMessage:function(e,t,n){n||e&&this.scroll_positions.includes(t)&&(this.scroll_log_message_id=e,this.message_scroll_position=t)},clearScrollPositionMessageId:function(){this.scroll_log_message_id=null,this.message_scroll_position=null},getHeightScrollMessageId:function(){var e=_e(this.scroll_stop_log_msg_id);if(e.length){var t=e.hasClass("chat-right");return{scroll_top:document.getElementById("wc-message-groups").scrollTop+e.offset().top-80,bot_message_flg:t}}return null}},Bi={current_type:"",list_type:{clear_message_confirm:"clear_message_confirm",chatbox_hide_time:"chatbox_hide_time",postal_code_search:"postal_code_search",chatbox_close_confirm:"chatbox_close_confirm",confirm_message_updating:"confirm_message_updating",confirm_disconnect:"confirm_disconnect",startup_popup:"startup"},init:function(e,t){var n=$("#chat_modal"),i="",a="";switch(n.find(".modal-body").html(""),n.find(".modal-header").addClass("hidden"),n.attr({"data-type":null,"data-message_id":null,"data-msg_group_index":null,"data-msg_updating_count":null}),this.current_type=e,T(e)||n.attr("data-type",e),"object"==typeof t&&(T(t.log_message_id)||n.attr("data-message_id",t.log_message_id),T(t.msg_group_index)||n.attr("data-msg_group_index",t.msg_group_index),T(t.msg_updating_count)||n.attr("data-msg_updating_count",t.msg_updating_count)),e){case this.list_type.clear_message_confirm:a=$(".template_message .modal_template .clear_message_confirm_box").clone();break;case this.list_type.chatbox_hide_time:var r=(a=$(".template_message .modal_template .chatbox_hide_time_box").clone()).find(".chatbox_hide_time_label").html(),o=parseFloat(Hi.getTime()/60).toFixed(2);o=o.replace(/\.?0+$/,""),r=r.replace(":hour",o),a.find(".chatbox_hide_time_label").html(r);break;case this.list_type.postal_code_search:var s=t.country?t.country:tt;n.attr("data-country",s),a=$(".template_message .modal_template .postal_code_search_box").clone(),s==et?a.find(".scope_tw_search").removeClass("hide"):a.find(".scope_tw_search").addClass("hide"),i=a.attr("data-modal_title");break;case this.list_type.chatbox_close_confirm:a=$(".template_message .modal_template .chatbox_close_confirm_box").clone(),2==Ri.getType()?a.find(".chatbox_close_label").remove():a.find(".chatbox_close_image").remove();break;case this.list_type.confirm_message_updating:a=$(".template_message .modal_template .confirm_message_updating_box").clone();break;case this.list_type.confirm_disconnect:a=$(".template_message .modal_template .confirm_disconnect_box").clone();break;case this.list_type.startup_popup:a=$(".template_message .startup_popup_box").clone()}T(i)||(n.find(".modal-header").removeClass("hidden"),n.find(".modal-header .modal-title").html(i)),n.find(".modal-body").html(a);var l=n.find("select").not(".select2-hidden-accessible");l.length&&H(null,l),Bi.modalShow()},modalShow:function(){$("#chat_modal").hasClass("in")||(Oe(!1),"block"==$(".cart_preview_box").css("display")&&$(".cart_preview_box").hide(),$("#chat_modal").modal("toggle"))},modalHide:function(){$("#chat_modal").hasClass("in")&&$("#chat_modal").modal("hide")}},Hi={status:!1,time:0,view_position:{},element_header:$(".chat-header .chatbox_hide_time_box"),init:function(e){if(!T(e)&&!T(e.view_position)&&!T(e.minute)&&!isNaN(e.minute)&&parseFloat(e.minute)>0&&(this.status=!0,this.time=parseFloat(e.minute),this.view_position=e.view_position,!T(this.view_position.header)&&1==this.view_position.header&&$(this.element_header).length&&$(this.element_header).removeClass("hidden"),!T(this.view_position.close_image)&&1==this.view_position.close_image||!T(this.view_position.close_icon_only)&&1==this.view_position.close_icon_only)){var t=null;T(e.image_url)?T(this.view_position.close_icon_only)||1!=this.view_position.close_icon_only||(t=ot+"images/close_icon4.png"):t=e.image_url,k({chatbox_hide_time:{view_position:this.view_position,image_url:t}})}return this.time},checkCookie:function(e){T(e)||(f([1]),Re())},setCookie:function(){if(this.status)if(T(Qt)){var e={};e[rn]=1,h(e),this.checkCookie(1)}else Bi.modalHide()},getTime:function(){return this.time}};Hi.checkCookie(p(rn+"_"+Vt));var Ri={status:!1,type:1,click_type:{ok:1,cancel:2,url:3},setType:function(e){return this.type=e,this.type},getType:function(){return this.type},setData:function(e){if("object"==typeof e&&!T(e.image_url)){this.setType(2);var t=$(".template_message .modal_template .chatbox_close_confirm_box");t.find(".chatbox_close_image img").attr("src",e.image_url),T(e.url)?t.find(".chatbox_close_image").attr("data-href",null):t.find(".chatbox_close_image").attr("data-href",e.url)}},saveAnalytic:function(e){var t=$("#wc-message-group-content .wc-message-wrapper.chat-right").last();if(t.length){var n={connect_page_id:Vt,user_id:Gt};if(1==e.cv_flg)n.cv_flg=1;else{var i=t.find(".chat-body").attr("data-message_id");n.log_message_id=i,n.click_type=e.click_type}je("efo_user_send_close_confirm_data",n)}}},Yi={target:"",setData:function(e){if(e.active_flg===Bn){this.target=In[e.target]||"";var t=e.data||{},n=$(".template_message .modal_template .startup_popup_box");t.message&&n.find(".startup_message").html(t.message),t.image_url&&n.find(".startup_image img").attr("src",t.image_url),t.url&&n.find(".startup_image").attr("data-href",t.url)}else this.target=""},isShowPopup:function(e){return this.target&&("all_user"===this.target||this.target===e)}},zi={current:"en",lang_list:["en","ja","vn","th","zh-tw"],multi_lang_change_flg:!1,multi_lang_setting:null,multi_lang_data:null,setCurrent:function(e){T(e)||(this.current=e,Fn="ja"==e?"YYYY-MM-DD":"DD-MM-YYYY",$("body").attr("data-language",e),$("body").addClass(e))},getByCode:function(e,t){return T($.fn.fileinputLocales[this.current])||T($.fn.fileinputLocales[this.current][e])?void 0!==t?t:e:$.fn.fileinputLocales[zi.current][e]},setFromCustom:function(){null!=this.multi_lang_data&&"object"==typeof this.multi_lang_data&&$(this.multi_lang_data).each(function(e,t){if(!T(t.locale)&&"object"==typeof t.languages&&t.languages.length){var n=t.locale,i=t.languages;T($.fn.fileinputLocales[n])||$(i).each(function(e,t){T(t.key)||T(t.value)||T($.fn.fileinputLocales[n][t.key])||($.fn.fileinputLocales[n][t.key]=t.value)})}})},checkChangeCurrentLang:function(e){if(!T(e)&&!T(this.multi_lang_setting)&&!T(this.multi_lang_setting.variable_id)){var t=he(e);if(t.length&&t.find('.msg_group[data-variable_id="'+this.multi_lang_setting.variable_id+'"]').length){var n=t.find('.msg_group[data-variable_id="'+this.multi_lang_setting.variable_id+'"]'),i=n.attr("data-message_type"),a=null;switch(i=i.toString()){case wn.card_payment_with_radio:case wn.radio:var r=$(n).find(".radio_container li");void 0!=r&&r.length&&r.find("input.option_input:checked").length&&(a=r.find("input.option_input:checked").attr("data-value"));break;case wn.pulldown:var o=$(n).find(".select_box select");T(o)||(a=o.attr("data-value"))}this.changeLangCurrent(a)}}},changeLangCurrent:function(e){T(e)||"object"!=typeof this.multi_lang_setting||$(this.lang_list).each(function(t,n){void 0!==zi.multi_lang_setting[n]&&zi.multi_lang_setting[n]==e&&zi.current!=n&&(zi.setCurrent(n),C())})}},Wi={mobile_back_by_url_hash:!0},Ui={processing_flg:!1,historyView:function(e){this.processing_flg=!0,e.user_id==Gt&&(void 0!=e.message&&e.message.length>0&&this.historyShow(e.message,e.user_id),void 0!=e.data_cart&&e.data_cart.length>0&&$(e.data_cart).each(function(e,t){lt&&!T(st)&&(t.data=b(t.data)),T(t.data)||"object"!=typeof t.data||De(t.data,!1)}),setTimeout(function(){L()},1e3),setTimeout(function(){Ii.scrollBottom({message_type:yn.bot})},3e3))},historyShow:function(e,t){I();var i=1;$(e).each(function(a,r){var o=!1;a>=e.length-2?(o=!0,setTimeout(function(){Ui.processing_flg&&(s(r,o,t,!0),n(r))},1e3*i),i++):(s(r,o,t,!0),n(r))}),function(e){if(Array.isArray(e)&&e.length>0){var t=e[e.length-1];if(Array.isArray(t.message)){var n=0;for(n=0;n<t.message.length;n++){var i=t.message[n];if(i.type==wn.button_confirm&&i.service_type==ti.zcom){e={user_id:t.user_id,log_message_id:t._id,connect_page_id:Vt},setTimeout(function(){je("efo_user_send_zcom_payment_check",e)},3e3);break}}}}}(e)}},Vi={socket_check:{next_message:"next_message",chatbox_open:"chatbox_open"},disconnect_redirect:{},socket:{connect_flg:!1,connect:function(){this.connect_flg=!0,k({socket_connect:!0})},disconnect:function(){this.connect_flg=!1,k({socket_connect:!1})},checkConnect:function(e){return Vi.canConnectToSocket()||e!=Vi.socket_check.next_message||this.showModal(),this.connect_flg},showModal:function(){if(!this.connect_flg&&!T(Vi.disconnect_redirect.url)&&""!=Vi.disconnect_redirect.url){var e=$("#botchan-chat .template_message .modal_template .confirm_disconnect_box .modal_label"),t=e.html();if(-1!=t.indexOf(":URL")){var n=Vi.disconnect_redirect.url,i=Ji.param;""==i||T(Vi.disconnect_redirect.mainsite_param_retain_flg)||"1"!=Vi.disconnect_redirect.mainsite_param_retain_flg||(n+=n.indexOf("?")>-1?"&":"?",n+=i),t=t.replace(":URL",n),e.html(t)}Bi.init(Bi.list_type.confirm_disconnect)}}},canConnectToSocket:function(){return this.socket.connect_flg}},Gi={status:!1},Ji={href:"",protocol:"",pathname:"",host:"",param:""},Xi=it.attr("data-geo"),Ki="",Zi={provider_current:"001",get_token_number:1,provider_list:{gmo_smbc:"001",ze_us:"002",kuroneko:"003",gmo_pg:"004",pay_route:"010",softbank:"011",sony:"012",paygent:"100",robot:"101",veritrans_3g:"040",veritrans_4g:"017",stripe:"030",epsilon:"041",smbc_finance:"042"},checkValidity:function(e){!function(e,t){var n=he(e),i=n.find(".card_holder_box input.content").val(),a=n.find(".card_number_box input.content").val(),r=n.find(".select_month_box select.content").val(),o=n.find(".select_year_box select.content").val(),s=n.find(".card_code_box input.content").val();if(""!=a&&""!=o&&""!=r){n.find(".card_payment_group").attr("data-expire-at",null),g_gmo_validate_payment_callback=t,dt.init(ut);var l={cardno:a,expire:o+r,securitycode:s,holdername:i};dt.getToken(l,gmoValidateGetTokenCallback)}}(e,function(t){if(t.success&&t.token){je("efo_check_card_validity",{token:t.token,user_id:Gt,current_lang:zi.current,log_message_id:e})}else{var n=zi.getByCode("error_payment");T($.fn.gmoTokenErrorLocales[zi.current])||T($.fn.gmoTokenErrorLocales[zi.current][t.resultCode])||(n=$.fn.gmoTokenErrorLocales[zi.current][t.resultCode]),je("save_conversation_error_log",{log_message_id:e,error_message:n}),Fe(e,n)}})},getData:function(e){if("object"==typeof e&&!T(e.payment_gateway_info))switch(this.provider_current=e.payment_gateway_info.provider,Zi.provider_current){case Zi.provider_list.gmo_smbc:case Zi.provider_list.gmo_pg:T(e.payment_gateway_info.pgcard_shop_id)||T(e.payment_gateway_info.token_url)||(Qi.token_script_url=e.payment_gateway_info.token_url,Qi.shop_id=e.payment_gateway_info.pgcard_shop_id,Qi.shop_pass=e.payment_gateway_info.pgcard_shop_pass,Qi.mode=e.payment_gateway_info.mode,Qi.token_number=Zi.get_token_number);break;case Zi.provider_list.kuroneko:T(e.payment_gateway_info.trader_code)||T(e.payment_gateway_info.kuroneko_access_key)||T(e.payment_gateway_info.token_url)||(ta.token_script_url=e.payment_gateway_info.token_url,ta.trader_code=e.payment_gateway_info.trader_code,ta.access_key=e.payment_gateway_info.kuroneko_access_key,ta.yamato_member_id=e.payment_gateway_info.yamato_member_id,ta.yamato_auth_key=e.payment_gateway_info.yamato_auth_key);break;case Zi.provider_list.ze_us:T(e.payment_gateway_info.clientip)||(na.clientip=e.payment_gateway_info.clientip,na.token_number=Zi.get_token_number);break;case Zi.provider_list.sony:T(e.payment_gateway_info.sony_code)||(ia.token_script_url=e.payment_gateway_info.token_url,ia.sony_code=e.payment_gateway_info.sony_code,ia.merchant_id=e.payment_gateway_info.sony_merchant_id,ia.merchant_pass=e.payment_gateway_info.sony_merchant_pass);break;case Zi.provider_list.stripe:T(e.payment_gateway_info.token_key)||ra.initPaymentToken(e.payment_gateway_info.token_key,e.payment_gateway_info.stripe_token_type);break;case Zi.provider_list.pay_route:aa.token_script_url=e.payment_gateway_info.token_url,aa.shop_id=e.payment_gateway_info.shop_id,aa.shop_pass=e.payment_gateway_info.shop_pass,aa.mode=e.payment_gateway_info.mode;break;case Zi.provider_list.softbank:T(e.payment_gateway_info.sb_merchant_id)||T(e.payment_gateway_info.sb_service_id)||T(e.payment_gateway_info.sb_hash_key)||(ea.merchant_id=e.payment_gateway_info.sb_merchant_id,ea.service_id=e.payment_gateway_info.sb_service_id,ea.hash_key=e.payment_gateway_info.sb_hash_key,ea.mode=e.payment_gateway_info.mode);break;case Zi.provider_list.paygent:T(e.payment_gateway_info.merchant_id)||T(e.payment_gateway_info.token_key)||(oa.token_script_url=e.payment_gateway_info.token_url,oa.merchant_id=e.payment_gateway_info.merchant_id,oa.token_key=e.payment_gateway_info.token_key,oa.token_number=Zi.get_token_number);break;case Zi.provider_list.robot:T(e.payment_gateway_info.store_id)||(sa.store_id=e.payment_gateway_info.store_id);break;case Zi.provider_list.veritrans_3g:T(e.payment_gateway_info.token_key)||(ca.token_key=e.payment_gateway_info.token_key);break;case Zi.provider_list.veritrans_4g:T(e.payment_gateway_info.token_key)||(la.token_key=e.payment_gateway_info.token_key),T(e.payment_gateway_info.token_url_version)||(la.token_url_version=e.payment_gateway_info.token_url_version);break;case Zi.provider_list.epsilon:da.token_script_url=e.payment_gateway_info.token_url,da.mode=e.payment_gateway_info.mode,da.contract_code=e.payment_gateway_info.contract_code;break;case Zi.provider_list.smbc_finance:ua.shop_cd=e.payment_gateway_info.smbcf_shop_cd,ua.syuno_co_cd=e.payment_gateway_info.smbcf_syuno_co_cd,ua.api_key=e.payment_gateway_info.smbcf_api_key,ua.mode=e.payment_gateway_info.mode,ua.usecvv=e.payment_gateway_info.usecvv}},initPayment:function(e,t){switch(this.provider_current){case this.provider_list.gmo_smbc:case this.provider_list.gmo_pg:t?ie():function(){_t=!0;var e={onload:function(){_t=!1,ht&&ie()}};Qe(Qi.token_script_url,e),Qe(ot+"js/locale/en/payment_token_gmo_error.js?v="+at),Qe(ot+"js/locale/ja/payment_token_gmo_error.js?v="+at),Qe(ot+"js/locale/th/payment_token_gmo_error.js?v="+at),Qe(ot+"js/locale/vn/payment_token_gmo_error.js?v="+at),Qe(ot+"js/locale/zh-tw/payment_token_gmo_error.js?v="+at)}();break;case this.provider_list.kuroneko:Qe(ta.token_script_url);break;case this.provider_list.ze_us:ae(e);break;case this.provider_list.sony:window.callbackSonyToken=function(e,t){ia.callbackAfterGetToken&&e&&ia.callbackAfterGetToken({payment_token:e})};break;case this.provider_list.pay_route:aa.initPaymentToken();break;case this.provider_list.softbank:!function(){var e=document.createElement("script");e.type="text/javascript",e.src=ea.token_script_url,document.body.appendChild(e)}();break;case this.provider_list.veritrans_3g:Qe(ca.token_script_url);break;case this.provider_list.paygent:Qe(oa.token_script_url),Qe(ot+"js/locale/en/payment_token_paygent_error.js?v="+at),Qe(ot+"js/locale/ja/payment_token_paygent_error.js?v="+at),Qe(ot+"js/locale/th/payment_token_paygent_error.js?v="+at),Qe(ot+"js/locale/vn/payment_token_paygent_error.js?v="+at);break;case this.provider_list.robot:break;case this.provider_list.veritrans_4g:Qe(la.token_script_url);break;case this.provider_list.epsilon:!function(){var e=document.createElement("script");e.type="text/javascript",e.src=da.token_script_url,document.body.appendChild(e)}();break;case this.provider_list.smbc_finance:Qe(ua.token_script_url)}},getToken:function(e){switch(this.provider_current){case this.provider_list.gmo_smbc:case this.provider_list.gmo_pg:!function(e,t){var n=he(e),i=n.find(".card_holder_box input.content").val(),a=n.find(".card_number_box input.content").val(),r=n.find(".select_month_box select.content").val(),o=n.find(".select_year_box select.content").val(),s=n.find(".card_code_box input.content").val(),l={success:!1};if(""!=a&&""!=o&&""!=r){for(var c=0;c<Qi.token_number;c++){var d="data-token";c>0&&(d+="-"+c),n.find(".card_payment_group").attr(d,null)}n.find(".card_payment_group").attr("data-expire-at",null),Multipayment.init(Qi.shop_id);var u={cardno:a,expire:o+r,securitycode:s,holdername:i};Qi.token_number>1&&(u.tokennumber=Qi.token_number),Multipayment.getToken(u,function(i){if(void 0!=i)if("000"==i.resultCode){if(void 0!=i.tokenObject&&void 0!=i.tokenObject.token){if(l.success=!0,Qi.token_number>1)for(var a=0;a<Qi.token_number;a++){var r="data-token",o="payment_token";a>0&&(r+="-"+a,o+="_"+a),l[o]=i.tokenObject.token[a],n.find(".card_payment_group").attr(r,l[o])}else l.payment_token=i.tokenObject.token,n.find(".card_payment_group").attr("data-token",l.payment_token);l.expire_at=i.tokenObject.toBeExpiredAt,n.find(".card_payment_group").attr("data-expire-at",l.expire_at);var s=i.tokenObject.maskedCardNo;l.masked_card_number=s,n.find(".card_payment_group").attr("data-masked_card_number",s),t(l)}}else T($.fn.gmoTokenErrorLocales[zi.current])||T($.fn.gmoTokenErrorLocales[zi.current][i.resultCode])||(je("save_conversation_error_log",{log_message_id:e,error_message:$.fn.gmoTokenErrorLocales[zi.current][i.resultCode]}),Fe(e,$.fn.gmoTokenErrorLocales[zi.current][i.resultCode]))})}}(e,function(t){t.success&&(Zi.getInfo(e,!0),K(e,!1))});break;case this.provider_list.kuroneko:!function(e,t){var n=he(e),i=n.find(".card_holder_box input.content").val(),a=n.find(".card_number_box input.content").val(),r=n.find(".select_month_box select.content").val(),o=n.find(".select_year_box select.content").val(),s=n.find(".card_code_box input.content").val(),l={success:!1};if(""!=i&&""!=a&&""!=o&&""!=r){n.find(".card_payment_group").attr("data-token",null);var c=void 0!=s&&""!=s?"2":"0",d=void 0!==ta.yamato_auth_key&&""!=ta.yamato_auth_key?ta.yamato_auth_key:Math.random().toString(36).substring(2,10),u=void 0!==ta.yamato_member_id&&""!=ta.yamato_member_id?ta.yamato_member_id:Gt,p=CryptoJS.SHA256(u+d+ta.access_key+c),_=CryptoJS.enc.Hex.parse(p.toString()).toString(),h={traderCode:ta.trader_code,authDiv:c,optServDiv:"01",memberId:u,authKey:d,checkSum:_,cardNo:a,cardOwner:i,cardExp:r+o,securityCode:s};WebcollectTokenLib.createToken(h,function(e){void 0!=e.token&&""!=e.token&&(l.success=!0,l.payment_token=e.token,n.find(".card_payment_group").attr("data-token",l.payment_token),t(l))},function(t){for(var n=t.errorInfo,i=0;i<n.length;i++)n[i].errorMsg&&(je("save_conversation_error_log",{log_message_id:e,error_message:n[i].errorMsg}),Fe(e,n[i].errorMsg))})}}(e,function(t){t.success&&(Zi.getInfo(e,!0),K(e,!1))});break;case this.provider_list.ze_us:var t=he(e);t.find(".next_message button").addClass("disabled"),re(t,function(t){!function(e,t){var n=he(e),i={success:!1};n.find(".card_payment_group").attr("data-token",null),n.find(".card_payment_group").attr("data-masked_card_number","UNKNOWN");var a=formCardSubmit();if(!a.success&&a.error_code)T($.fn.zeusTokenErrorLocales[zi.current])||T($.fn.zeusTokenErrorLocales[zi.current][a.error_code])||(je("save_conversation_error_log",{log_message_id:e,error_message:$.fn.zeusTokenErrorLocales[zi.current][a.error_code]}),Fe(e,$.fn.zeusTokenErrorLocales[zi.current][a.error_code])),t(i);else if(void 0!=a.token_key&&""!=a.token_key){var r=a.masked_card_number;i.payment_token=a.token_key,i.masked_card_number=r,n.find(".card_payment_group").attr("data-token",i.payment_token),n.find(".card_payment_group").attr("data-masked_card_number",r),na.token_number>1?(ae(n.find(".card_payment_container .card_code_box").length),setTimeout(function(){re(n,function(a){var r=formCardSubmit();!r.success&&r.error_code?(T($.fn.zeusTokenErrorLocales[zi.current])||T($.fn.zeusTokenErrorLocales[zi.current][r.error_code])||(je("save_conversation_error_log",{log_message_id:e,error_message:$.fn.zeusTokenErrorLocales[zi.current][r.error_code]}),Fe(e,$.fn.zeusTokenErrorLocales[zi.current][r.error_code])),t(i)):void 0!=r.token_key&&""!=r.token_key?(i.success=!0,i.payment_token_1=r.token_key,n.find(".card_payment_group").attr("data-token-1",i.payment_token_1),t(i)):t(i)})},2e3)):(i.success=!0,t(i))}else t(i)}(e,function(t){t.success&&(Zi.getInfo(e,!0),K(e,!1))})});break;case this.provider_list.sony:!function(e,t){var n=_e(e),i=n.find(".card_number_box input.content").val(),a=n.find(".select_month_box select.content").val(),r=n.find(".select_year_box select.content").val(),o=n.find(".card_code_box input.content").val();n.find(".card_payment_group").attr("data-token",null),ia.callbackAfterGetToken=function(i){var a=i.payment_token;a?(n.find(".card_payment_group").attr("data-token",a),t({success:!0})):(je("save_conversation_error_log",{log_message_id:e,error_message:"Have an error when get Sony token!"}),Fe(e,"Have an error when get Sony token!"))};const s=function(){SpsvApi.spsvCreateToken(i,r,a,o,"","","","","")};if(document.querySelector("script.spsvToken"))s();else{const e={class:"spsvToken",callBackFunc:"callbackSonyToken",onload:s};Qe(ia.token_script_url+"?k_TokenNinsyoCode="+ia.sony_code,e)}}(e,function(t){t.success&&(Zi.getInfo(e,!0),K(e,!1))});break;case this.provider_list.stripe:ra.getToken(e,function(t){t.success&&(Zi.getInfo(e,!0),K(e,!1))});break;case this.provider_list.pay_route:aa.getToken(e,function(t){t.success&&(Zi.getInfo(e,!0),K(e,!1))});break;case this.provider_list.softbank:!function(e,t){var n=he(e),i=(n.find(".card_holder_box input.content").val(),n.find(".card_number_box input.content").val()),a=n.find(".select_month_box select.content").val(),r=n.find(".select_year_box select.content").val(),o=n.find(".card_code_box input.content").val();o=void 0!==o?o:"";var s={success:!1};""!=i&&""!=r&&""!=a&&(n.find(".card_payment_group").attr("data-token",null),com_sbps_system.generateToken({merchantId:ea.merchant_id,serviceId:ea.service_id,ccNumber:i,ccExpiration:"20"+r+a,securityCode:o},function(i){if(void 0!=i)if("OK"==i.result){if(void 0!=i.tokenResponse&&void 0!=i.tokenResponse.token&&void 0!=i.tokenResponse.tokenKey){s.success=!0,s.payment_token=i.tokenResponse.token+","+i.tokenResponse.tokenKey;var a=void 0!==i.tokenResponse.maskedCcNumber?i.tokenResponse.maskedCcNumber:oe(n);s.masked_card_number=a,n.find(".card_payment_group").attr("data-masked_card_number",a),n.find(".card_payment_group").attr("data-token",s.payment_token),t(s)}}else je("save_conversation_error_log",{log_message_id:e,error_message:"トークン取得に失敗しました。"}),Fe(e,"トークン取得に失敗しました。")}))}(e,function(t){t.success&&(Zi.getInfo(e,!0),K(e,!1))});break;case this.provider_list.paygent:se(e,function(t){t.success&&(Zi.getInfo(e,!0),K(e,!1))});break;case this.provider_list.robot:!function(e,t){var n=he(e),i=n.find(".card_holder_box input.content").val(),a=n.find(".card_number_box input.content").val(),r=n.find(".select_month_box select.content").val(),o=n.find(".select_year_box select.content").val(),s=(n.find(".card_code_box input.content").val(),{success:!1});if(""!=i&&""!=a&&""!=o&&""!=r){var l=void 0!==(i=i.split(" "))[0]?i[0]:"EFO",c=void 0!==i[1]?i[1]:"EFO";n.find(".card_payment_group").attr("data-token",null),CPToken.TokenCreate({aid:sa.store_id,cn:a,ed:o+r,fn:c,ln:l},function(i,a){return"Success"==i?(s.success=!0,s.payment_token=document.getElementById("tkn").value,n.find(".card_payment_group").attr("data-token",s.payment_token),t(s)):(je("save_conversation_error_log",{log_message_id:e,error_message:a}),void Fe(e,a))})}}(e,function(t){t.success&&(Zi.getInfo(e,!0),K(e,!1))});break;case this.provider_list.veritrans_3g:!function(e,t){var n=he(e),i=n.find(".card_holder_box input.content").val(),a=n.find(".card_number_box input.content").val(),r=n.find(".select_month_box select.content").val(),o=n.find(".select_year_box select.content").val(),s=n.find(".card_code_box input.content").val(),l={success:!1};""!=i&&""!=a&&""!=o&&""!=r&&(n.find(".card_payment_group").attr("data-token",null),Veritrans.client_key=ca.token_key,Veritrans.tokenGet(function(){return{card_number:a,card_exp_month:r,card_exp_year:"20"+o,card_cvv:s}},function(e){return e&&e.data&&e.data.token_id&&(l.success=!0,l.payment_token=e.data.token_id,n.find(".card_payment_group").attr("data-token",e.data.token_id)),t(l)},function(n){var i=zi.getByCode("veritrans_3g_unexpected_error");return n&&n.message&&(i=n.message),je("save_conversation_error_log",{log_message_id:e,error_message:i}),Fe(e,i),t(l)}))}(e,function(t){t.success&&(Zi.getInfo(e,!0),K(e,!1))});break;case this.provider_list.veritrans_4g:!function(e,t){var n=he(e),i=n.find(".card_holder_box input.content").val(),a=n.find(".card_number_box input.content").val(),r=n.find(".select_month_box select.content").val(),o=n.find(".select_year_box select.content").val(),s=n.find(".card_code_box input.content").val();if(""!=i&&""!=a&&""!=o&&""!=r){n.find(".card_payment_group").attr("data-token",null);var l=new Veritrans4G;2===la.token_url_version&&(l.URL=la.v2_token_url),l.getToken(function(){return{token_api_key:la.token_key,card_number:a,card_expire:r+"/"+o,security_code:s,lang:"ja"}},function(i){if(i.status){i.success=!0,i.payment_token=i.token;const e=void 0!==i.req_card_number?i.req_card_number:oe(n);return i.masked_card_number=e,n.find(".card_payment_group").attr("data-masked_card_number",e),n.find(".card_payment_group").attr("data-token",i.payment_token),t(i)}je("save_conversation_error_log",{log_message_id:e,error_message:i.message}),Fe(e,i.message)})}}(e,function(t){t.success&&(Zi.getInfo(e,!0),K(e,!1))});break;case this.provider_list.epsilon:!function(e,t){var n=he(e);const i=n.find(".card_holder_box input.content").val(),a=n.find(".card_number_box input.content").val(),r=n.find(".select_month_box select.content").val(),o=n.find(".select_year_box select.content").val();var s=n.find(".card_code_box input.content").val();s=void 0!==s?s:"";var l={success:!1};a&&o&&r&&(n.find(".card_payment_group").attr("data-token",null),callbackEpsilonToken=function(i){if(i){if("000"!==i.resultCode)return je("save_conversation_error_log",{log_message_id:e,error_message:"トークン取得に失敗しました。"}),void Fe(e,"トークン取得に失敗しました。");if(i.tokenObject&&i.tokenObject.token){l.success=!0,l.payment_token=i.tokenObject.token;const e=void 0!==i.tokenObject.maskedCardNo?i.tokenObject.maskedCardNo:oe(n);l.masked_card_number=e,n.find(".card_payment_group").attr("data-masked_card_number",e),n.find(".card_payment_group").attr("data-token",l.payment_token),t(l)}}},EpsilonToken.init(da.contract_code),EpsilonToken.getToken({cardno:a,expire:"20"+o+r,securitycode:s,holdername:i},callbackEpsilonToken))}(e,function(t){t.success&&(Zi.getInfo(e,!0),K(e,!1))});break;case this.provider_list.smbc_finance:!function(e,t){function n(e,t){var n=document.getElementById(t);return n||((n=document.createElement(e)).id=t,n.style.display="none",document.body.appendChild(n),n)}const i=he(e),a=i.find(".card_payment_group"),r=i.find(".card_number_box input.content").val(),o=i.find(".select_month_box select.content").val(),s=i.find(".select_year_box select.content").val(),l=i.find(".card_code_box input.content").val(),c=n("input","smbcf-card-number"),d=n("input","smbcf-card-year"),u=n("input","smbcf-card-month"),p=n("input","smbcf-card-cvv");n("input","smbcf-token");const _=n("div","smbcf-error");c.value=r,d.value=s,u.value=o,p.value=l,Fstokenizer().setConfig({shop_cd:ua.shop_cd,syuno_co_cd:ua.syuno_co_cd,token:{api_key:ua.api_key,mode:ua.mode,usecvv:ua.usecvv},elems:{card:"smbcf-card-number",yy:"smbcf-card-year",mm:"smbcf-card-month",cvv:"smbcf-card-cvv",token:"smbcf-token",error:"smbcf-error"}});const h=Fstokenizer().getToken();h?(a.attr("data-token",h),t({success:!0})):(Fe(e,_.textContent),t({success:!1}))}(e,function(t){t.success&&(Zi.getInfo(e,!0),K(e,!1))})}},getInfo:function(e,t){var n={},i=he(e);if(e&&i.length){var a=i.find(".card_number_box input.content").val();if(n={cart_name:"unknown"},!T(a)){var r={uatp:/^(?!1800)1\d{0,14}/,amex:/^3[47]\d{0,13}/,discover:/^(?:6011|65\d{0,2}|64[4-9]\d?)\d{0,12}/,diners:/^3(?:0([0-5]|9)|[689]\d?)\d{0,11}/,mastercard:/^(5[1-5]\d{0,2}|22[2-9]\d{0,1}|2[3-7]\d{0,2})\d{0,12}/,dankort:/^(5019|4175|4571)\d{0,12}/,instapayment:/^63[7-9]\d{0,13}/,jcb15:/^(?:2131|1800)\d{0,11}/,jcb:/^(?:35\d{0,2})\d{0,12}/,maestro:/^(?:5[0678]\d{0,2}|6304|67\d{0,2})\d{0,12}/,mir:/^220[0-4]\d{0,12}/,visa:/^4\d{0,15}/,unionPay:/^(62|81)\d{0,14}/};for(var o in r)r[o].test(a)&&(n.cart_name=o)}if(void 0!=t&&t&&Object.keys(n).length)ze([{name:"card_brand",value:n.cart_name}])}return n}},Qi={token_script_url:"production"==pt?"https://static.smbc-gp.co.jp/ext/js/token.js":"https://stg-static.smbc-gp.co.jp/ext/js/token.js",shop_id:"",shop_pass:"",mode:"",token_number:1},ea={token_script_url:"https://stbtoken.sps-system.com/sbpstoken/com_sbps_system_token.js",merchant_id:"",service_id:"",hash_key:"",mode:""},ta={token_script_url:"https://ptwebcollect.jp/test_gateway/token/js/embeddedTokenLib.js",trader_code:"888889479",access_key:"1111111",yamato_member_id:"",yamato_auth_key:""},na={token_script_url:"https://linkpt.cardservice.co.jp/api/token/1.0/zeus_token.js",token_cvc_script_url:"https://linkpt.cardservice.co.jp/api/token/1.0/zeus_token_cvv.js",clientip:"9999999999",token_number:1},ia={token_script_url:"https://www.test.e-scott.jp/euser/stn/CdGetJavaScript.do",sony_code:"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",callbackAfterGetToken:null,merchant_id:null,merchant_pass:null};window.g_payment_sony=ia;var aa={token_script_url:"https://stg.static.mul-pay.jp/ext/js/token.js",shop_id:"",shop_pass:"",mode:"",library_exist:!1,getToken:function(e,t){var n=he(e),i=n.find(".card_payment_group"),a=n.find(".card_holder_box input.content").val(),r=n.find(".card_number_box input.content").val(),o=n.find(".select_month_box select.content").val(),s=n.find(".select_year_box select.content").val(),l=n.find(".card_code_box input.content").val(),c={success:!1};if(""!=a&&""!=r&&""!=s&&""!=o){i.attr("data-token",null);try{Multipayment.init(this.shop_id),Multipayment.getToken({cardno:r,expire:s+o,securitycode:l,holdername:a},function(n){void 0!=n&&("000"==n.resultCode?void 0!=n.tokenObject&&void 0!=n.tokenObject.token&&(c.success=!0,c.payment_token=n.tokenObject.token,i.attr("data-token",c.payment_token),t(c)):T($.fn.gmoTokenErrorLocales[zi.current])||T($.fn.gmoTokenErrorLocales[zi.current][n.resultCode])||(je("save_conversation_error_log",{log_message_id:e,error_message:$.fn.gmoTokenErrorLocales[zi.current][n.resultCode]}),Fe(e,$.fn.gmoTokenErrorLocales[zi.current][n.resultCode])))})}catch(e){t(c)}}return c},initPaymentToken:function(){!this.library_exist&&this.token_script_url&&(Qe(this.token_script_url),this.library_exist=!0)}},ra={token_key:"",token_type:"",stripe:null,elements:null,js_url:"https://js.stripe.com/v3/",MAX_RETRIES:20,getErrorMessage:function(e,t){var n=zi.getByCode("stripe_unexpected_error"),i={incorrect_number:zi.getByCode("stripe_incorrect_number"),invalid_expiry_month:zi.getByCode("stripe_invalid_expiry_month"),invalid_expiry_year:zi.getByCode("stripe_invalid_expiry_year"),invalid_cvc:zi.getByCode("stripe_invalid_cvc")};switch(e){case"card_error":return i[t]||n;case"invalid_request_error":return zi.getByCode("stripe_invalid_request_error");default:return n}},createCardElements:function(e,t,n){return n>ra.MAX_RETRIES?void this.notifyError(t):window.Stripe?void this.mountCardElement(e,t):void setTimeout(function(){ra.createCardElements(e,t,n+1)},500)},mountCardElement:function(e,t){this.stripe||(this.stripe=Stripe(this.token_key)),this.elements||(this.elements=this.stripe.elements({locale:zi.current}));var n=this.elements.getElement("card");n||(n=this.elements.create("card",{hidePostalCode:!0})),n.mount($(e).find(".card_payment_container")[0]),V(t)},confirmCardSetup:function(e,t,n){if(this.elements){var i=this.elements.getElement("card"),a=$(e).data("stripe_client_secret");ra.stripe.confirmCardSetup(a,{payment_method:{card:i}}).then(function(i){var a={connect_page_id:Vt,user_id:Gt,verification_status:"success"};if(i.error)return ra.notifyError(t,i.error.message),a.verification_status="failure",a.verification_failed_code=i.error.code,void ra.sendLogData(a);var r=i.setupIntent;e.attr("data-stripe_setup_intent",r.id),e.attr("data-stripe_payment_method",r.payment_method),ra.sendLogData(a),n({success:!0})})}else this.notifyError(t)},getCardToken:function(e,t){var n=he(e),i=n.find(".card_payment_group"),a=n.find(".card_number_box input.content").val(),r=n.find(".select_month_box select.content").val(),o=n.find(".select_year_box select.content").val(),s=n.find(".card_code_box input.content").val(),l={},c=zi.getByCode("stripe_unexpected_error");if(a&&o&&r&&s&&this.token_key){i.attr("data-token",null);try{var d={"card[number]":a,"card[exp_month]":r,"card[exp_year]":o,"card[cvc]":s,key:this.token_key},u=[];for(var p in d){var _=encodeURIComponent(p),h=encodeURIComponent(d[p]);u.push(_+"="+h)}u=u.join("&"),fetch("https://api.stripe.com/v1/tokens",{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",body:u}).then(function(e){return e.json()}).then(function(e){e.error?(l.error_message=ra.getErrorMessage(e.error.type,e.error.code),t(l)):(l.card_token=e.id,t(l))})}catch(e){l.error_message=c,t(l)}}},getToken:function(e,t){var n=he(e).find(".card_payment_group");return n.data("stripe_client_secret")?void ra.confirmCardSetup(n,e,t):void this.getCardToken(e,function(i){var a=zi.getByCode("stripe_unexpected_error");if(n.attr("data-token",null),i&&i.card_token)if(ra.token_type==Pn)try{var r={type:"card",token:i.card_token,key:ra.token_key},o=[];for(var s in r){var l=encodeURIComponent(s),c=encodeURIComponent(r[s]);o.push(l+"="+c)}o=o.join("&"),fetch("https://api.stripe.com/v1/sources",{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",body:o}).then(function(e){return e.json()}).then(function(i){i.error?(je("save_conversation_error_log",{log_message_id:e,error_message:i.error.message||a}),Fe(e,i.error.message||a)):(n.attr("data-token",i.id),t({success:!0}))})}catch(t){je("save_conversation_error_log",{log_message_id:e,error_message:a}),Fe(e,a)}else n.attr("data-token",i.card_token),t({success:!0});else je("save_conversation_error_log",{log_message_id:e,error_message:i.error_message||a}),Fe(e,i.error_message||a)})},initPaymentToken:function(e,t){this.token_key=e,this.token_type=t,Qe(this.js_url)},notifyError:function(e,t){var n=t||zi.getByCode("stripe_unexpected_error");je("save_conversation_error_log",{log_message_id:e,error_message:n}),Fe(e,n)},sendLogData:function(e){je("efo_client_send_basefood_stripe_3ds_log",e)}},oa={token_script_url:"https://sandbox.paygent.co.jp/js/PaygentToken.js",merchant_id:"",token_key:"",token_number:1},sa={token_script_url:"https://credit.j-payment.co.jp/gateway/js/CPToken.js",token_jquery_script_url:"https://credit.j-payment.co.jp/gateway/js/jquery.js",store_id:""},la={token_script_url:"https://app2.blob.core.windows.net/botchan/js/client_custom/veritrans4g_get_token.js",merchant_id:"",token_key:"",token_url_version:1,v2_token_url:"https://api3.veritrans.co.jp/4gtoken"},ca={token_script_url:"https://api.veritrans.co.jp/vtdirect/v2/veritrans.min.js",token_key:""},da={token_script_url:"https://secure.epsilon.jp/js/token.js",contract_code:"",mode:""},ua={token_script_url:"https://www.paymentstation.jp/cooperationtoken/tokenpst-v1.js",shop_cd:"",syuno_co_cd:"",api_key:"",mode:"",usecvv:""},pa={black_list:""};BoxUploadFile.init({g_file_upload_all_type_list:Yn,g_validate_types:hi,g_connect_page_id:Vt,socketIOEmit:je});const _a=io(rt,{autoConnect:!1,reconnectionDelay:2e3,reconnectionDelayMax:5e3,reconnectionAttempts:5});_a.on("connect",function(){if(Vi.socket.connect(),!ki){var e=S("user_id");if(Vt&&e){var t={};t[nn]=e,h(t)}Yt&&(Gt=p(nn+"_"+Vt)),r(),ki=!0}}),_a.on("connect_error",function(){Vi.socket.disconnect()}),_a.on("disconnect",function(e){"io client disconnect"!=e&&Vi.socket.disconnect()}),_a.on("efo_bot_send_message",function(i){Ui.processing_flg=!1,Di.shouldSendLiffRequest()&&(k({request_liff_user_id:{liff_id:Di.liff_id}}),Di.is_requested_liff_user_id=!0);var a={bot:[bn.button]},r=!1;i.user_id==Gt&&(r=!0);var o=i.message;if(T(i.message)||!lt||T(st)||(o=b(o)||[]),!isChurnPreventionMessage(i,o)&&!t(i,o)){if(e(i,o)){if(i.type!=yn.user)return;var l={connect_page_id:Vt,user_id:Gt,log_message_id:i._id,b_position:i.b_position,answer:o,question_count:$("#wc-message-group-content .chat-right").length,preview_flg:Qt||void 0,client_title:Ki||"",current_url:Ji.href||"",current_url_param:Ji.param||""};lt&&!T(st)&&(l.answer=w(l.answer),l.encrypt_key=st,l.encrypt_flg=lt);var c=Math.floor(1e3*Math.random());return void setTimeout(function(){var e="answer_"+i._id;p(e)||(u(e,"1",.05),je("efo_user_send_message",l))},c)}o&&"object"==typeof o&&!T(i.type)&&i.type==yn.bot&&$(o).each(function(e,t){$(t).each(function(e,t){var n=t.type;"-1"!=a.bot.indexOf(n)&&(r=!0)})}),setTimeout(function(){r&&(s(i,!0,null,!1,function(){var e=void 0!==i.type?i.type:-1;Ii.scrollBottom({message_type:e})}),n(i))},100)}}),_a.on("efo_other_user_send_message",function(e){}),_a.on("efo_other_user_start",function(){}),_a.on("efo_status_join",function(e){}),_a.on("efo_bot_newconversation",function(e){Dt=!0,o([1]),yt||k({chatbox_show_onload:!0})}),_a.on("efo_bot_newconversation2",function(e){I(),o()}),_a.on("efo_clear_conversation",function(){$("#wc-message-group-content .wc-message-wrapper").remove()}),_a.on("efo_server_send_log",function(e){Ui.historyView(e)}),_a.on("efo_bot_start",function(e){return!T(e.new_flg)&&e.new_flg||Zt?(Dt=!0,void(Tt?(f([1],Tt),Tt=!1,ki=!1,_a.disconnect()):o())):(lt&&(st=e.encrypt_key),T(e.gmo_shop_id)||T(e.gmo_shop_password)||T(e.gmo_mode)||(Qi.shop_id=e.gmo_shop_id,Qi.shop_pass=e.gmo_shop_password,Qi.mode=e.gmo_mode,Qi.token_script_url=e.token_url,Zi.provider_current=e.gmo_provider),T(e.sb_merchant_id)||T(e.sb_service_id)||T(e.sb_hash_key)||(ea.merchant_id=e.sb_merchant_id,ea.service_id=e.sb_service_id,ea.hash_key=e.sb_hash_key,ea.token_script_url=e.token_url,Zi.provider_current=e.gmo_provider),ze(),je("efo_client_get_log",{user_id:Gt,connect_page_id:Vt,current_url:Ji.href,restart_change_ref_flg:Ci,remessage_change_ref_flg:Ti,encrypt_key:st,encrypt_flg:lt}),void(Tt&&!Dt&&D(1)))}),_a.on("efo_bot_send_question_pass",function(e){T(e.question_pass_count)||(un-=parseInt(e.question_pass_count))}),_a.on("efo_bot_send_question_count",function(e){T(e.question_count)||(un=e.question_count)}),_a.on("efo_bot_other_user_answer",function(e){if(!T(e.result)&&!T(e.result._id)){var t=e.result._id;!T(e.question_edit_flg)&&e.question_edit_flg&&Z(t);var n=he(t);if(!T(n)&&!T(e.result.message)){lt&&!T(st)&&(e.result.message=b(e.result.message)||[]);var i=e.result.message;$(n).find(".msg_group").each(function(e,t){T(i[e])||T(i[e].answer)||ne(t,i[e].answer)}),n.find("select.select2-hidden-accessible").trigger("change.select2")}}}),_a.on("efo_bot_send_question_end",function(e){ge(e)}),_a.on("efo_bot_send_postal",function(e){if(!T(e)&&!T(e.data)&&!T(e.data.log_message_id)){var t=e.data.log_message_id,n=he(t),i=n.find(".postalcode_group .postal_code input");T(e.success)||!e.success||T(e.data)?(je("save_conversation_error_log",{log_message_id:t,error_message:zi.getByCode("validate_postalcode_invalid")}),i.addClass(hi.validate_postalcode_invalid)):(Xn.server_response_nearest=e,de(null,t,e),T(e.data.is_from_log)&&!e.data.is_from_log&&n.find(".postalcode_group .street_number input").length&&n.find(".postalcode_group .street_number input").focus(),i.removeClass(hi.validate_postalcode_invalid),void 0!=Xn.available_list[t]&&"object"==typeof Xn.available_list[t]&&void 0!=Xn.available_list[t].available_list&&"object"==typeof Xn.available_list[t].available_list&&Xn.available_list[t].available_list.length&&!T(e.pref)&&"-1"==Xn.available_list[t].available_list.indexOf(e.pref)?(T(Xn.available_list[t].error_message)||i.attr("data-"+hi.validate_postalcode_out_of_area+"-error",Xn.available_list[t].error_message),i.addClass(hi.validate_postalcode_out_of_area)):i.removeClass(hi.validate_postalcode_out_of_area)),Xn.get_data_processing=!1}}),_a.on("efo_bot_send_postcode_by_scope_tw",function(e){if(e&&e.data){var t=$(".modal .postal_code_search_box .zipcode_result_label");t.length&&e.success&&e.zipcode&&(t.html(("ja"==zi.current?"〒":"")+e.zipcode),$("#chat_modal .postal_code_search_box .btn-execute").removeClass("disabled"))}}),_a.on("efo_bot_send_pref_city",function(e){if(!T(e)&&!T(e.data))if(e.data.country==et){if(!T(e.result)){var t;if(e.data&&e.data.postal_code_search_flg){var n=$(".modal .postal_code_search_box");t=n.find(".scope_tw_search select")}t&&(t.find("option").not(".first").remove(),$(e.result).each(function(e,n){T(n)||t.append('<option value="'+n+'">'+n+"</option>")}),$(t).val("").trigger("change.select2"))}}else if(T(e.data.postal_code_search_flg)){if(!T(e.data.log_message_id)){var i=e.data.log_message_id,a=he(i).find(".postalcode_group .postal_code input");T(e.success)||!e.success||T(e.zipcode)||(de(null,i,e),a.val(e.zipcode),a.removeClass(hi.validate_postalcode_invalid)),Xn.next_message_flg&&(K(i),Xn.next_message_flg=!1)}}else{var r=$(".modal .postal_code_search_box .zipcode_result_label");r.length&&!T(e.success)&&e.success&&!T(e.zipcode)&&(r.html(("ja"==zi.current?"〒":"")+e.zipcode),$("#chat_modal .postal_code_search_box .btn-execute").removeClass("disabled"))}}),_a.on("efo_bot_send_zipcode_city",function(e){if(!T(e)&&!T(e.result)){var t;if(!T(e.param)&&!T(e.param.postal_code_search_flg)){var n=$(".modal .postal_code_search_box");t=n.find(".city_search select")}T(t)||(t.find("option").not(".first").remove(),$(e.result).each(function(e,n){T(n)||t.append('<option value="'+n+'">'+n+"</option>")}),$(t).val("").trigger("change.select2"))}}),_a.on("efo_bot_send_zipcode_street",function(e){if(!T(e)&&!T(e.result)){var t,n=["以下に掲載がない場合"];if(!T(e.param)&&!T(e.param.postal_code_search_flg)){var i=$(".modal .postal_code_search_box");t=i.find(".street_search select")}T(t)||(t.find("option").not(".first").remove(),$(e.result).each(function(e,i){T(i)||"-1"!=n.indexOf(i)||t.append('<option value="'+i+'">'+i+"</option>")}),$(t).val("").trigger("change.select2"))}}),_a.on("efo_bot_send_pref",function(e){var t;T(e)||T(e.result)||(T(t=T(e.param)||T(e.param.postal_code_search_flg)?$("#wc-message-group-content .pulldown_group .prefecture_city_box .pref_box select").not(".option_flg_done"):$(".modal .postal_code_search_box .pref_search select"))||(t.find("option").not(".first").remove(),$(e.result).each(function(e,n){T(n)||t.append('<option value="'+n+'">'+n+"</option>")}),t.parents(".pulldown_group").length&&($(t).each(function(e,t){if(!T($(t).attr("data-value"))){var n=$(t).attr("data-value");$(t).val(n).trigger("change.select2"),$(t).attr("data-value",null)}}),t.addClass("option_flg_done"))))}),_a.on("efo_bot_send_city",function(e){if(!(T(e)||T(e.result)||T(e.param)||T(e.param.pref_city_id))){var t=$("#wc-message-group-content .pulldown_group .prefecture_city_box#"+e.param.pref_city_id);if(t.length&&$(t).find(".city_box select").length){var n=$(t).find(".city_box select"),i=$(n).attr("data-value");n.find("option").not(".first").remove(),$(e.result).each(function(e,t){T(t)||n.append('<option value="'+t+'">'+t+"</option>")}),T(i)?n.val(""):($(n).val(i),$(n).attr("data-value",null)),n.trigger("change.select2")}}}),_a.on("efo_bot_send_japan_stress",function(e){if(!(T(e)||T(e.log_message_id)||T(e.data_city)&&T(e.data_stress))){var t=e.log_message_id,n=he(t),i=n.find(".chat-body").attr("data-b_position"),a=T(e.data_city)?n.find(".stress_box select.content"):n.find(".city_box select.content"),r=T($(a).val())?$(a).attr("data-value"):$(a).val(),o=a.attr("data-columns"),s="";if(!T(r)&&Le(r)&&(r=JSON.parse(r)),T(o)||isNaN(o)||(o=parseInt(o))>1&&(s="col-xs-"+Math.floor(12/o)),$(a).attr("data-value",null).html(""),!T(e.data_city)&&e.data_city.length)$(e.data_city).each(function(e,t){if(!T(t.data)&&t.data.length){var n="city_group_"+i+"_"+e,r=t.city_group;a.append(' <optgroup class="col-xs-12 '+n+'" label="'+r+'"></optgroup>'),$(t.data).each(function(e,t){if(!T(t.text)){var i=T(t.value)?e:t.value;a.find("."+n).append('<option class="'+s+'" value="'+i+'">'+t.text+"</option>")}})}});else if(!T(e.data_stress)&&e.data_stress.length)$(e.data_stress).each(function(e,t){if(!T(t.data)&&t.data.length){var n="stress_group_"+i+"_"+e,r=t.city;a.append(' <optgroup class="col-xs-12 '+n+'" label="'+r+'"></optgroup>'),$(t.data).each(function(e,t){if(!T(t.text)){var i=T(t.value)?e:t.value;a.find("."+n).append('<option class="'+s+'" value="'+i+'">'+t.text+"</option>")}})}});else{var l=zi.getByCode("no_results_found","No results found");je("save_conversation_error_log",{log_message_id:t,error_message:l}),Fe(t,l)}if($(a).val(null),!T(r)){var c=[];$(r).each(function(e,t){a.find('option[value="'+t+'"]').length&&c.push(t)}),c.length&&$(a).val(c)}a.trigger("change.select2"),T(e.data_city)||Ue(t)}}),_a.on("efo_bot_send_japan_station",function(e){if(!(T(e)||T(e.log_message_id)||T(e.data_line)&&T(e.data_station))){var t=e.log_message_id,n=he(t),i=n.find(".chat-body").attr("data-b_position"),a=T(e.data_line)?n.find(".station_box select.content"):n.find(".line_box select.content"),r=T($(a).val())?$(a).attr("data-value"):$(a).val(),o=a.attr("data-columns"),s="";if(!T(r)&&Le(r)&&(r=JSON.parse(r)),T(o)||isNaN(o)||(o=parseInt(o))>1&&(s="col-xs-"+Math.floor(12/o)),$(a).attr("data-value",null).html(""),!T(e.data_line)&&e.data_line)$(e.data_line).each(function(e,t){if(!T(t.data)&&t.data.length){var n="line_group_"+i+"_"+e,r=t.line_group;a.append(' <optgroup class="col-xs-12 '+n+'" label="'+r+'"></optgroup>'),$(t.data).each(function(e,t){if(!T(t.text)){var i=T(t.value)?e:t.value;a.find("."+n).append('<option class="'+s+'" value="'+i+'">'+t.text+"</option>")}})}});else if(!T(e.data_station)&&e.data_station)$(e.data_station).each(function(e,t){if(!T(t.data)&&t.data.length){var n="station_group_"+i+"_"+e,r=t.line;a.append(' <optgroup class="col-xs-12 '+n+'" label="'+r+'"></optgroup>'),$(t.data).each(function(e,t){if(!T(t.text)){var i=T(t.value)?e:t.value;a.find("."+n).append('<option class="'+s+'" value="'+i+'">'+t.text+"</option>")}})}});else{var l=zi.getByCode("no_results_found","No results found");je("save_conversation_error_log",{log_message_id:t,error_message:l}),Fe(t,l)}if($(a).val(null),!T(r)){var c=[];$(r).each(function(e,t){a.find('option[value="'+t+'"]').length&&c.push(t)}),c.length&&$(a).val(c)}a.trigger("change.select2"),T(e.data_line)||Ge(t)}}),_a.on("efo_bot_api_validation_value",function(e){if(!T(e)&&!T(e.log_message_id))if(!T(e.error_flg)&&e.error_flg){if(!T(e.data)&&e.data.length){var t=he(e.log_message_id);$(e.data).each(function(n,i){T(i.error_msg)||T(i.api_valid_id)||(je("save_conversation_error_log",{log_message_id:e.log_message_id,error_message:i.error_msg}),Te(i.error_msg,t.find("div[data-api_valid_id]").eq(n),null,!1,!1))})}t.find(".next_message button").removeClass("disabled")}else K(e.log_message_id,!1)}),_a.on("efo_bot_get_pin_code_authentication",function(e){if(!T(e)&&!T(e.status)&&e.status===ni.status.fail){var t=he(e.log_message_id);T(e.error_msg)||(je("save_conversation_error_log",{log_message_id:e.log_message_id,error_message:e.error_msg}),Te(e.error_msg,t.find('div[data-message_id="'+e.log_message_id+'"] .pin_code_auth_container'),null,!1,!1))}}),_a.on("efo_bot_send_captcha",function(e){if(!T(e)&&!T(e.log_message_id)&&!T(e.captcha_name)){var t=he(e.log_message_id).find('input[name="'+e.captcha_name+'"]'),n=t.parents(".captcha_group"),i=n.find(".captcha_box img");if(!T(e.status)&&e.status)-1!=Jn.indexOf(e.captcha_name)&&Jn.splice(Jn.indexOf(e.captcha_name),1),t.length&&t.attr("disabled","disabled").addClass("notset"),i.addClass("verify"),Jn.length||K(e.log_message_id,!1);else{je("save_conversation_error_log",{log_message_id:e.log_message_id,error_message:zi.getByCode("verification_incorrect")});var a="<label class='error'>"+zi.getByCode("verification_incorrect")+"</label>";n.append(a)}}}),_a.on("efo_bot_send_api",function(e){T(e)||T(e.uri)||T(e.data)||k({thanks_page_open:e})}),_a.on("efo_bot_send_message_error",function(e){if(_n.enableNextMessage(),e.message&&""!=e.message){var t="";if(T(e.log_message_id)){if(void 0!=e.last_user_append_flg&&1==e.last_user_append_flg){var n=$("#wc-message-group-content .wc-message-wrapper.chat-right").last();n.length&&(t=n.find(".chat-body").attr("data-message_id"))}}else t=e.log_message_id;T(t)?Ne(e.message):T(e.type)||e.type!=wn.pin_code_auth_flg||T(e.message)?e.api_error_flg?je("save_conversation_error_log",{log_message_id:t,error_message:e.message}):(je("save_conversation_error_log",{log_message_id:t,error_message:e.message}),Fe(t,e.message,e.last_user_append_flg)):(je("save_conversation_error_log",{log_message_id:t,error_message:e.message}),Fe(t,e.message,!0)),void 0!=e.next_message_enable&&1==e.next_message_enable&&V(t,!0,!0)}}),_a.on("efo_typing_on",function(e){var t=null,n=null;T(e)||"object"!=typeof e||T(e.type)||(t=e.type,n=e.loading_text),Li.show(t,n)}),_a.on("efo_typing_off",function(){Li.clear()}),_a.on("efo_message_form_disable",function(e){var t=!1;if(!T(e)&&!T(e.disable_forever)&&1==e.disable_forever){t=!0,$(".wc-message-group-content .chat-left, .wc-message-group-content .chat-right").each(function(e,t){if($(t).find(".chat-body").length){var n=$(t).find(".chat-body").attr("data-message_id");T(n)||Pt.addDisableForeverList(n)}});var n=$("#wc-message-group-content .wc-message-wrapper.chat-right").last();if(n.length){var i=n.find(".chat-body").attr("data-b_position");T(i)||je("efo_user_send_disable_forever",{connect_page_id:Vt,user_id:Gt,position:i})}}G(null,t)}),_a.on("efo_message_form_enable",function(){qt||J()}),_a.on("efo_bot_send_next_message",function(e){if(!T(e.log_message_id)){var t=!1;void 0!=e.verify_flg&&e.verify_flg&&(t=!0),Zi.getInfo(e.log_message_id,!0),K(e.log_message_id,t)}}),_a.on("efo_bot_send_webhook_error",function(e){var t=[];T(e.msg)||"object"==typeof e.msg&&e.msg.length&&$(e.msg).each(function(e,n){T(n.message)||t.push(n.message)}),t.length||(t=zi.getByCode("webhook_efo_error")),Ne(t)}),_a.on("efo_bot_send_gmo_info",function(e){T(e.shop_id)||T(e.shop_password)||T(e.mode)||T(e.provider)||(Qi.shop_id=e.shop_id,Qi.shop_pass=e.shop_password,Qi.mode=e.mode,Qi.token_script_url=e.token_url,Zi.provider_current=e.provider)}),_a.on("efo_set_payment_gateway",function(e){var t=this.provider_current,n=e.payment_gateway_info;Zi.getData(e),t!=n.provider&&Zi.initPayment(e.card_code_box,!0)});var ha=!1;_a.on("efo_bot_send_aftee_auth",function(e){var t=e.log_message_id;if(he(t).find(".next_message button"),void 0===e||T(e.aftee_pub_key)||T(e.aftee_np_data))V(t,!0,!0);else{var n=e.aftee_pub_key,i=e.aftee_np_data;if(ha)"function"==typeof Aftee&&(Aftee.merge({pub_key:n,payment:i}),Aftee.sync(),Aftee.start());else{i.transaction_options=[1];var a={pub_key:n,payment:i,authenticated:function(e,t){e},cancelled:function(){ha=!0,V(t,!0,!0)},failed:function(e){V(t,!0,!0)},succeeded:function(e){je("efo_user_send_aftee_token",{connect_page_id:Vt,user_id:Gt,log_message_id:t,aftee_transaction_id:e.id})},error:function(e,n,i){V(t,!0,!0)}};if($("script.aftee_js").length)"function"==typeof Aftee&&Aftee.config(a,Aftee.start);else{var r=document.createElement("script");r.setAttribute("class","aftee_js"),r.setAttribute("src","https://ct-auth.np-pay.com/v1/aftee.js"),document.body.appendChild(r),r.onload=function(){"function"==typeof Aftee&&Aftee.config(a,Aftee.start)}}}}});var fa=!1;_a.on("efo_bot_send_atone_auth",function(e){var t=e.log_message_id;if(he(t).find(".next_message button"),void 0===e||T(e.atone_pub_key)||T(e.atone_np_data))V(t,!0);else{var n=e.atone_pub_key,i=e.atone_np_data;if(fa)"function"==typeof Atone&&(Atone.merge({pub_key:n,payment:i}),Atone.sync(),Atone.start());else{var a={pub_key:n,payment:i,authenticated:function(e,t){e},cancelled:function(){fa=!0,V(t,!0)},failed:function(e){V(t,!0)},succeeded:function(e){je("efo_user_send_atone_token",{connect_page_id:Vt,user_id:Gt,log_message_id:t,atone_transaction_id:e.id})},error:function(e,n,i){V(t,!0)}};if($("script.aftee_js").length)"function"==typeof Atone&&Atone.config(a,Atone.start);else{var r=document.createElement("script");r.setAttribute("class","atone_js"),r.setAttribute("src","https://ct-auth.a-to-ne.jp/v1/atone.js"),document.body.appendChild(r),r.onload=function(){"function"==typeof Atone&&Atone.config(a,Atone.start)}}}}});_a.on("efo_bot_send_paidy_auth",function(e){var t=e.log_message_id;if(he(t).find(".next_message button"),void 0===e||T(e.paidy_pub_key))V(t,!0,!0);else{const a=e.paidy_pub_key,r=e.paidy_secret_key,o=e.paidy_order_data,s={api_key:a,closed:function(e){je("efo_user_send_paidy_token",{connect_page_id:Vt,user_id:Gt,log_message_id:t,paidy_secret_key:r,paidy_order_data:o,token_id:e.id}),!0,V(t,!0)},token:{wallet_id:"default",type:"recurring"}};var n={buyer:o.buyer};if($("script.paidy_js").length){Paidy.configure(s).launch(n)}else{var i=document.createElement("script");i.setAttribute("class","paidy_js"),i.setAttribute("src","https://apps.paidy.com/"),document.body.appendChild(i),i.onload=function(){Paidy.configure(s).launch(n)}}}}),_a.on("efo_bot_send_zcom_payment",function(e){var t=e.log_message_id;if(void 0===e||T(e.zcom_payment_url))V(t,!0,!0);else{var n="var zcom_payment_url = '"+e.zcom_payment_url+"';\n";k({script_run:{content:n+='if (zcom_payment_url && typeof zcom_payment_url == "string")\n{ window.location.href = zcom_payment_url; }'}}),V(t,!0)}}),_a.on("efo_bot_send_data_convert",function(e){try{if(!T(e.log_message_id)&&!T(e.result)&&!T(e.input_data)){var t=he(e.log_message_id),n=e.input_data.autokana_index,i=e.input_data.autokana_input_index,a=e.result;if(t.length&&!T(n)&&!T(i)){var r=t.find('.input_group[data-autokana_index="'+n+'"] input[data-autokana_input="'+i+'"]'),o=t.find('.input_group[data-autokana_index="'+n+'"] input[data-autokana_output="'+i+'"]');if(o.length&&r.length&&!T(r.val()))a!=o.val()&&$(o).val(a)}}}catch(e){}}),_a.on("efo_check_card_validity_information",function(e){if(e&&e.success)Zi.getToken(e.log_message_id);else{var t=e.data.message||zi.getByCode("error_payment");je("save_conversation_error_log",{log_message_id:e.log_message_id,error_message:t}),Fe(e.log_message_id,t)}});var ma=!1;_a.on("efo_churn_prevention_joined",function(e){try{if(ma)return;if(!e||!e.user_id||!e.connect_page_id)return;var t=e.connect_page_id,n=e.user_id,i="c_p_user_id"+t,a=p(i);if(ma=!0,!a)return void u(i,n,4320);if(a!=n){var r={};r.connect_page_id=t,r.original_user_id=a,r.user_id=n,je("efo_churn_prevention_log_user",r)}}catch(e){}}),_a.on("efo_maintain_mode_notice",function(e){Ne(e.message)}),_a.on("efo_bot_send_box_token",function(e){var t=BoxUploadFile.upload(e),n=e.log_message_id;if(!t||!t.success){var i=zi.getByCode("box_unexpected_error");return je("save_conversation_error_log",{log_message_id:n,error_message:i}),void Fe(n,i)}K(n,!1)}),window.onfocus=function(){},$(document).on("keypress","input",function(e){var t=$(this).parents(".chat-body").attr("data-message_id");if(!yt&&13==e.which){var n=he(t),i=n.find("input, textarea").not("[readonly], .disabled, .hide, .hidden, .icheck"),a=$(i).index($(this));if(i.length&&a<i.length-1)i.eq(a+1).focus();else{var r=n.find(".msg_group");r.index($(this).parents(".msg_group"))>=r.length-1&&($(this).trigger("blur"),K(t,!0))}}}),$(document).on("focus","input[readonly], textarea[readonly]",function(e){$(this).parents(".calendar_group").length||$(this).trigger("blur")}),$(document).on("wheel","input[type=number]",function(e){$(this).blur()}),$(document).on("click",".chatview-container .chat-header",function(e){var t=!0;if(($(e.target).hasClass("header_cart_box")||$(e.target).parents(".header_cart_box").length||$(e.target).hasClass("message_clear_box")||$(e.target).parents(".message_clear_box").length||$(e.target).hasClass("chatbox_hide_time_box")||$(e.target).parents(".chatbox_hide_time_box").length||$(e.target).hasClass("postal_code_search_box")||$(e.target).parents(".postal_code_search_box").length||$(e.target).hasClass("chatbox_close_confirm_box")||$(e.target).parents(".chatbox_close_confirm_box").length)&&$t&&(t=!1),t){if(2===Ft){var n=$(".chat-header img.header-image"),i=ct;$t?i.setting.start_button_icon&&n.attr("src",i.setting.start_button_icon):void 0!=i.picture&&""!=i.picture?n.attr("src",i.picture):n.hide()}Ri.status&&$t?Bi.init(Bi.list_type.chatbox_close_confirm):D()}}),$(document).on("click",".chat-header .header_cart_box:not(.disabled)",function(e){Oe()}),$(document).on("click",".chat-header .message_clear_box:not(.disabled)",function(e){Bi.init(Bi.list_type.clear_message_confirm)}),$(document).on("click",".chatbox_reload, .clear_message_confirm_box .btn-execute",function(){I(),o(),Bi.modalHide()}),$(document).on("click",".chatbox_hide_time_box .btn-execute",function(){Hi.setCookie()}),$(document).on("click",".chat-header .chatbox_hide_time_box:not(.disabled)",function(e){Bi.init(Bi.list_type.chatbox_hide_time)}),$(document).on("click",".chatbox_close_confirm_box .btn-execute",function(){D(0),Ri.saveAnalytic({click_type:Ri.click_type.ok})}),$(document).on("click",".chatbox_close_confirm_box a[data-href]",function(){var e=$(this).attr("data-href");e&&(k({script_run:{content:"window.open('"+e+"', '_blank')"}}),Ri.saveAnalytic({click_type:Ri.click_type.url}))}),$(document).on("click",".startup_popup_box a[data-href]",function(){var e=$(this).attr("data-href");e&&k({script_run:{content:"window.open('"+e+"', '_blank')"}})}),$(document).on("click",".startup_popup_box .btn-execute",function(){Bi.modalHide()}),$(document).on("click",".confirm_message_updating_box .btn-execute",function(){var e=$("#chat_modal").attr("data-message_id");T(e)||(_n.setMsgUpdatingConfirmByUser(!0),K(e,!0)),Bi.modalHide()}),$(document).on("click",".confirm_disconnect_box .modal_label a[data-href]",function(e){var t=$(this).attr("data-href"),n=$(this).attr("target");if(t){var i='window.location.href = "'+t+'";';"_blank"==n&&(i="window.open('"+t+"', '_blank')"),k({script_run:{content:i},event_name:"confirm_disconnect_click"})}}),$(document).on("click",".clear_message_confirm_box .btn-cancel, .postal_code_search_box .btn-cancel, .chatbox_hide_time_box .btn-cancel, .chatbox_close_confirm_box .btn-cancel, .confirm_message_updating_box .btn-cancel, .confirm_disconnect_box .btn-execute",function(){Bi.modalHide(),k({event_dispatch:!0,event_type:$("#chat_modal").attr("data-type")+"_closed",event_data:{disconnect_redirect:Vi.disconnect_redirect}})}),$(document).on("click touchstart",function(e){"block"==$("#botchan-chat .cart_preview_box").css("display")&&(!$(e.target).parents("body").length||$(e.target).parents(".cart_preview_box").length||$(e.target).parents(".chat-header").length||Oe(!1))}),$(document).on("click",".wc_error_global .remove_box",function(e){$(".wc_error_global").addClass("hidden"),$(".wc_error_global .error").remove()}),$(document).on("click","#wc-message-groups .chatbox_remove_box button",function(e){Re(!0)}),$(document).on("click","#wc-message-group-content .next_message button:not(.disabled)",function(e){var t=$(e.target).parents(".chat-body").attr("data-message_id");K(t,!0)&&ye(t)}),$(document).on("ifChecked","#wc-message-group-content .chat-right .radio_group.is_next_message .option_input",function(e){var t=$(e.target).parents(".chat-body").attr("data-message_id");T(t)||K(t,!0)&&ye(t)}),$(document).on("ifChecked","#wc-message-group-content .chat-right .product_purchase_radio_button_group.is_next_message .option_input",function(e){var t=$(e.target).parents(".chat-body").attr("data-message_id");T(t)||K(t,!0)&&ye(t)}),$(document).on("ifChecked","#wc-message-group-content .chat-right .card_payment_with_radio_group.is_next_message .option_input",function(e){var t=$(e.target).parents(".chat-body").attr("data-message_id");if(!T(t)){showHideCardPayment($(e.target));var n=$(e.target).parents(".card_payment_with_radio_group"),i=$(n).children(".card_payment_group");if(i&&$(i).not("group_hidden")&&$(e.target).hasClass("show_card_payment"))return void function(e){if(Ii.clearStopScrollMessageId(),Ii.clearScrollPositionMessageId(),_n.isNextMessage(e)&&_i&&void 0!=e&&""!=e){var t=he(e);Z(e)&&ve(),showHideNextMessageButton(t)}}(t);K(t,!0)&&ye(t)}}),$(document).on("ifChecked","#wc-message-group-content .chat-right .card_payment_with_radio_group .option_input",function(e){T($(e.target).parents(".chat-body").attr("data-message_id"))||showHideCardPayment($(e.target))}),$(document).on("ifChecked","#wc-message-group-content .radio_group .option_input",function(e){_i&&X($(e.target))}),$(document).on("ifChecked","#wc-message-group-content .card_payment_with_radio_group .option_input",function(e){_i&&X($(e.target))}),$(document).on("ifChanged","#wc-message-group-content .chat-right .checkbox_group .option_input,  #wc-message-group-content .product_purchase_group .option_input",function(e){_i&&X($(e.target))}),$(document).on("ifChecked","#wc-message-group-content .product_purchase_radio_button_group .option_input",function(e){_i&&X($(e.target))}),$(document).on("input change dp.change","#wc-message-group-content .chat-right input, #wc-message-group-content .chat-right textarea, #wc-message-group-content .chat-right select",function(e){V($(e.target).parents(".chat-body").attr("data-message_id"))}),$(document).on("click","#wc-message-group-content .chat-right .number_input_box .incr-btn button:not(.disabled)",function(e){V($(e.target).parents(".chat-body").attr("data-message_id")),function(e){var t=e.parents(".msg_group"),n=e.parents(".product_item"),i=t.attr("data-message_type");i!=wn.product_purchase&&i!=wn.product_purchase_radio_button||n.find("input.option_input").length&&!n.find("input.option_input:checked").length&&Y("check",n.find("input.option_input"))}($(this))}),$(document).on("ifChanged","#wc-message-group-content .chat-right .terms_use_group input",function(e){if(_i){var t=$(this).is(":checked"),n=$(e.target).parents(".chat-body").attr("data-message_id");t?V(n,!0,!0):U(n)}}),$(document).on("input change","#wc-message-group-content .input_group .tel_hyphen_box input",function(e){var t=$(this).parents(".input_container"),n=$(this).parents(".tel_hyphen_box");if(!t.hasClass(hi.validate_require)&&t.find("input").length>1){var i=!0;t.find("input").each(function(e,t){T($(t).val())||(i=!1)}),i?n.removeClass(hi.validate_require):n.addClass(hi.validate_require)}}),$(document).on("input","#wc-message-group-content div.tel_hyphen_box input.content",function(e){(e.which||e.keyCode||e.charCode,$(this).val().length==$(this).attr("maxlength"))&&$(this).closest("div.input_content").next().find("input.content").focus().select()}),$(document).on("keydown","#wc-message-group-content div.tel_hyphen_box input.content",function(e){8===(e.which||e.keyCode||e.charCode)&&0===$(this).val().length&&$(this).closest("div.input_content").prev().find("input.content").focus()}),$(document).on("change","#wc-message-group-content .input_group[data-autokana_type] input.content",function(e){if(Tn.convert_by_server_flg){var t=$(this).parents(".chat-body").data("message_id"),n=$(this).parents(".input_group").attr("data-autokana_type"),i=$(this).parents(".input_group").attr("data-autokana_index"),a=$(this).attr("data-autokana_input"),r=$(this).val();if(!(T(t)||T(n)||T(i)||T(a))){var o=Tn.getInputId(t,i,a);if(Tn.input_timeout[o]&&clearTimeout(Tn.input_timeout[o]),!T(r))je("efo_user_send_data_convert",{convert:{string:r,to:n},input_data:{autokana_index:i,autokana_input_index:a},user_id:Gt,log_message_id:t})}}}),$(document).on("input","#wc-message-group-content .input_group[data-autokana_type] input.content",function(e){if(Tn.convert_by_server_flg){var t=$(this).parents(".chat-body").data("message_id"),n=($(this).parents(".input_group").attr("data-autokana_type"),$(this).parents(".input_group").attr("data-autokana_index")),i=$(this).attr("data-autokana_input"),a=$(this);if(!T(t)&&!T(n)&&!T(i)){var r=Tn.getInputId(t,n,i);Tn.input_timeout[r]&&clearTimeout(Tn.input_timeout[r]),Tn.input_timeout[r]=setTimeout(function(){a.trigger("change")},800)}}}),$(document).on("input","#wc-message-group-content .chat-right .postalcode_group .postal_code input",function(e){var t=$(this).parents(".chat-body").data("message_id"),n=$(this).val(),i=$(this).parents(".postalcode_group").data("country"),a=n.replace(/\D/g,"");if(a!=n&&($(this).val(a),n=a),!T(n)&&!T(t)&&(n=n.replace(/-/g,""),i==tt&&n.length>=7||i==et&&6==n.length)){var r={zipcode:n,log_message_id:t,country:i};Xn.get_data_processing=!0,je("efo_user_send_postal",r)}}),$(document).on("change","#wc-message-group-content .chat-right .postalcode_group .dropdown_prefectures select",function(e){ue($(this).parents(".chat-body").data("message_id"))}),$(document).on("change","#wc-message-group-content .chat-right .postalcode_group .municipality input",function(e){ue($(this).parents(".chat-body").data("message_id"))}),$(document).on("click","#wc-message-group-content .postalcode_group .postal_code_search_button .search_label:not(.disabled)",function(e){var t=$(this).parents(".chat-body").data("message_id"),n=$(this).parents(".postalcode_group").data("country");if(t){var i=he(t).find(".msg_group").index($(this).parents(".msg_group"));Bi.init(Bi.list_type.postal_code_search,{log_message_id:t,msg_group_index:i,country:n}),je("efo_user_send_pref",{postal_code_search_flg:1,country:n})}}),$(document).on("click","#chat_modal .postal_code_search_box .btn-execute:not(.disabled)",function(e){var t=$("#chat_modal").attr("data-message_id"),n=$("#chat_modal").attr("data-msg_group_index"),i=$(".modal .postal_code_search_box");if(i.length){var a=i.find(".zipcode_result_label").html(),r=he(t);if(r.length&&n){var o=r.find(".chat-body .msg_group").eq(n);if(o.length)if(o.attr("data-message_type")==wn.postal_code){var s=o.find(".postal_code_split");T(s)?o.find(".postal_code input").val(a).trigger("input"):pe(s,a)}}}Bi.modalHide()}),$(document).on("change",".modal .postal_code_search_box select",function(){var e=$(this).val(),t=$(this).parents("#chat_modal").attr("data-country"),n=$(".modal .postal_code_search_box");if(0==n.length)return!1;var i=n.find(".pref_search select"),a=n.find(".city_search select"),r=n.find(".street_search select"),o=n.find(".zipcode_result_label"),s=i.val(),l=a.val();$(this).parents(".pref_search").length?(o.html(""),a.find("option").not(".first").remove(),a.val("").trigger("change.select2"),r.find("option").not(".first").remove(),r.val("").trigger("change.select2"),T(e)||je("efo_user_send_zipcode_city",{pref:e,postal_code_search_flg:1,country:t})):$(this).parents(".city_search").length?(o.html(""),r.find("option").not(".first").remove(),r.val("").trigger("change.select2"),T(e)||je("efo_user_send_zipcode_street",{pref:s,city:e,postal_code_search_flg:1,country:t})):$(this).parents(".street_search").length?T(e)?o.html(""):je("efo_user_send_pref_city",{pref:s,city:l,street:e,postal_code_search_flg:1,country:t}):$(this).parents(".scope_tw_search").length&&(T(e)?o.html(""):je("efo_user_get_postcode_by_scope_tw",{pref:s,city:l,street:r.val(),scope:e,postal_code_search_flg:1,country:t}))}),$(document).on("input","#wc-message-group-content div.postal_code_split input.sub_content",function(e){(e.which||e.keyCode||e.charCode,$(this).val().length==$(this).attr("maxlength"))&&$(this).closest("div.input_content").next().find("input.sub_content").focus();var t=$(this).closest("div.postal_code_split"),n=t.find('input[name="postal_code_1"]').val(),i=t.find('input[name="postal_code_2"]').val(),a=n.replace(/\D/g,""),r=i.replace(/\D/g,"");n!==a&&t.find('input[name="postal_code_1"]').val(a),i!==r&&t.find('input[name="postal_code_2"]').val(r);var o=a+r;t.find('input[name="postal_code"]').val(o);var s=$(this).parents(".chat-body").data("message_id"),l=$(this).parents(".postalcode_group").data("country");if(!T(o)&&!T(s)&&(l==tt&&o.length>=7||l==et&&6==o.length)){var c={zipcode:o,log_message_id:s,country:l};Xn.get_data_processing=!0,je("efo_user_send_postal",c)}}),$(document).on("keydown","#wc-message-group-content div.postal_code_split input.sub_content",function(e){8===(e.which||e.keyCode||e.charCode)&&0===$(this).val().length&&$(this).closest("div.input_content").prev().find("input.sub_content").focus()}),$(document).on("change","#wc-message-group-content .pulldown_group .select_year_box select, #wc-message-group-content .pulldown_group .select_month_box select",function(e){j($(this))}),$(document).on("change change.select2","#wc-message-group-content .pulldown_group select",function(e){if(!$(this).parents(".pulldown_container").hasClass(hi.validate_require)&&$(this).parents(".pulldown_container").find("select").length>1){var t=!0;$(this).parents(".pulldown_container").find("select").each(function(e,n){T($(n).val())||(t=!1)}),t?$(this).parents(".pulldown_container").find("select").removeClass(hi.validate_require):$(this).parents(".pulldown_container").find("select").addClass(hi.validate_require)}}),$(document).on("change change.select2","#wc-message-group-content .pulldown_group .pref_box select",function(e){var t=$(this).val(),n=$(this).parents(".prefecture_city_box").attr("id"),i=$(this).parents(".prefecture_city_box").find(".city_box select.content");T(t)?(i.find("option").not(".first").remove(),i.val("").trigger("change.select2")):je("efo_user_send_city",{pref:t,pref_city_id:n})});var ga=!1,va={},ya={};$(document).on("mousedown","#wc-message-group-content .carousel_group .item_url_box",function(e){$(this).attr("data-url")&&(ga=!0,ya={x:e.clientX,y:e.clientY},va={x:e.pageX,y:e.pageY})}),$(document).on("mouseup","#wc-message-group-content .carousel_group .item_url_box",function(e){var t=$(this).attr("data-url");if(ga&&t){var n=!0;T(ya.x)||T(ya.y)||T(va.x)||T(va.y)||ya.x==e.clientX&&ya.y==e.clientY&&va.x==e.pageX&&va.y==e.pageY||(n=!1),n&&window.open(t,"_blank"),ga=!1,ya={}}}),$(document).on("click","#wc-message-group-content .carousel_group .image_box.click_to_select",function(){$(this).parents(".carousel_item").find("button.carousel_select").length&&$(this).parents(".carousel_item").find("button.carousel_select").click()}),$(document).on("click","#wc-message-group-content .carousel_group .item_url_box, #wc-message-group-content .carousel_group button.carousel_link:not(.disabled), #wc-message-group-content .button_link_group button.button_link_button:not(.disabled),#wc-message-group-content .button_group .button_item button:not(.disabled)",function(){var e=$(this).attr("data-url");e&&window.open(e,"_blank")}),$(document).on("click","#wc-message-group-content .carousel_group button.carousel_select:not(.disabled)",function(e){var t=$(e.target).parents(".chat-body").attr("data-message_id"),n=$(this).parents(".carousel_container");n.find(".carousel_item").removeClass("active"),n.length&&$(this).parents(".carousel_item").addClass("active"),V(t)}),$(document).on("click","#wc-message-group-content .carousel_group.is_next_message button.carousel_select:not(.disabled)",function(e){var t=$(e.target).parents(".chat-body").attr("data-message_id");T(t)||K(t,!0)&&ye(t)});var ba,wa,xa,ka=null,$a=null,Ca=null,Ta=!1;yt||($(document).on("mousedown","#wc-message-group-content .carousel_group .carousel_item",function(e){e.preventDefault(),ka=e.pageX,$a=$(this).parents(".carousel_container").scrollLeft(),Ca=$a,Ta=!1}),$(document).on("mousemove","#wc-message-group-content .carousel_group .carousel_item",function(e){if(null!=$a){var t=e.pageX;Ca=$a-t+ka,$(this).parents(".carousel_container").scrollLeft(Ca),Ta||(k({carousel_mouse_move:!0}),Ta=!0)}}),$(document).on("mouseup",function(e){setTimeout(function(){$a=null,Ca=null},100)})),$(document).on("input change","#wc-message-group-content .card_payment_group .card_number_box input",function(e){T($(this).val())||$(this).val(function(e){var t=e.replace(/\s+/g,"").replace(/[^0-9]/gi,""),n=t.match(/\d{4,16}/g),a=n&&n[0]||"",r=[];for(i=0,len=a.length;i<len;i+=4)r.push(a.substring(i,i+4));return r.length?r.join(""):t}($(this).val()))}),$(document).on("input change","#wc-message-group-content .card_payment_group .card_holder_box input",function(){$(this).val($(this).val().replace(/[\uff01-\uff5e]/g,function(e){return String.fromCharCode(e.charCodeAt(0)-65248)}).replace(/\u3000/g," ").replace(/[^a-zA-Z\s]|(^\s+)/g,""))}),$(document).on("input change","#wc-message-group-content .card_payment_group .card_code_box input",function(e){if(!T($(this).val())){var t=$(this).val().replace(/\s+/g,"").replace(/[^0-9]/gi,"").match(/\d{1,4}/g);$(this).val(t&&t[0]||"")}}),$(document).on("input change","#wc-message-group-content .card_payment_group input, #wc-message-group-content .card_payment_group select",function(e){if(Zi.provider_current==Zi.provider_list.ze_us){var t=he(($(this).closest(".card_payment_group"),$(e.target).parents(".chat-body").attr("data-message_id")));if(t.find(".next_message button").hasClass("updating"))ae(t.find(".card_payment_container .card_code_box").length)}}),$(document).on("input","#wc-message-group-content div.four_input_one_row input.sub_content",function(e){(e.which||e.keyCode||e.charCode,$(this).val().length==$(this).attr("maxlength"))&&$(this).closest("div.input_content").next().find("input.sub_content").focus();var t=$(this).closest("div.four_input_one_row"),n=t.find('input[name="card_number1"]').val()+t.find('input[name="card_number2"]').val()+t.find('input[name="card_number3"]').val()+t.find('input[name="card_number4"]').val();t.find('input[name="card_number"]').val(n)}),$(document).on("keydown","#wc-message-group-content div.four_input_one_row input.sub_content",function(e){8===(e.which||e.keyCode||e.charCode)&&0===$(this).val().length&&$(this).closest("div.input_content").prev().find("input.sub_content").focus()}),$(document).on("click",".chat-right .chat-body .upload_group button.file_select_btn:not(.disabled)",function(e){$(this).parents(".msg_group").find("input.file_input").click()}),$(document).on("change",".chat-right .chat-body .upload_group input.file_input",function(e){var t=$(".template_message"),n=$(this).parents(".msg_group"),i=$(this).attr("name"),a=n.find(".label_box");if(a.html(""),zn[i]=[],!T($(this).val())&&$(this)[0].files.length)$($(this)[0].files).each(function(e,n){if(!T(n.name)){zn[i].push(n);var r=t.find(".upload_template .upload_component .label_item:not(.no_file_select)").clone();r.find("a.label_text").html(ce(n.name));var o=t.find(".remove_box_template .remove_box").clone();r.append(o),a.append(r)}}),n.find("input.file_data").attr("value",null);else{var r=t.find(".message_type .upload_template .upload_component .no_file_select").clone();n.find(".label_box").append(r)}n.find("input.file_input").attr("value",null),n.find("input.file_data").val(""),n.find(".error").not(".not_remove").remove()}),$(document).on("click",".chat-right .chat-body .upload_group .label_item .remove_box:not(.disabled)",function(e){var t=$(this).parents(".chat-body").attr("data-message_id"),n=he(t).find(".chat-body").attr("data-b_position"),i=$(this).parents(".msg_group"),a=$(this).parents(".label_item"),r=i.find(".label_box .label_item").index(a),o=i.find("input.file_input"),s=i.find("input.file_data"),l=o.attr("name"),c=s.val();if(!T(r)){if(!T(c)&&Le(c)&&((c=JSON.parse(c)).splice(r,1),o.attr("value",JSON.stringify(c)),s.val(JSON.stringify(c)),V(t)),!T(zn[l])&&zn[l].length&&zn[l].splice(r,1),a.remove(),!i.find(".label_box .label_item").length){var d=$(".template_message");o.val("");var u=d.find(".message_type .upload_template .upload_component .no_file_select").clone();i.find(".label_box").append(u)}(function(e){if(!T(e)&&!isNaN(e)){var t={connect_page_id:Vt,user_id:Gt,position:e,question_count:$("#wc-message-group-content .chat-right").length};lt&&!T(st)&&(t.position=w(e),t.encrypt_key=st,t.encrypt_flg=lt),je("efo_user_send_position_update",t)}})(n),Z(t)}}),$(document).on("click",".chat-right .chat-body .box_upload_group button.file_select_btn:not(.disabled)",function(e){$(this).parents(".msg_group").find("input.file_input").click()}),$(document).on("change",".chat-right .chat-body .box_upload_group input.file_input",function(e){if(!qt){var t=$(this)[0],n=$(this).parent(".box_upload_group"),i=n.parent(".chat-body").data("message_id");BoxUploadFile.setUploadFile(n,t.files),V(i)}}),$(document).on("click",".chat-right .chat-body .box_upload_group .label_item .remove_box:not(.disabled)",function(e){var t=$(this).parents(".chat-body").attr("data-message_id");BoxUploadFile.handleRemoveFile($(this)),V(t)}),$(document).on("input change dp.change","#wc-message-group-content .calendar_group .calendar_period input",function(e){if(!$(this).parents(".calendar_container").hasClass(hi.validate_require)){var t=!0;$(this).parents(".calendar_container").find("input.content").each(function(e,n){T($(n).val())||(t=!1)}),t?$(this).parents(".calendar_container").find("input.content").removeClass(hi.validate_require):$(this).parents(".calendar_container").find("input.content").addClass(hi.validate_require)}if($(this).hasClass("start_time")){var n=$(this).attr("data-period_enable_start"),i=$(this).attr("data-period_enable_end"),a=$(this).parents(".calendar_period").find("input.end_time");T(n)||a.data("DateTimePicker").minDate(moment(e.date).add(parseInt(n),"days")),T(i)||a.data("DateTimePicker").maxDate(moment(e.date).add(parseInt(i),"days"))}}),$(document).on("click",".input-group-addon",function(e){$(this).parents(".input_content").find("input.content").length&&$(this).parents(".input_content").find("input.content").first().focus()}),$(document).on("dp.show","#wc-message-group-content .calendar_group .calendar_select input, #wc-message-group-content .calendar_group .calendar_period input",function(e){$(this).parents(".chat-right").css("z-index",2)}),$(document).on("dp.hide","#wc-message-group-content .calendar_group .calendar_select input, #wc-message-group-content .calendar_group .calendar_period input",function(e){$(this).parents(".chat-right").css("z-index",1)}),$(document).on("dp.show","#wc-message-group-content .calendar_group input",function(e){$(this).parent().find(".picker-switch").removeAttr("title").on("click",function(e){e.stopPropagation()}),$(this).hasClass("disable_prev_next")&&$(this).parent().find("th.prev, th.next").addClass("disabled"),($(this).parents(".calendar_select").length||$(this).parents(".calendar_period").length)&&On.focusEnableDay(e.target)}),$(document).on("click",".booking_calendar_group .previous_week",function(e){BookingCalendar.onButtonClick(e.target,BookingCalendar.TAG.PREVIOUS_WEEK)}),$(document).on("click",".booking_calendar_group .previous_month",function(e){BookingCalendar.onButtonClick(e.target,BookingCalendar.TAG.PREVIOUS_MONTH)}),$(document).on("click",".booking_calendar_group .next_week",function(e){BookingCalendar.onButtonClick(e.target,BookingCalendar.TAG.NEXT_WEEK)}),$(document).on("click",".booking_calendar_group .next_month",function(e){BookingCalendar.onButtonClick(e.target,BookingCalendar.TAG.NEXT_MONTH)}),$(document).on("click",".booking_calendar_group td.available",function(e){BookingCalendar.onTimeItemClicked(e.target),V($(e.target).parents(".chat-body").attr("data-message_id"))}),$(document).on("click",".chatview-container .cart_item .product_remove_box:not(.disabled)",function(e){Se($(this).parents(".cart_item").attr("data-product_code")),$(this).parents(".cart_preview_box").length&&$(this).parents(".cart_preview_box").focus()}),$(document).on("change",".chatview-container .cart_item .product_quantity_box input",function(e){var t=$(this).parents(".cart_item").attr("data-product_code"),n=$(this).val();if(!T(t)){T(n)||isNaN(n)||parseInt(n)<=0?$(this).val(1):$(this).val(Math.round(n));var i=parseInt($(this).val());if(i>0){var a={};a[oi.quantity]=i,Me(t,a)}}}),$(document).on("click",".number_input_box .incr-btn button:not(.disabled)",function(e){var t=$(this).parents(".number_input_box").find("input.content").not("[readonly]");if(t.length){var n=t.val(),i=T(t.attr("min"))?0:t.attr("min"),a=T(t.attr("max"))?null:t.attr("max"),r=1;if(null==a||isNaN(a)||(a=parseInt(a)),"increase"==$(this).data("action")?(r=parseInt(n)+1,null!=a&&r>a&&(r=a)):n>i&&(r=parseInt(n)-1),t.val(r),r>0&&$(this).parents(".cart_item").length){var o=$(this).parents(".cart_item").attr("data-product_code");if(!T(o)){var s={};s[oi.quantity]=r,Me(o,s)}}}e.preventDefault()}),$(document).on("change",".chat-right .chat-body .pulldown_c_stress .area_box select.content",function(e){We($(this).parents(".chat-body").data("message_id"))}),$(document).on("change",".chat-right .chat-body .pulldown_c_stress .city_box select.content",function(e){Ue($(this).parents(".chat-body").data("message_id"))}),$(document).on("change",".chat-right .chat-body .pulldown_c_station .area_box select.content",function(e){Ve($(this).parents(".chat-body").data("message_id"))}),$(document).on("change",".chat-right .chat-body .pulldown_c_station .line_box select.content",function(e){Ge($(this).parents(".chat-body").data("message_id"))}),$(document).on("select2:opening select2:closing",".chat-right .chat-body .pulldown_checkbox_container",function(e){if(yt){var t=$(this).parent().find(".select2-search__field");t.attr("disabled","disabled"),t.blur()}}),$(document).on("select2:unselect","select.select2-hidden-accessible",function(e){e.params.originalEvent&&e.params.originalEvent.stopPropagation()}),$(document).on("touchstart",function(e){var t=$(e.target);yt&&$("body > .select2-container").length&&!t.hasClass("select2-container")&&!t.parents(".select2-container").length&&H("close")}),$("#chat_modal").on("hide.bs.modal",function(e){$("#chat_modal").removeClass("clear_message_confirm"),$("body > .modal-backdrop").remove()}),$("#chat_modal").on("click",function(e){switch($("#chat_modal").attr("data-type")){case Bi.list_type.chatbox_close_confirm:("chat_modal"==$(e.target).attr("id")||$(e.target).hasClass("btn-cancel"))&&Ri.saveAnalytic({click_type:Ri.click_type.cancel})}}),$(document).on("select2:open",'#wc-message-group-content select.select2-hidden-accessible[data-has_open!="true"]',function(){var e=$(this);setTimeout(function(){var t=$(".select2-results__option[aria-selected=true]").outerHeight()*$(".select2-results__option[aria-selected=true]").index();$("#"+$(".select2-results__options").attr("id")).scrollTop(t),$(e).attr("data-has_open",!0)},1)}),"-1"!=Ji.host.indexOf("facebook.com")&&($t=!0,Si=!0,window.extAsyncInit=function(){Mi={from:"facebook_ref"==window.name?"facebook":"messenger"},$(".chat-header").remove(),$("body").addClass("fb_preview"),$(document).height()<420&&$("body").addClass("compact_height"),function(e){Si&&MessengerExtensions.getUserID(function(t){return"object"==typeof Mi&&(Mi.user_id=t.psid),e()},function(t,n){return e()})}(function(){a()})}),window.addEventListener&&(window.addEventListener("message",function(e){if(void 0!=e&&void 0!=e.data){if(e.data.refresh_conversation){e.data.g_preview_scenario_id&&(vt=e.data.g_preview_scenario_id,Jt=null,Xt=null,Kt=null);var t=0;return e.data.delay&&Number(e.data.delay)==e.data.delay&&Number(e.data.delay)>0&&(t=Number(e.data.delay)),void setTimeout(function(){qt=!1,I(),o()},t)}if(e.data.new_conversation_flg)o();else if(T(e.data.chatbox_show_status)){if(void 0!=e.data.cookie){if(!Yt){var n=e.data.cookie;void 0!=n.is_mobile&&n.is_mobile,void 0!=n[nn+"_"+Vt]&&(Gt=n[nn+"_"+Vt]),void 0!=n[on+"_"+Vt]&&(cn=g(cn,n[on+"_"+Vt])),void 0!=n[sn+"_"+Vt]&&(dn=g(dn,n[sn+"_"+Vt])),m(on),void 0!=n[an+"_"+Vt]&&(bi=n[an+"_"+Vt],Be()),void 0!=n[rn+"_"+Vt]&&Hi.checkCookie(n[rn+"_"+Vt]);var i=He();i||k({check_show_onload:1}),$t&&!i&&a(),xi=!0}}else if(void 0!=e.data.socket_open)Tt=!0,$t=!1,a();else if(void 0!=e.data.variable_setting){var r=e.data.variable_setting,s=[];Array.isArray(r)?s=r:s.push(r),s.forEach(function(e){"object"!=typeof e||T(e.variable_id)&&T(e.name)&&T(e.variable_name)||T(e.value)||(function(e){if(!T(e)){var t=e.value,n=void 0!=e.update_flg?e.update_flg:1,i=void 0!=e.reset_flg?e.reset_flg:0,a=void 0!=e.value_filter_by?e.value_filter_by:"label",r=!0,o={value:t,value_filter_by:a,update_flg:n,reset_flg:i};e.variable_id?o.variable_id=e.variable_id:o.variable_name=e.variable_name?e.variable_name:e.name,$.each(gi,function(e,t){return void 0!=o.variable_id&&t.variable_id==o.variable_id?(gi[e]=o,r=!1,!1):void 0!=o.variable_name&&t.variable_name==o.variable_name?(gi[e]=o,r=!1,!1):void 0}),r&&gi.push(o)}}(e),T(e.attribute_input)||function(e){try{if(!T(e.attribute_data)&&"object"==typeof e.attribute_data){var t=e.attribute_data;if(!T(t.variable_update)&&"object"==typeof t.variable_update){var n=t.variable_update,i="";if(!T(e.filter)&&"object"==typeof e.filter){var a,r=e.filter,o=T(r.data_value)?"":r.data_value;if($.each(n,function(e,t){"product_quantity"==t.name&&(pi[o]={quantity:t.value})}),T(r.variable_id)?T(r.variable_name)||(a=fe(r.variable_name,!0)):a=fe(r.variable_id),void 0!=a&&a.length&&o){var s=a[0],l=$(s).data("message_type").toString();switch(l){case wn.radio:i=$(s).find('input.option_input[type="radio"][data-value="'+o+'"]');break;case wn.product_purchase_radio_button:case wn.product_purchase:""!=(i=$(s).find('input.option_input[type="radio"][data-value="'+o+'"]'))&&i.length&&$.each(i,function(e,t){var i=$(t).attr("id");$.each(n,function(e,n){if("product_quantity"==n.name&&!T(n.value)&&!isNaN(n.value)){var a=null,r=parseInt(n.value);if($(t).parents(".product_item").length&&$(t).parents(".product_item").find(".product_quantity_box .input_content input").length){var o=$(t).parents(".product_item").find(".product_quantity_box .input_content input"),s=o.attr("max");T(s)||isNaN(s)||(a=parseInt(s)),(null==a||r<=a)&&o.val(n.value)}T(ui[i])||$.each(gi,function(e,t){void 0!=t.variable_name&&"product_code"==t.variable_name&&(null==a||r<=a)&&(ui[i].amount=r)})}})})}}}""!=i&&i.length&&$.each(t,function(e,t){""!=t&&("object"==typeof t&&(t=JSON.stringify(t)),i.attr("data-"+e,t))})}}}catch(e){}}(e.attribute_input))}),Ye()}else if(void 0!=e.data.client_radio_data){var l=e.data.client_radio_data;!T(l.variable_id)&&l.list.length&&(En.variable_id=l)}else if(void 0!=e.data.client_data&&"object"==typeof e.data.client_data){void 0!=e.data.client_data.same_browser_code&&e.data.client_data.same_browser_code&&(ln=e.data.client_data.same_browser_code);var c=e.data.client_data.referer_header;T(c)||(dn.user_referer_current=c,Yt?m(sn):xi&&m(sn)),e.data.client_data.url_location&&(Ji=e.data.client_data.url_location,$(ji).each(function(e,t){var n=S(t,Ji.href);T(n)||(cn["url_param_"+t]=n)}));var d="";window==window.parent?(d=S("ref"),$("body").addClass("is_window_parent")):d=S("ref",Ji.href),T(d)||(cn.url_param_ref=d),Yt&&(cn=g(cn,p(on+"_"+Vt)),dn=g(dn,p(sn+"_"+Vt)),m(on))}else if(void 0!=e.data.client_send_variable){var u=e.data.client_send_variable;"object"==typeof u&&u.length&&(Ni=u)}else if(void 0!=e.data.client_send_variable2){var _=e.data.client_send_variable2;"object"==typeof _&&_.length&&ze(_)}else if(void 0!=e.data.mouseup)$a=null,Ca=null;else if(void 0!=e.data.chatbox_hide_time)Hi.setCookie();else if(!T(e.data.from_btag_open_preview)&&2===Ft){var h=$(".chat-header img.header-image"),f=ct;void 0!=f.picture&&""!=f.picture?h.attr("src",f.picture):h.hide()}}else e.data.chatbox_show_status?($t=!0,(Yt||xi)&&a(),T(e.data.client_original_title)||(Ki=e.data.client_original_title)):($t&&!Ct&&(Ct=!0,je("efo_user_close_chatbox",{connect_page_id:Vt,user_id:Gt})),$t=!1),Mt!=St.leftward?$e($t):""==Bi.current_type&&Bi.modalHide();if(function(e){e&&e.data&&e.data.liff_user_id&&je("efo_client_send_liff_user_id",{user_id:Gt,connect_page_id:Vt,liff_user_id:e.data.liff_user_id,liff_user_display_name:e.data.liff_user_display_name})}(e),!qt&&void 0!=e.data.cart_action){var v=e.data.cart_action;if(void 0!=v.action_name&&void 0!=v.action_data){var y=v.action_data;switch(v.action_name){case"add":De(y);break;case"remove":Se(y[oi.id]);break;case"update":Me(y[oi.id],y)}}}}},!1),window.addEventListener("load",function(){var e=ct;if(e.status||($i=!0),e.error_message_setting&&e.error_message_setting.message&&1===e.error_message_setting.is_enabled&&k({errorMessageSetting:e.error_message_setting}),e.status){var t={};if(T(e.client_param_url)||"object"!=typeof e.client_param_url||(ji=e.client_param_url),T(e.efo_version)||(Ft=e.efo_version),T(e.bot_version)||(Nt=e.bot_version),T(e.server_url)||(gn=e.server_url).length&&"/"!=gn[gn.length-1]&&(gn+="/"),T(e.azure_storage_upload_url)||(Wn=e.azure_storage_upload_url),T(e.app_url)||(Un=e.app_url+"/captcha"),T(e.embed_azure_storage_url)||(ot=e.embed_azure_storage_url),T(e.cv_setting)||(fi=e.cv_setting,void 0!=e.tracking_cv_name_flg&&(fi.tracking_cv_name_flg=e.tracking_cv_name_flg)),T(e.cv_redirect_url)||(mi={url:e.cv_redirect_url,time_delay:T(e.cv_redirect_after_second)?3:e.cv_redirect_after_second}),T(e.cart_error_message)||Te(e.cart_error_message,$("#botchan-chat .cart_error_common_box"),"not_remove",!1,!1),T(e.log_not_save_flg)||1!=e.log_not_save_flg||(It=!1,!T(e.session_time)&&parseFloat(e.session_time)>0&&(Ht=parseFloat(e.session_time))),!T(e.custom_session_time)&&parseFloat(e.custom_session_time)>0&&(Ht=parseFloat(e.custom_session_time)),T(e.disable_flg)||1!=e.disable_flg||($i=!0),void 0!=e.restart_change_ref_flg&&(Ci=e.restart_change_ref_flg),void 0!=e.remessage_change_ref_flg&&(Ti=e.remessage_change_ref_flg),1==e.user_restart_convo_flg&&(qi++,$(".chat-header .message_clear_box").removeClass("hidden")),1==e.show_close_btn_flg&&(Pi=!0),1==e.katakana_not_space_flg&&(Tn.clear_space_flg=!0),1==e.katakana_convert_by_server_flg&&(Tn.convert_by_server_flg=!0),T(e.currency_code)||vn.setCode(e.currency_code),"object"==typeof e.conversation_setting){var n=e.conversation_setting;T(n.chatbox_close_confirm_flg)||1!=n.chatbox_close_confirm_flg||(Ri.status=!0,T(n.chatbox_close_confirm_data)||Ri.setData(n.chatbox_close_confirm_data)),T(n.mobile_back_by_url_hash)||0!=n.mobile_back_by_url_hash||(Wi.mobile_back_by_url_hash=!1),T(n.typing_show_avatar)||1!=n.typing_show_avatar||(Li.show_avatar_flg=!0),T(n.message_updating_confirm_flg)||1!=n.message_updating_confirm_flg||(_n.message_updating_confirm_flg=!0)}if(e.startup_popup_setting&&Yi.setData(e.startup_popup_setting),T(e.chatbox_hide_time)||window==window.parent||(qi++,Hi.init(e.chatbox_hide_time)),T(e.pulldown_default_flg)||Qn.setData(e.pulldown_default_flg),"object"==typeof e.client_custom_list&&e.client_custom_list.length&&(Fi=e.client_custom_list,Ke("jelly_bean")&&(hn=!0)),void 0!=e.client_send_variable&&"object"==typeof e.client_send_variable&&e.client_send_variable.length){var i="";$(e.client_send_variable).each(function(e,t){T(t.name)||T(t.client_name)||(i+="{name: '"+t.name+"', "+(void 0!=t.update_flg&&1==t.update_flg?"update_flg: 1, ":"")+"value: (typeof "+t.client_name+" != 'undefined') ? "+t.client_name+" : ''},")}),""!=i&&(t.script_run={content:"btag('event', 'client_send_variable', ["+i+"]);"})}if(void 0!=e.client_import_file&&"object"==typeof e.client_import_file&&e.client_import_file.length&&(t.client_import_file=e.client_import_file),Array.isArray(e.url_custom_scripts)&&(t.url_custom_scripts=e.url_custom_scripts),e.scroll_message_bottom_flg&&(Ii.scroll_message_bottom_flg=e.scroll_message_bottom_flg),e.scroll_message_bottom_delay_time&&(Ii.scroll_message_bottom_delay_time=e.scroll_message_bottom_delay_time),e.email_blacklist&&(pa.black_list=e.email_blacklist),"object"==typeof e.disconnect_redirect&&(Vi.disconnect_redirect=e.disconnect_redirect),T(e.bc_session_connect_flg)||1!=e.bc_session_connect_flg||(Gi.status=!0),Object.keys(t).length&&k(t),!T(e.liff_setting)){var r=e.liff_setting;"002"!=r.send_message||T(r.message_text)||(Di.message_text=r.message_text),T(r.liff_id)||(Di.liff_id=r.liff_id)}T(e.get_token_number)||(Zi.get_token_number=e.get_token_number),Zi.getData(e),T(e.setting)||yi&&(wi=!T(e.setting.cv_complete_time)&&!isNaN(e.setting.cv_complete_time)&&parseFloat(e.setting.cv_complete_time)>0?24*parseFloat(e.setting.cv_complete_time)*60:43200),function(e){"object"!=typeof liff||""==Di.liff_id?e(!1):liff.init({liffId:Di.liff_id}).then(function(){liff.getProfile().then(function(t){return Di.profile={user_id:void 0!=t.userId?t.userId:"",display_name:void 0!=t.displayName?t.displayName:"",picture_url:void 0!=t.pictureUrl?t.pictureUrl:"",status_message:void 0!=t.statusMessage?t.statusMessage:""},e(!0)}).catch(function(t){return e(!1)})}).catch(function(t){return e(!1)})}(function(t){t&&(Di.status=!0,Di.init(),$(".chat-header").remove(),$("body").addClass("line_liff"),T(e.liff_setting)||T(e.liff_setting.screen_size)||"compact"!=e.liff_setting.screen_size||$("body").addClass("compact_height"),a());var n=He();if(1!=yi)Yt?u(an+"_"+Vt,"",0):k({clear_cookie:[4]});else{if(Yt&&!n){k({check_show_onload:1})}Be()}n||$i||window!=window.parent&&T(en)||Di.status||Si||a()}),x(e)}if($i)return Re(),!1},!1),window.addEventListener("orientationchange",Ze),Ze()),$(window).resize(function(){$("body").hasClass("processing_open_close")||(clearTimeout(xa),xa=setTimeout(function(){var e=$("#wc-message-groups").find("input.autocomplete-open");e.length&&e.autocomplete("close")},200))})});var g_gmo_validate_payment_callback,callbackEpsilonToken=null,error_class="validation-failed";const gmoValidateGetTokenCallback=function(e){var t={success:!1};if(e&&e.resultCode){if("000"==e.resultCode&&void 0!=e.tokenObject&&void 0!=e.tokenObject.token)return t.success=!0,t.token=e.tokenObject.token,g_gmo_validate_payment_callback(t);t.resultCode=e.resultCode}return g_gmo_validate_payment_callback(t)};var arr_input_types,no_persist_list,no_persist_answers,g_input_types={text:"001",input:"002",textarea:"003",radio:"004",checkbox:"005",pulldown:"006",postal_code:"007",file:"008",calendar:"009",terms_of_use:"010",confirmation:"011",carousel:"012",card_payment:"013",captcha:"014",add_to_cart:"015",request_document:"016",product_purchase:"017",button_confirm:"019",pulldown_checkbox_stress:"111",pulldown_checkbox_station:"112",pin_code_auth_flg:"020"};!function(e){"use strict";function t(e){if(e){var t=e.token,i=e.folder_id,a=e.log_message_id,r={success:!0,data:[]},o=h('div[data-message_id="'+a+'"]').find(".box_upload_group");return h(o).each(function(e,a){var o=h(a).prop("uploaded_files"),c=[],d=h(a).attr("data-variable_id");if(!o||!o.length)return c=function(e){var t=h(e).find(".label_item[data-file_id]"),n=[];return h(t).each(function(e,t){n.push(h(t).attr("data-file_id"))}),n}(a),void r.data.push({variable_id:d,file_ids:c});if(!function(e){for(var t=0;t<e.length;t++)if(!e[t]||e[t].size>p)return!1;return!0}(o))return r.success=!1,!1;for(var u=0;u<o.length;u++){var _=o[u];if(!s(a,_.name)){var f=n(_,u,i,a,t);if(!f)return r.success=!1,!1;c.push(f)}}r.data.push({variable_id:d,file_ids:c}),function(e){l(e),h(e).prop("uploaded_files",[])}(a)}),r}}function n(e,t,n,a,r){var s=function(e,t,n){var i=t.split(".").pop();return h(e).attr("data-name_prefix")+"_"+(n+1)+"."+i}(a,e.name,t),l="",c=new FormData,d={name:s,parent:{id:n}};return c.append("file",e),c.append("attributes",JSON.stringify(d)),h.ajax({url:f,async:!1,type:"POST",processData:!1,contentType:!1,mimeTypes:"multipart/form-data",headers:{Authorization:"Bearer "+r},data:c,success:function(t){var n=t.entries&&t.entries[0]&&t.entries[0].id;o(a,e.name,n),l=n},error:function(t){var n=i(r,t,e);n&&(o(a,e.name,n),l=n)}}),l}function i(e,t,n){var i=t.responseJSON;if(i&&409===i.status&&"item_name_in_use"===i.code)return function(e,t,n){var i=new FormData,a={content_modified_at:moment().format("YYYY-MM-DDTHH:mm:ssZ")};i.append("attributes",JSON.stringify(a)),i.append("file",t);var r="";return h.ajax({url:m.replace(":file_id",n),async:!1,type:"POST",processData:!1,contentType:!1,mimeTypes:"multipart/form-data",headers:{Authorization:"Bearer "+e},data:i,success:function(){r=n}}),r}(e,n,i.context_info&&i.context_info.conflicts&&i.context_info.conflicts.id)}function a(e,t){var n=h(".template_message"),i=e.find(".label_box");if(i.html(""),t.length)for(var a=0;a<t.length;a++){var o=t[a],s=o.name,l=n.find(".upload_template .upload_component .label_item:not(.no_file_select)").clone();l.find("a.label_text").html(r(s||"")),l.attr("data-original_file_name",s),o.size&&l.attr("data-file_size",o.size),o.id&&l.attr("data-file_id",o.id);var c=n.find(".remove_box_template .remove_box").clone();l.append(c),i.append(l)}else{var d=n.find(".message_type .upload_template .upload_component .no_file_select").clone();i.append(d)}}function r(e){if(e.length<_)return e;var t=e.split(".").pop();return e.replace(new RegExp("."+t+"$"),"").substring(0,_-t.length)+"..."+t}function o(e,t,n){var i=h(e).find('.label_item[data-original_file_name="'+t+'"]');i&&i.attr("data-file_id",n)}function s(e,t){var n=h(e).attr("data-file_remove_before_upload");return n&&n.includes(t)}function l(e){var t=h(e).find("input:file.file_input");h(t).val("")}var c,d,u={},p=5e7,_=26,h=void 0!==typeof e&&(e.jQuery||e.Zepto),f="https://upload.box.com/api/2.0/files/content",m="https://upload.box.com/api/2.0/files/:file_id/content";u.init=function(e){c=e.g_file_upload_all_type_list,d=e.g_validate_types,e.g_connect_page_id},u.setGlobalValue=function(e){e.g_user_id},u.createChatMessage=function(e,t,n,i){var a=h(".template_message").find(".message_type .box_upload_template .box_upload_component .no_file_select").clone();e.find(".label_box").append(a),e.attr("data-name_prefix",t+"_"+i);var r=c;return Array.isArray(n.file_type)&&n.file_type.length&&(r=n.file_type),e.attr("data-validate_types",r.join(",")),e.attr("data-msg_index",i),n.required_flg&&e.find("input.file_input").addClass(d.validate_require),1===n.upload_multiple_flg&&e.find("input.file_input").attr("multiple","multiple"),e},u.upload=function(e){var n=e.log_message_id,i=t(e);return function(e){var t=h('.chat-body[data-message_id="'+e+'"]');h(t).find(".loading").addClass("hidden"),h(t).find(".file_select_btn").removeClass("disabled")}(n),i},u.showUploadingFile=function(e){var t=h('.chat-body[data-message_id="'+e+'"]');t.find(".box_upload_group .loading").last().removeClass("hidden"),t.find(".box_upload_group .file_select_btn").addClass("disabled")},u.setUploadFile=function(e,t){(function(e,t){var n=h(e).attr("data-file_remove_before_upload");if(n){for(var i="(",a=0;a<t.length;a++)i+=a===t.length-1?t[a].name:t[a].name+"|";var r=new RegExp(i+"),?","g");n=n.replace(r,""),h(e).attr("data-file_remove_before_upload",n)}})(e,t),a(e,t),e.prop("uploaded_files",h.extend({},t)),function(e){h(e).find("label.error").text(""),h(e).parent().find("label.error").text("")}(e)},u.handleRemoveFile=function(e){var t=e.parents(".label_item"),n=h(t).parents(".box_upload_group"),i=t.attr("data-file_id"),a=t.attr("data-original_file_name"),r=h(n).attr("data-file_remove_before_upload");i||(r=r?r+","+a:a),h(n).attr("data-file_remove_before_upload",r),l(n),t.remove(),n.find(".label_item").length||function(e){var t=h(".template_message").find(".message_type .box_upload_template .box_upload_component .no_file_select").clone();e.find(".label_box").append(t)}(n)},u.getAnswer=function(e,t){for(var n=h(e).find(".label_item[data-original_file_name][data-file_id]"),i=[],a=0;a<n.length;a++){var r=n[a];i.push({name:h(r).attr("data-original_file_name"),id:h(r).attr("data-file_id")})}t.answer.push(i)},u.setAnswer=function(e,t){a(e,t)},u.validate=function(e,t){var n=h(e).parents(".box_upload_group"),i=h(n).find(".label_item:not(.no_file_select)"),a=n.attr("data-validate_types"),r=function(e){if(!e)return".+";for(var t=".+(",n=0;n<e.length;n++)n>0&&(t+="|"),t+="\\."+e[n];return new RegExp(t+")$","i")}(a.split(","));t.size=p+"",t.type=a.replace(/,/g,", ");for(var o=0;o<i.length;o++){var s=i[o];if(!r.test(h(s).attr("data-original_file_name"))||p<Number(h(s).attr("data-file_size")))return!1}return!0},u.fillLanguage=function(e){var t=h("#botchan-chat");e.select_file&&t.find(".template_message .box_upload_template button.file_select_btn").html(e.select_file),e.uploading&&t.find(".template_message .box_upload_template .loading span").html(e.uploading),e.no_file_select&&t.find(".template_message .box_upload_template .no_file_select .label_text").html(e.no_file_select)},e.BoxUploadFile=u}("object"==typeof window?window:this);var churnPreventionMessageType="008",churnRequestMessageType="211",botMessageType=2,g_card_payment_with_radio_type={default:"001",custom_type:"002",image_radio:"003"},g_card_payment_with_radio={};!function(e){function t(e,t,i){var a=n(e,t,i);a&&a.length>0&&(a.prop("selected",!0),function(e){var t=e.find(".select_month_box select").first();if(t){var n=t.find('option[value="1"]');n.length>0&&n.prop("selected",!0)}}(e),function(e){var t=e.find(".select_day_box select").first();if(t)for(var n=e.find(".select_year_box select option:selected").text(),i=e.find(".select_month_box select option:selected").text(),a=new Date(n,i,0).getDate(),r=1;r<=a;r++){var o=r<10?"0"+r:r,s='<option value="'+r+'">'+o+"</option>";t.append(s)}}(e),function(e){var t=e.find(".select_day_box select").first();if(t){var n=t.find('option[value="1"]');n.length>0&&n.prop("selected",!0)}}(e))}function n(e,t,n){var i=e.find(".select_year_box select").first();if(i)return n===a.birthday_ynj?function(e,t){return e.find('option[value="'+t+'"]').first()}(i,t):function(e,t){return e.find("option").filter(function(){return $(this).text()===t}).first()}(i,t)}var i={},a={birthday_ynj:"012",birthday_ynj_2:"013"},r="validate-required";i.isBirthdayYNJType=function(e){return Object.values(a).includes(e)},i.setDefaultValueAndRequiredValidation=function(e,n,i){t(e,i,n),function(e){e.find("select").addClass(r)}(e)},void 0!==e&&(e.YNJDatePulldown=i)}("object"==typeof window?window:this);var g_product_purchase_radio_button_type={thumbnail_text:"001",image_text:"002"},g_product_purchase_radio_button={},g_product_purchase_radio_button_data=[],g_product_purchase_radio_button_data_init=[];!function(e){"use strict";var t,n="undefined",i="0",a="◯",r="×",o="available",s="unavailable",l=["日","月","火","水","木","金","土"],c={NEXT_MONTH:"next_month",NEXT_WEEK:"next_week",PREVIOUS_MONTH:"previous_month",PREVIOUS_WEEK:"previous_week"},d="YYYY-MM-DD",u="HH:mm",p="001",_="002",h=typeof e!==n&&(e.jQuery||e.Zepto),f={};f.TAG=c,f.setGlobalValues=function(e){t=e},f.createMessage=function(e,t,n){m(e,n);var i=t.find(".message_type .booking_calendar_template .input_box").clone();e.find(".booking_calendar_container").append(i);var a=t.find(".select_booking_calendar").clone();i.append(a);var r=e.find("input.content").first();if(r.attr("data-template_type",n.template_type),n.template_type==p){var o=n.start_time?n.start_time:"",s=n.end_time?n.end_time:"",l=n.interval_time?n.interval_time:"",c=n.interval_time_by?n.interval_time_by:"",d=n.unavailable_time?n.unavailable_time:"",u=n.disable_dates?n.disable_dates:"";g(r,n,o,s,l,c,d,u)}else h(r).data("date_time",n.option_date_time),r.attr("data-api_id",n.api_id);v(e,n),y(a),j(e,n)};var m=function(e,n){var i=e.find(".title");if(n.title||n.required_flg)if(n.required_flg){var a=n.required_text?t.replace(/(>.*<)/,">"+n.required_text+"<"):t;i.html(n.title+a)}else i.html(n.title);else i.remove()},g=function(e,t,n,i,a,r,o,s){e.attr("data-start_date",t.start_date),e.attr("data-end_date",t.end_date),e.attr("data-enable_start",t.enable_start),e.attr("data-enable_end",t.enable_end),e.attr("data-start_time",n),e.attr("data-end_time",i),e.attr("data-inteval_time",a),e.attr("data-interval_time_by",r),e.attr("data-unavailable_time",o),e.attr("data-disabled_date",s)},v=function(e,t){t.required_flg&&e.find(".booking_calendar_container").addClass("validate-require")},y=function(e,t){if(e){e.innerHTML="";var n=b(e,t);e.append(n)}},b=function(e,t){var n=N(e);if(n){var i=h(n).attr("data-template_type"),a=h(n).data("active"),r=i==_?w(n,t,a):k(n,t,a);if(r&&r.length){var o=document.createElement("table");h(o).addClass("calendar_table"),O(o,r[0]);for(var s=1;s<r.length;s++)P(o,r[s]);return o}}},w=function(e,t,n){var i=h(e).data("date_time");if($(i)){var a=i.timeheader,r=i.datetime,o=t||r[0].date,s=D(o);if(s){for(var l=[s],c=0;c<a.length;c++){var d=[],u=a[c];d.push({text:u,data:u.replace("〜","")});for(var p=1;p<s.length;p++){var _=x(s[p].data,u,r,n);d.push(_)}l.push(d)}return l}}},x=function(e,t,n,i){var a=e+" "+t.replace("〜",":00"),r={text:"",class:"date_time ",data:a},o=n.find(function(t){return t.date===e});if(o&&o.time){var s=o.time.find(function(e){return e.value===a});s?(r.class+=s.mode,r.text=s.text):r.class+="no_data"}else r.class+="no_data";return i&&i===a&&(r.class+=" active"),r},k=function(e,t,n){if(e){var i=h(e).attr("data-start_date"),a=h(e).attr("data-end_date"),r=h(e).attr("data-enable_start"),o=h(e).attr("data-enable_end"),s=h(e).attr("data-start_time"),l=h(e).attr("data-end_time"),c=h(e).attr("data-inteval_time"),u=h(e).attr("data-interval_time_by"),p=h(e).attr("data-unavailable_time"),_=h(e).attr("data-disabled_date");i=C(i,r),a=T(a,o);var f=t||moment().format(d),m=D(f);if(m){var g=[];g.push(m);for(var v=S(s,l,c,u),y=0;y<v.length;y++){var b=[];b.push({text:v[y]+"〜",data:v[y]+":00"});for(var w=1;w<m.length;w++){var x=A(m[w].data,v[y],i,a,p,_,n);b.push(x)}g.push(b)}return g}}},$=function(e){return e&&e.datetime&&e.datetime.length&&e.timeheader&&e.timeheader.length},C=function(e,t){return t&&(t=F(t),!e||e<t)?t:e},T=function(e,t){return t&&(t=F(t),!e||e>t)?t:e},D=function(e){if(e){var t=M(e);if(t){var n=t.columnTitle,i=t.days;if(n&&i){for(var a=[{}],r=0;r<i.length;r++)a.push({class:"column_title",text:n[r],data:i[r]});return a}}}},S=function(e,t,n,a){e=e?moment(e,u):moment().startOf("day"),t=t?moment(t,u):moment().endOf("day");for(var r=[];e.isBefore(t);)r.push(e.format(u)),e=a==i?e.add(n,"hours"):e.add(n,"minutes");return r},M=function(e){if(e){var t=new Date(e).getDay(),n=l.slice(t,l.length).concat(l.slice(0,t)),i=[],a=E(e);if(a.length===n.length)for(var r=0;r<a.length;r++)i.push(a[r].format("MM/DD")+" ("+n[r]+")"),a[r]=a[r].format(d);return{columnTitle:i,days:a}}},E=function(e){for(var t=[],n=0;n<7;n++)t.push(moment(e).add(n,"days"));return t},A=function(e,t,n,i,l,c,d){if(e&&t){var u=e+" "+t+":00",p={data:u,class:"date_time ",text:""};return function(e,t,n){return(!e||n>=e)&&(!t||n<=t)}(n,i,e)?function(e,t,n,i){return e&&e.includes(t)||n&&n.includes(i)}(l,t,c,e)?(p.class+=s,p.text=r):(p.class+=o,p.text=a):p.class+=" no_data",u===d&&(p.class+=" active"),p}},O=function(e,t){if(e&&t&&t.length)for(var n=e.insertRow(-1),i=0;i<t.length;i++){var a=t[i],r=document.createElement("th");n.appendChild(r),i>0&&(r.innerHTML=a.text,h(r).addClass(a.class),h(r).data("date",a.data)),q(r,a.data)}},P=function(e,t){if(e&&t&&t.length)for(var n=e.insertRow(-1),i=0;i<t.length;i++){var a=t[i],r=n.insertCell(-1);r.innerHTML=a.text,h(r).addClass(a.class),0==i?h(r).data("interval_time",a.data):h(r).data("date_time",a.data)}},q=function(e,t){if(e&&t){var n={saturday:6,sunday:0};(t=new Date(t).getDay())==n.saturday?h(e).addClass("saturday"):t==n.sunday&&h(e).addClass("sunday")}},j=function(e,t){e&&t&&t.answer&&h(e).find(".calendar_table .date_time").each(function(e,n){if(h(n).data("date_time")===t.answer){var i=N(n);i&&h(i).val(t.answer),h(n).addClass("active"),h(n).closest(".booking_calendar_container").addClass("checked")}})},N=function(e){if(e)return h(e).closest(".booking_calendar_container").find("input.content").first()},F=function(e){return moment().add(e,"d").format("YYYY-MM-DD")};f.onButtonClick=function(e,t){L(h(e).closest(".booking_calendar_container").find(".select_booking_calendar"),t)};var L=function(e,t){if(e){var n=function(e,t){if(e&&t){var n=h(e).data("date");switch(t){case c.NEXT_MONTH:return moment(n).add(28,"days");case c.NEXT_WEEK:return moment(n).add(7,"days");case c.PREVIOUS_MONTH:return moment(n).subtract(28,"days");case c.PREVIOUS_WEEK:return moment(n).subtract(7,"days");default:return}}}(h(e).find(".column_title")[0],t);h(e).children(".calendar_table").remove(),y(e,n)}};f.getAnswer=function(e,t){var n=h(e).find("input.content").first(),i=h(n).data("active");i?t.answer.push(i):t.answer.push("")},f.setAnswer=function(e,t){var n=h(e).find("input.content");n&&(h(n).val(t),h(n).data("active",t),h(n).closest(".booking_calendar_container").addClass("checked")),t.each(function(t,n){h(e).find(".date_time").find(function(e){h(e).data("date_time"==n)&&h(e).addClass("active")})})},f.onTimeItemClicked=function(e){if(e){var t=h(e).closest(".booking_calendar_container"),n=N(t);n&&h(n).data("active",h(e).data("date_time"));var i=t.find("td.available.active").first();i!=e&&(h(i).removeClass("active"),h(e).addClass("active")),t.addClass("checked")}},typeof e!==n&&(e.BookingCalendar=f)}("object"==typeof window?window:this),function(e){Calendar={},Calendar.init=function(e){Calendar.globalLang=e},Calendar.handleAPIError=function(e,t,n,i){if(e.is_api_error){t.find(".calendar_container").addClass("api_error");var a=function(e){return e.error_message||Calendar.globalLang.getByCode("no_results_found","No results found")}(e);i("save_conversation_error_log",{log_message_id:n,error_message:a}),function(e,t){$(t).find(".not_remove").remove();var n=$("<label></label>",{class:"error not_remove",style:"padding-top: 5px",text:e});t.append(n)}(a,t),function(e,t){if(t.required_flg){var n=$("<input></input>",{type:"text",class:"validate-require content hide"});e.append(n)}}(t,e)}},void 0===e.Calendar&&(e.Calendar={})}("object"==typeof window?window:this);const provider_list={ze_us:"002",gmo_pg:"004"};